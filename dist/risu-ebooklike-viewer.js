//@name risu-ebooklike-viewer
//@display-name risu-ebooklike-viewer_v0.2.0
//@version 0.2.0
//@description EBook like viewer for RISU AI
//@arg arg1 string
//@arg arg2 int
//@dev-server-port 13131
//@link https://unpkg.com/risu-ebooklike-viewer@0.2.0/dist/risu-ebooklike-viewer.js
!function(){"use strict";try{if("undefined"!=typeof document){var e=document.createElement("style");e.appendChild(document.createTextNode('@import"https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css";@import"//fonts.googleapis.com/earlyaccess/notosanskr.css";.burger-menu{z-index:10}.censored-image-container{position:relative;display:inline-block}.censored-overlay{position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer;z-index:10;background-size:cover;background-position:center;background-repeat:no-repeat;transition:all 1s cubic-bezier(.25,.46,.45,.94)}.censored-overlay.vanished{opacity:0;transform:scale(1.5) rotate(10deg);filter:blur(20px) grayscale(100%);pointer-events:none}.update-dialog-module__udRoot--bWc9J{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483646;display:grid;place-items:center;background:#0006;padding:16px}.update-dialog-module__udCard---wy8T{width:min(520px,100%);max-height:90vh;border-radius:16px;padding:20px;background:var(--bg, #111);color:var(--fg, #eaeaea);box-shadow:0 10px 30px #00000059;transform:scale(.97);animation:update-dialog-module__udPop--0Vb0B .16s ease-out forwards;overflow-y:auto}.update-dialog-module__udTitle--5imsi{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}.update-dialog-module__udTitle--5imsi h3{margin:0;font-size:18px;font-weight:700;word-break:break-word;flex:1 1 auto;min-width:0}.update-dialog-module__udPill--leinK{font:12px/1.8 system-ui;padding:0 8px;border-radius:999px;background:#2a2a2a;color:#cfcfcf;white-space:nowrap;flex-shrink:0}.update-dialog-module__udSub--zfs1y{margin:8px 0 12px;color:#9aa0a6;font:13px/1.5 system-ui;word-break:break-word}.update-dialog-module__udList--jnFg8{margin:10px 0 16px;padding-left:18px;max-height:180px;overflow-y:auto;overflow-x:hidden}.update-dialog-module__udList--jnFg8 li{margin:6px 0;word-break:break-word;overflow-wrap:break-word}.update-dialog-module__udFeat--MSXJY::marker{content:"âœ¨ "}.update-dialog-module__udFix--18UZ3::marker{content:"ðŸ”§ "}.update-dialog-module__udPerf--bRifN::marker{content:"âš¡ "}.update-dialog-module__udBreak--jl-Bf::marker{content:"âš ï¸ "}.update-dialog-module__udActions--5tqy2{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.update-dialog-module__udBtn--IHB-y{border:0;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;white-space:nowrap;flex:0 1 auto}.update-dialog-module__udBtnPrimary--ZlLFd{border:0;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;background:#4f7cff;color:#fff;white-space:nowrap;flex:0 1 auto}.update-dialog-module__udBtnGhost--Ly-cb{border:0;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;background:transparent;color:#cfcfcf;white-space:nowrap;flex:0 1 auto}.update-dialog-module__udBtn--IHB-y:hover,.update-dialog-module__udBtnPrimary--ZlLFd:hover,.update-dialog-module__udBtnGhost--Ly-cb:hover{filter:brightness(1.05)}@media(max-width:480px){.update-dialog-module__udCard---wy8T{padding:16px;border-radius:12px}.update-dialog-module__udTitle--5imsi{gap:8px}.update-dialog-module__udTitle--5imsi h3{font-size:16px}.update-dialog-module__udPill--leinK{font-size:11px;padding:0 6px}.update-dialog-module__udSub--zfs1y{font-size:12px;margin:6px 0 10px}.update-dialog-module__udList--jnFg8{font-size:14px;max-height:150px;padding-left:16px}.update-dialog-module__udList--jnFg8 li{margin:5px 0;line-height:1.5}.update-dialog-module__udActions--5tqy2{flex-direction:column;gap:8px}.update-dialog-module__udBtn--IHB-y,.update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udBtnGhost--Ly-cb{width:100%;padding:11px 16px;font-size:14px}}@media(min-width:481px)and (max-width:600px){.update-dialog-module__udCard---wy8T{padding:18px}.update-dialog-module__udActions--5tqy2{gap:6px}.update-dialog-module__udBtn--IHB-y,.update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udBtnGhost--Ly-cb{padding:9px 11px;font-size:13px}}@media(prefers-color-scheme:light){:root{--bg: #fff;--fg: #111}.update-dialog-module__udCard---wy8T{background:#fff;color:#111}.update-dialog-module__udPill--leinK{background:#eef2ff;color:#1f3fb3}.update-dialog-module__udSub--zfs1y{color:#4b5563}}@media(prefers-reduced-motion:reduce){.update-dialog-module__udCard---wy8T{animation:none;transform:none}}@keyframes update-dialog-module__udPop--0Vb0B{to{transform:scale(1)}}.update-dialog-module__udAlert--GJ6WI{max-width:420px;text-align:center}.update-dialog-module__udAlertMessage--nJfX4{margin:16px 0 20px;font-size:16px;line-height:1.6;color:var(--fg, #eaeaea);white-space:pre-line;word-break:break-word}.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udActions--5tqy2{justify-content:center}.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtn--IHB-y,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnGhost--Ly-cb{min-width:120px}@media(max-width:480px){.update-dialog-module__udAlert--GJ6WI{max-width:100%}.update-dialog-module__udAlertMessage--nJfX4{font-size:15px;margin:12px 0 16px}.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtn--IHB-y,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnGhost--Ly-cb{min-width:100px;padding:11px 16px}}@media(prefers-color-scheme:light){.update-dialog-module__udAlertMessage--nJfX4{color:var(--fg, #111)}}.update-dialog-module__udLoading----KQf{max-width:320px;text-align:center;padding:32px 24px}.update-dialog-module__udLoadingSpinner--0OgBH{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.update-dialog-module__udLoadingSvg--k5e0b{width:50px;height:50px;animation:update-dialog-module__udRotate--gve2C 1.4s linear infinite}.update-dialog-module__udLoadingCircle--Q78XG{stroke:#4f7cff;stroke-linecap:round;animation:update-dialog-module__udDash--TGdW5 1.4s ease-in-out infinite}.update-dialog-module__udLoadingMessage---UM99{font-size:15px;line-height:1.6;color:var(--fg, #eaeaea);font-weight:500;word-break:break-word}@media(max-width:480px){.update-dialog-module__udLoading----KQf{max-width:100%;padding:28px 20px}.update-dialog-module__udLoadingSpinner--0OgBH{margin-bottom:16px}.update-dialog-module__udLoadingSvg--k5e0b{width:44px;height:44px}.update-dialog-module__udLoadingMessage---UM99{font-size:14px}}@keyframes update-dialog-module__udRotate--gve2C{to{transform:rotate(360deg)}}@keyframes update-dialog-module__udDash--TGdW5{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@media(prefers-color-scheme:light){.update-dialog-module__udLoadingMessage---UM99{color:var(--fg, #111)}}@media(prefers-reduced-motion:reduce){.update-dialog-module__udLoadingSvg--k5e0b{animation:none}.update-dialog-module__udLoadingCircle--Q78XG{animation:none;stroke-dasharray:90,150}}@font-face{font-family:ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤;src:url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.eot);src:url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.eot?#iefix) format("embedded-opentype"),url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.woff) format("woff"),url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:ì—ìŠ¤ì½”ì–´ë“œë¦¼;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/S-CoreDream-3Light.woff) format("woff")}@font-face{font-family:ë ˆíŽ˜ë¦¬í¬ì¸íŠ¸;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/LeferiPoint-WhiteObliqueA.woff) format("woff")}@font-face{font-family:í”Œë ‰ìŠ¤;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/IBMPlexSansKR-Regular.woff) format("woff")}@font-face{font-family:ìŠ¤ìœ„íŠ¸;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/SUITE-Regular.woff2) format("woff2")}@font-face{font-family:ì˜¤ë¥´ë¹—;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2310@1.0/Orbit-Regular.woff2) format("woff2")}@font-face{font-family:ìŠ¤ì¿¨ì˜¤ë¥´ë¹—;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2307-2@1.0/HakgyoansimWoojuR.woff2) format("woff2")}@font-face{font-family:í”„ë¦¬í‹°ë‚˜ìž‡;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.1/Cafe24Oneprettynight.woff) format("woff")}@font-face{font-family:ì„œë¼ìš´ë“œì—ì–´;src:url(https://gcore.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24SsurroundAir.woff) format("woff")}@font-face{font-family:ê³ ìš´ë‹ì›€;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunDodum-Regular.woff) format("woff")}@font-face{font-family:ê³ ìš´ë°”íƒ•;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunBatang-Regular.woff) format("woff")}@font-face{font-family:ë¦¬ë””ë°”íƒ•;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff) format("woff")}@font-face{font-family:ë§ˆë£¨ë¶€ë¦¬;src:url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.eot);src:url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.eot?#iefix) format("embedded-opentype"),url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.woff2) format("woff2"),url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.woff) format("woff"),url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.ttf) format("truetype")}@font-face{font-family:ë„ìŠ¤ê³ ë”•;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_eight@1.0/DOSGothic.woff) format("woff")}@font-face{font-family:ìŠ¤íƒ€ë”ìŠ¤íŠ¸;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/PFStardust.woff) format("woff")}@font-face{font-family:í”½ì‹œë“œì‹œìŠ¤;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/DungGeunMo.woff) format("woff")}@font-face{font-family:ë„¤ì˜¤ë‘¥ê·¼ëª¨;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.3/NeoDunggeunmo.woff) format("woff")}@media screen and (max-width:768px){.risu-chat>div{padding:unset!important;overflow-x:unset!important}}.mobile-reader code{word-break:break-word}.mobile-reader{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;background:linear-gradient(135deg,var(--mv-bg-gradient-start) 0%,var(--mv-bg-gradient-end) 100%);z-index:5;font-family:var(--mv-font-family);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;--mv-bg-gradient-start: #1a1f35;--mv-bg-gradient-end: #2d3654;--mv-page-color: #fdfbf7;--mv-text-color: #2c2c2c;--mv-text-secondary: #6b6b6b;--mv-header-bg: rgba(26, 31, 53, .97);--mv-footer-bg: rgba(253, 251, 247, .98);--mv-accent-color: #c9a66b;--mv-accent-light: rgba(201, 166, 107, .15);--mv-border-color: rgba(201, 166, 107, .2);--mv-shadow-soft: 0 2px 12px rgba(0, 0, 0, .08);--mv-shadow-medium: 0 4px 24px rgba(0, 0, 0, .12);--mv-shadow-glow: 0 0 20px rgba(201, 166, 107, .15);--mv-font-size: 17px;--mv-line-height: 1.85;--mv-font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;--mv-font-serif: "Noto Serif KR", "Crimson Text", "Georgia", serif;--mv-transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--mv-transition-smooth: .3s cubic-bezier(.4, 0, .2, 1)}.mobile-reader .reader-header{display:flex;flex-direction:column;background:var(--mv-header-bg);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border-bottom:1px solid var(--mv-border-color);z-index:5;flex-shrink:0}.mobile-reader .header-row{display:flex;align-items:center;padding:0 12px}.mobile-reader .header-row-top{justify-content:space-between;padding-top:10px;padding-bottom:6px}.mobile-reader .header-row-bottom{justify-content:space-between;padding-top:4px;padding-bottom:10px;border-top:1px solid rgba(255,255,255,.06)}.mobile-reader .header-btn{background:none;border:none;color:#ffffffd9;padding:8px;cursor:pointer;border-radius:10px;transition:all var(--mv-transition-fast);display:flex;align-items:center;justify-content:center;flex-shrink:0;min-width:44px;min-height:44px}.mobile-reader .header-btn:active{background:#c9a66b33;color:var(--mv-accent-color);transform:scale(.95)}.mobile-reader .header-btn svg{width:20px;height:20px}.mobile-reader .header-bot-info{display:flex;align-items:center;gap:10px;flex:1;min-width:0;justify-content:center}.mobile-reader .header-thumbnail{width:32px;height:32px;min-width:32px;border-radius:8px;background-size:cover;background-position:center;background-color:#ffffff1a;box-shadow:0 2px 6px #0003}.mobile-reader .header-bot-name{font-size:14px;font-weight:600;color:var(--mv-accent-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:180px}.mobile-reader .header-action-buttons{display:flex;align-items:center;gap:2px}.mobile-reader .header-action-buttons button{background:none;border:none;padding:6px;cursor:pointer;color:#fff9;border-radius:8px;transition:all var(--mv-transition-fast);display:flex;align-items:center;justify-content:center;min-width:36px;min-height:36px}.mobile-reader .header-action-buttons button:active{background:#c9a66b33;color:var(--mv-accent-color)}.mobile-reader .header-action-buttons button svg{width:18px;height:18px}.mobile-reader .header-chat-index{font-size:12px;font-weight:500;color:#fff9;background:#ffffff14;padding:4px 10px;border-radius:10px}.mobile-reader .header-right-group{display:flex;align-items:center;gap:8px}.mobile-reader .header-toggle-btn{background:#ffffff1a;border:1px solid rgba(255,255,255,.2);color:var(--mv-accent-color);padding:4px 10px;font-size:11px;font-weight:700;border-radius:8px;cursor:pointer;transition:all var(--mv-transition-fast);min-height:32px}.mobile-reader .header-toggle-btn:active{background:var(--mv-accent-color);color:#fff;transform:scale(.95)}.mobile-reader .page-container{flex:1;overflow-y:auto;position:relative;background:var(--mv-page-color, #fdfbf7);margin:10px;box-shadow:var(--mv-shadow-medium, 0 4px 24px rgba(0, 0, 0, .12)),var(--mv-shadow-glow, 0 0 20px rgba(201, 166, 107, .15));touch-action:pan-y}.mobile-reader .page-container:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:url("data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noise\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.9\' numOctaves=\'4\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noise)\' opacity=\'0.02\'/%3E%3C/svg%3E");pointer-events:none;z-index:1}.mobile-reader .page-content>.chattext [class*=-image-wrapper]{max-height:100%}.mobile-reader .page-content>.chattext [class*=-image-container]{min-height:98%;max-height:100%;background-size:contain;background-position:center;background-repeat:no-repeat;height:-webkit-fill-available;width:-webkit-fill-available}.mobile-reader .page-content>.x-risu-image-cell{aspect-ratio:auto}.mobile-reader .page-content{width:100%;height:100%;display:flex;flex-direction:column;padding:28px 24px;position:relative;z-index:2}.mobile-reader .text-content{flex:1;font-size:var(--mv-font-size, 17px);line-height:var(--mv-line-height, 1.85);font-family:var(--mv-font-family, "Pretendard", sans-serif);color:var(--mv-text-color, #2c2c2c);word-break:keep-all;letter-spacing:-.01em;overflow-y:auto}.mobile-reader .text-content :global(p){margin-bottom:.6em}.mobile-reader .text-content :global(p:first-child){text-indent:0}.mobile-reader .text-content :global(h1),.mobile-reader .text-content :global(h2),.mobile-reader .text-content :global(h3){margin:1.8em 0 .8em;text-indent:0;font-weight:600;color:#1a1a1a;letter-spacing:-.02em}.mobile-reader .text-content :global(h1){font-size:1.6em;border-bottom:2px solid var(--mv-accent-color, #c9a66b);padding-bottom:.4em}.mobile-reader .text-content :global(mark){background:linear-gradient(120deg,#c9a66b33,#c9a66b4d);color:inherit;padding:.1em .2em;border-radius:3px}.mobile-reader .text-content :global(img){max-width:100%;height:auto;margin:1.2em 0;border-radius:8px;box-shadow:var(--mv-shadow-soft, 0 2px 12px rgba(0, 0, 0, .08))}.mobile-reader .page-number{position:absolute;bottom:12px;right:16px;font-size:11px;color:var(--mv-text-secondary, #6b6b6b);opacity:.6;z-index:3}@media(min-width:600px)and (orientation:landscape){.mobile-reader .page-container{margin:12px 20px}.mobile-reader .page-content{padding:36px 48px}.mobile-reader .text-content{max-width:720px;margin:0 auto;font-size:18px}}@media(min-width:768px){.mobile-reader .page-container{margin:16px 24px}.mobile-reader .page-content{padding:40px 56px}.mobile-reader .text-content{max-width:800px;font-size:18px;line-height:1.9}}.mobile-reader .touch-area{position:absolute;top:0;bottom:0;width:10%;z-index:50}.mobile-reader .touch-left{left:0}.mobile-reader .touch-right{right:0}.mobile-reader .reader-footer{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--mv-footer-bg, rgba(253, 251, 247, .98));backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border-top:1px solid rgba(201,166,107,.12);gap:12px;flex-shrink:0}.mobile-reader .nav-btn{background:#c9a66b14;border:1px solid rgba(201,166,107,.25);color:var(--mv-accent-color, #c9a66b);padding:6px 14px;cursor:pointer;border-radius:20px;transition:all var(--mv-transition-fast, .15s cubic-bezier(.4, 0, .2, 1));display:flex;align-items:center;justify-content:center;gap:4px;min-height:32px;font-size:12px;font-weight:600}.mobile-reader .nav-btn svg{width:14px;height:14px;flex-shrink:0;transition:transform var(--mv-transition-fast, .15s cubic-bezier(.4, 0, .2, 1))}.mobile-reader .btn-label{font-size:11px;font-weight:600;letter-spacing:.02em}.mobile-reader .nav-btn:active:not(:disabled){background:var(--mv-accent-color, #c9a66b);border-color:var(--mv-accent-color, #c9a66b);color:#fff;transform:scale(.97)}.mobile-reader .nav-btn:disabled{opacity:.3;cursor:not-allowed}.mobile-reader .page-info{flex:1;display:flex;align-items:center;gap:8px;min-width:0}.mobile-reader .page-indicator{font-size:11px;font-weight:600;color:var(--mv-text-secondary, #6b6b6b);white-space:nowrap;letter-spacing:.02em}.mobile-reader .progress-bar{flex:1;height:3px;background:#c9a66b26;border-radius:2px;overflow:hidden}.mobile-reader .progress-fill{height:100%;background:linear-gradient(90deg,var(--mv-accent-color, #c9a66b) 0%,#d4b87a 100%);border-radius:2px;transition:width var(--mv-transition-smooth, .3s cubic-bezier(.4, 0, .2, 1))}@supports (padding-bottom: env(safe-area-inset-bottom)){.mobile-reader .reader-footer{padding-bottom:max(8px,env(safe-area-inset-bottom))}}.mobile-reader .panel-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#0009;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.mobile-reader .panel-content{position:absolute;bottom:0;left:0;width:100%;background:var(--mv-page-color);border-radius:24px 24px 0 0;overflow-y:auto;animation:slideUp .35s cubic-bezier(.4,0,.2,1);box-shadow:0 -8px 32px #0003}@keyframes slideDown{0%{transform:translateY(0)}to{transform:translateY(100%)}}.mobile-reader .panel-header{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 20px;border-bottom:1px solid rgba(201,166,107,.2);position:sticky;top:0;background:var(--mv-page-color);z-index:5}.mobile-reader .panel-header h3{font-size:18px;font-weight:700;color:var(--mv-text-color);letter-spacing:-.02em;margin:0}.mobile-reader .panel-close{background:none;border:none;font-size:20px;color:var(--mv-text-secondary);cursor:pointer;padding:8px 12px;border-radius:8px;transition:all var(--mv-transition-fast);line-height:1}.mobile-reader .panel-close:active{background:var(--mv-accent-light);color:var(--mv-accent-color)}.mobile-reader .panel-body{padding:24px}.mobile-reader .settings-panel{position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;display:none}.mobile-reader .settings-panel.active{display:block}.mobile-reader .settings-panel .panel-content{max-height:80%}.mobile-reader .setting-item{margin-bottom:32px}.mobile-reader .setting-item:last-child{margin-bottom:0}.mobile-reader .setting-item label{display:block;margin-bottom:14px;font-size:13px;font-weight:600;color:var(--mv-text-color);text-transform:uppercase;letter-spacing:.08em}.mobile-reader .setting-item span{color:var(--mv-text-color)}.mobile-reader .range-control{display:flex;align-items:center;gap:14px;margin-bottom:10px}.mobile-reader .range-label{font-size:12px;color:var(--mv-text-secondary);min-width:36px}.mobile-reader .setting-item input[type=range]{flex:1;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:6px;background:#c9a66b40;border-radius:3px;outline:none}.mobile-reader .setting-item input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:26px;height:26px;background:var(--mv-accent-color);border-radius:50%;cursor:pointer;box-shadow:0 2px 10px #c9a66b66}.mobile-reader .setting-item input[type=range]::-moz-range-thumb{width:26px;height:26px;background:var(--mv-accent-color);border-radius:50%;cursor:pointer;border:none;box-shadow:0 2px 10px #c9a66b66}.mobile-reader .setting-value{display:block;text-align:center;font-size:13px;color:var(--mv-accent-color);font-weight:600}.mobile-reader .theme-buttons{display:flex;gap:12px}.mobile-reader .theme-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:10px;padding:16px 12px;border:2px solid rgba(201,166,107,.25);border-radius:16px;background:transparent;cursor:pointer;transition:all var(--mv-transition-fast);font-size:13px;color:var(--mv-text-secondary);font-weight:500}.mobile-reader .theme-btn.active{border-color:var(--mv-accent-color);background:var(--mv-accent-light);color:var(--mv-accent-color)}.mobile-reader .theme-btn:active:not(.active){transform:scale(.97);background:#c9a66b14}.mobile-reader .theme-preview{width:44px;height:44px;border-radius:50%;border:2px solid rgba(201,166,107,.3);box-shadow:var(--mv-shadow-soft)}.mobile-reader .theme-preview.light{background:linear-gradient(135deg,#fff,#fdfbf7)}.mobile-reader .theme-preview.sepia{background:linear-gradient(135deg,#f7f0e3,#ebe4d7)}.mobile-reader .theme-preview.dark{background:linear-gradient(135deg,#1c2128,#0d1117)}.mobile-reader .font-selector{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;max-height:200px;overflow-y:auto}.mobile-reader .font-option{padding:12px;border:2px solid rgba(201,166,107,.2);border-radius:10px;background:transparent;cursor:pointer;transition:all var(--mv-transition-fast);font-size:13px;color:var(--mv-text-color);text-align:center}.mobile-reader .font-option.active{border-color:var(--mv-accent-color);background:var(--mv-accent-light);color:var(--mv-accent-color)}.mobile-reader .font-option:active:not(.active){background:#c9a66b14}.mobile-reader .custom-css-btn{width:100%;padding:14px 16px;background:var(--mv-accent-color);color:#fff;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all var(--mv-transition-fast)}.mobile-reader .custom-css-btn:active{transform:scale(.98);opacity:.9}.mobile-reader .lb-panel{position:fixed;top:0;left:0;width:100%;height:100%;z-index:10;display:none}.mobile-reader .lb-panel.active{display:block}.mobile-reader .lb-panel .panel-content{max-height:60%}.mobile-reader .lb-modules-list{display:flex;flex-direction:column;gap:10px}.mobile-reader .lb-module-item{padding:16px;background:#c9a66b14;border-radius:12px;cursor:pointer;transition:all var(--mv-transition-fast);font-size:15px;font-weight:500;color:var(--mv-text-color);border:1px solid transparent}.mobile-reader .lb-module-item:active{background:#c9a66b33;border-color:var(--mv-accent-color);transform:scale(.98)}.mobile-reader .lb-empty{text-align:center;color:var(--mv-text-secondary);font-size:14px;padding:20px}.mobile-reader .modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);z-index:300;display:flex;justify-content:center;align-items:center;padding:20px;animation:fadeIn .25s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.mobile-reader .modal-content{background:var(--mv-page-color, #fdfbf7);border-radius:16px;width:100%;max-width:500px;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 20px 60px #0006;animation:modalSlideIn .25s ease-out}.mobile-reader .modal-header{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid rgba(0,0,0,.1)}.mobile-reader .modal-header h3{font-size:16px;font-weight:700;color:var(--mv-text-color, #2c2c2c);margin:0}.mobile-reader .modal-close{background:none;border:none;font-size:24px;color:var(--mv-text-secondary, #6b6b6b);cursor:pointer;padding:4px 8px;border-radius:6px;transition:all var(--mv-transition-fast, .15s);line-height:1}.mobile-reader .modal-close:active{background:#0000001a}.mobile-reader .modal-body{flex:1;padding:16px 20px;overflow:auto}.mobile-reader .modal-body textarea{width:100%;height:200px;padding:14px;border:2px solid rgba(0,0,0,.1);border-radius:10px;font-family:Consolas,Monaco,monospace;font-size:13px;line-height:1.5;resize:vertical;background:#00000005;color:var(--mv-text-color, #2c2c2c)}.mobile-reader .modal-body textarea:focus{outline:none;border-color:var(--mv-accent-color, #c9a66b)}.mobile-reader .modal-footer{display:flex;justify-content:flex-end;gap:10px;padding:14px 20px;border-top:1px solid rgba(0,0,0,.1)}.mobile-reader .modal-btn{padding:10px 18px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all var(--mv-transition-fast, .15s)}.mobile-reader .modal-btn.primary{background:var(--mv-accent-color, #c9a66b);color:#fff;border:none}.mobile-reader .modal-btn.primary:active{opacity:.9;transform:scale(.98)}.mobile-reader .modal-btn.secondary{background:transparent;color:var(--mv-text-secondary, #6b6b6b);border:2px solid rgba(0,0,0,.15)}.mobile-reader .modal-btn.secondary:active{background:#0000000d}.mobile-reader[data-theme=light]{--mv-bg-gradient-start: #1a1f35;--mv-bg-gradient-end: #2d3654;--mv-page-color: #fdfbf7;--mv-page-shadow: #f5f0e8;--mv-text-color: #2c2c2c;--mv-text-secondary: #6b6b6b;--mv-accent-color: #c9a66b;--mv-accent-hover: #b8935a;--mv-divider-color: #e8e4dc;--mv-spine-gradient: linear-gradient( 90deg, #d4cfc4 0%, hsl(41, 13%, 76%) 50%, #d4cfc4 100% );--mv-shadow-soft: 0 4px 20px rgba(0, 0, 0, .08);--mv-shadow-medium: 0 8px 40px rgba(0, 0, 0, .12);--mv-shadow-strong: 0 20px 60px rgba(0, 0, 0, .2);--mv-shadow-inner: inset 0 0 30px rgba(0, 0, 0, .03);--mv-font-size: 17px;--mv-line-height: 1.9;--mv-font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;--mv-font-serif: "Noto Serif KR", "Crimson Text", "Georgia", serif;--mv-transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--mv-transition-smooth: .3s cubic-bezier(.4, 0, .2, 1);--mv-transition-slow: .5s cubic-bezier(.4, 0, .2, 1);--FontColorStandard: #2c2c2c;--FontColorItalic: #5a5a5a;--FontColorBold: #1a1a1a;--FontColorItalicBold: #5a5a5a;--FontColorQuote1: #0e7490;--FontColorQuote2: #c2410c;--mv-font-color: var(--FontColorStandard);--mv-mark1-color: var(--FontColorQuote1);--mv-mark2-color: var(--FontColorQuote2);--mv-em-color: var(--FontColorItalic)}.mobile-reader[data-theme=sepia]{--bv-bg-gradient-start: #3d3830;--bv-bg-gradient-end: #4a4238;--bv-page-color: #f7f0e3;--bv-page-shadow: #ebe4d7;--bv-text-color: #3d2e1c;--bv-text-secondary: #7a6b5a;--bv-accent-color: #8b7355;--bv-divider-color: #d4c9b8;--bv-spine-gradient: linear-gradient( 90deg, #c4b9a8 0%, #b8ad9c 50%, #c4b9a8 100% );--mv-bg-gradient-start: #3d3830;--mv-bg-gradient-end: #4a4238;--mv-page-color: #f7f0e3;--mv-text-color: #3d2e1c;--mv-text-secondary: #7a6b5a;--mv-header-bg: rgba(61, 56, 48, .97);--mv-accent-color: #8b7355;--FontColorBold: #2a1f10;--FontColorItalicBold: #6b5a48;--FontColorStandard: #3d2e1c;--FontColorQuote1: #1a6b6b;--FontColorQuote2: #a85d20;--FontColorItalic: #6b5a48;--bv-font-color: var(--FontColorStandard);--bv-mark1-color: var(--FontColorQuote1);--bv-mark2-color: var(--FontColorQuote2);--bv-em-color: var(--FontColorItalic)}.mobile-reader[data-theme=dark]{--mv-accent-hover: #e0b584;--mv-divider-color: #30363d;--mv-spine-gradient: linear-gradient( 90deg, #21262d 0%, #30363d 50%, #21262d 100% );--mv-bg-gradient-start: #0d1117;--mv-bg-gradient-end: #161b22;--mv-page-color: var(--risu-theme-bgcolor);--mv-page-shadow: #151a20;--mv-text-color: #c9d1d9;--mv-text-secondary: #8b949e;--mv-header-bg: rgba(13, 17, 23, .97);--mv-footer-bg: var(--mv-page-color);--mv-accent-color: #d4a574;--FontColorStandard: #fafafa;--FontColorItalic: #8c8d93;--FontColorBold: #fafafa;--FontColorItalicBold: #8c8d93;--FontColorQuote1: #8be9fd;--FontColorQuote2: #ffb86c;--mv-text-color: var(--FontColorStandard);--mv-font-color: var(--FontColorStandard);--mv-mark1-color: var(--FontColorQuote1);--mv-mark2-color: var(--FontColorQuote2);--mv-em-color: var(--FontColorItalic)}.mobile-reader[data-theme=dark] .page-container:before{opacity:.5}.mobile-reader[data-theme=dark] .page-indicator{color:var(--mv-text-color)}.mobile-reader[data-theme=dark] .panel-content,.mobile-reader[data-theme=dark] .panel-header{background:#1c2128}.mobile-reader[data-theme=dark] .panel-header{border-bottom-color:#d4a57433}.mobile-reader[data-theme=dark] .lb-module-item{background:#d4a5741a}.mobile-reader[data-theme=dark] .lb-module-item:active{background:#d4a57433}.mobile-reader[data-theme=dark] .modal-content{background:#1c2128}.mobile-reader[data-theme=dark] .modal-body textarea{background:#0d1117;border-color:#30363d;color:var(--mv-text-color)}.mobile-reader[data-theme=dark] .modal-header,.mobile-reader[data-theme=dark] .modal-footer{border-color:#ffffff1a}.mobile-reader .loading-overlay{position:absolute;top:0;left:0;right:0;bottom:0;background:var(--mv-page-color);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100;border-radius:12px;opacity:1;transition:opacity .3s ease}.mobile-reader .loading-overlay.fade-out{opacity:0;pointer-events:none}@media(min-width:600px)and (orientation:landscape){.mobile-reader .page-container{margin:12px 20px}.mobile-reader .page-content{padding:36px 48px}.mobile-reader .text-content{max-width:720px;margin:0 auto;font-size:18px}.mobile-reader .reader-header,.mobile-reader .reader-footer{padding:14px 24px}}@media(min-width:768px){.mobile-reader .page-container{margin:16px 24px}.mobile-reader .page-content{padding:40px 56px}.mobile-reader .text-content{max-width:800px;font-size:18px;line-height:1.9}.mobile-reader .settings-panel .panel-content,.mobile-reader .lb-panel .panel-content{max-width:480px;left:50%;transform:translate(-50%)}@keyframes slideUp{0%{transform:translate(-50%) translateY(100%)}to{transform:translate(-50%) translateY(0)}}}@supports (padding-top: env(safe-area-inset-top)){.mobile-reader .header-row-top{padding-top:max(10px,env(safe-area-inset-top))}.mobile-reader .reader-footer{padding-bottom:max(14px,env(safe-area-inset-bottom))}.mobile-reader .panel-body{padding-bottom:max(24px,env(safe-area-inset-bottom))}}.settings-panel{position:fixed;top:0;left:0;width:100%;height:100%;z-index:200;display:none}.settings-panel.active{display:block}.panel-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#0009;backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px)}.panel-content{position:absolute;bottom:0;left:0;width:100%;background:var(--mv-page-color, #fdfbf7);border-radius:24px 24px 0 0;max-height:80%;overflow-y:auto;animation:slideUp .35s cubic-bezier(.4,0,.2,1);box-shadow:0 -8px 32px #0003}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.panel-header{display:flex;align-items:center;justify-content:space-between;padding:24px 24px 20px;border-bottom:1px solid rgba(201,166,107,.2);position:sticky;top:0;background:var(--mv-page-color, #fdfbf7);z-index:10}.panel-header h3{font-size:18px;font-weight:700;color:var(--mv-text-color, #2c2c2c);letter-spacing:-.02em;margin:0}.panel-close{background:none;border:none;font-size:20px;color:var(--mv-text-secondary, #6b6b6b);cursor:pointer;padding:8px 12px;border-radius:8px;transition:all var(--mv-transition-fast, .15s);line-height:1}.panel-close:active{background:var(--mv-accent-light, rgba(201, 166, 107, .15));color:var(--mv-accent-color, #c9a66b)}.panel-body{padding:24px}.theme-buttons{display:flex;gap:12px}.theme-btn{flex:1;display:flex;flex-direction:column;align-items:center;gap:10px;padding:16px 12px;border:2px solid rgba(201,166,107,.25);border-radius:16px;background:transparent;cursor:pointer;transition:all var(--mv-transition-fast, .15s);font-size:13px;color:var(--mv-text-secondary, #6b6b6b);font-weight:500}.theme-btn.active{border-color:var(--mv-accent-color, #c9a66b);background:var(--mv-accent-light, rgba(201, 166, 107, .15));color:var(--mv-accent-color, #c9a66b)}.theme-btn:active:not(.active){transform:scale(.97);background:#c9a66b14}.theme-preview{width:44px;height:44px;border-radius:50%;border:2px solid rgba(201,166,107,.3);box-shadow:var(--mv-shadow-soft, 0 2px 12px rgba(0, 0, 0, .08))}.theme-preview.light{background:linear-gradient(135deg,#fff,#fdfbf7)}.theme-preview.sepia{background:linear-gradient(135deg,#f7f0e3,#ebe4d7)}.theme-preview.dark{background:linear-gradient(135deg,#1c2128,#0d1117)}.toggle-item{display:flex;align-items:center;justify-content:space-between;padding:16px 0;border-top:1px solid rgba(201,166,107,.15);border-bottom:1px solid rgba(201,166,107,.15)}.toggle-content{display:flex;flex-direction:column;gap:4px}.toggle-label{font-size:14px;font-weight:600;color:var(--mv-text-color, #2c2c2c)}.toggle-description{font-size:12px;color:var(--mv-text-secondary, #6b6b6b);font-weight:400}.toggle-switch{position:relative;display:inline-block;width:52px;height:28px;flex-shrink:0}.toggle-switch input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#c9a66b40;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:28px}.toggle-slider:before{position:absolute;content:"";height:22px;width:22px;left:3px;bottom:3px;background:#fff;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:50%;box-shadow:0 2px 8px #00000026}.toggle-switch input:checked+.toggle-slider{background:var(--mv-accent-color, #c9a66b);box-shadow:0 0 12px #c9a66b66}.toggle-switch input:checked+.toggle-slider:before{transform:translate(24px);background:#fff;box-shadow:0 2px 8px #c9a66b4d}.toggle-switch input:focus+.toggle-slider{box-shadow:0 0 0 3px #c9a66b33}.mobile-reader[data-theme=dark] .toggle-slider{background:#ffffff26}.mobile-reader[data-theme=dark] .toggle-slider:before{background:#8b949e}.mobile-reader[data-theme=dark] .toggle-switch input:checked+.toggle-slider:before{background:#fff}.custom-css-btn{width:100%;padding:14px 16px;background:var(--mv-accent-color, #c9a66b);color:#fff;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all var(--mv-transition-fast, .15s)}.custom-css-btn:active{transform:scale(.98);opacity:.9}@supports (padding-bottom: env(safe-area-inset-bottom)){.panel-body{padding-bottom:max(24px,env(safe-area-inset-bottom))}}@media(min-width:768px){.panel-content{max-width:480px;left:50%;transform:translate(-50%)}@keyframes slideUp{0%{transform:translate(-50%) translateY(100%)}to{transform:translate(-50%) translateY(0)}}}.viewer-toast{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;pointer-events:none;opacity:0;transition:opacity .3s ease}.viewer-toast.showing{opacity:1}.toast-content{background:#000c;color:#fff;padding:16px 32px;border-radius:12px;font-size:15px;font-weight:500;text-align:center;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 4px 20px #0000004d;max-width:400px}.viewer-toast.clickable{pointer-events:auto;cursor:pointer}.viewer-toast.clickable .toast-content{transition:transform .15s ease,box-shadow .15s ease}.viewer-toast.clickable:active .toast-content{transform:scale(.98);box-shadow:0 2px 12px #0006}@font-face{font-family:ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤;src:url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.eot);src:url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.eot?#iefix) format("embedded-opentype"),url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.woff) format("woff"),url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.ttf) format("truetype");font-weight:400;font-style:normal}@font-face{font-family:ì—ìŠ¤ì½”ì–´ë“œë¦¼;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/S-CoreDream-3Light.woff) format("woff")}@font-face{font-family:ë ˆíŽ˜ë¦¬í¬ì¸íŠ¸;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/LeferiPoint-WhiteObliqueA.woff) format("woff")}@font-face{font-family:í”Œë ‰ìŠ¤;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/IBMPlexSansKR-Regular.woff) format("woff")}@font-face{font-family:ìŠ¤ìœ„íŠ¸;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/SUITE-Regular.woff2) format("woff2")}@font-face{font-family:ì˜¤ë¥´ë¹—;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2310@1.0/Orbit-Regular.woff2) format("woff2")}@font-face{font-family:ìŠ¤ì¿¨ì˜¤ë¥´ë¹—;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2307-2@1.0/HakgyoansimWoojuR.woff2) format("woff2")}@font-face{font-family:í”„ë¦¬í‹°ë‚˜ìž‡;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.1/Cafe24Oneprettynight.woff) format("woff")}@font-face{font-family:ì„œë¼ìš´ë“œì—ì–´;src:url(https://gcore.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24SsurroundAir.woff) format("woff")}@font-face{font-family:ê³ ìš´ë‹ì›€;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunDodum-Regular.woff) format("woff")}@font-face{font-family:ê³ ìš´ë°”íƒ•;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunBatang-Regular.woff) format("woff")}@font-face{font-family:ë¦¬ë””ë°”íƒ•;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff) format("woff")}@font-face{font-family:ë§ˆë£¨ë¶€ë¦¬;src:url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.eot);src:url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.eot?#iefix) format("embedded-opentype"),url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.woff2) format("woff2"),url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.woff) format("woff"),url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.ttf) format("truetype")}@font-face{font-family:ë„ìŠ¤ê³ ë”•;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_eight@1.0/DOSGothic.woff) format("woff")}@font-face{font-family:ìŠ¤íƒ€ë”ìŠ¤íŠ¸;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/PFStardust.woff) format("woff")}@font-face{font-family:í”½ì‹œë“œì‹œìŠ¤;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/DungGeunMo.woff) format("woff")}@font-face{font-family:ë„¤ì˜¤ë‘¥ê·¼ëª¨;src:url(https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.3/NeoDunggeunmo.woff) format("woff")}.risu-chat>div{padding:unset!important;margin:unset!important;justify-content:unset!important;align-items:unset!important}.risu-chat>div>div{margin:unset!important;justify-content:unset!important}.pc-viewer-container code{word-break:break-word}.pc-viewer-container{position:absolute;top:0;left:0;width:100%;height:100%}.pc-viewer-container>div{padding:unset!important;margin:unset!important;justify-content:unset!important;align-items:unset!important}.pc-viewer-container>div>div{margin:unset!important;justify-content:unset!important}.book-viewer-root,.book-viewer-root [data-theme=light]{--bv-bg-gradient-start: #1a1f35;--bv-bg-gradient-end: #2d3654;--bv-page-color: #fdfbf7;--bv-page-shadow: #f5f0e8;--bv-text-color: #2c2c2c;--bv-text-secondary: #6b6b6b;--bv-accent-color: #c9a66b;--bv-accent-hover: #b8935a;--bv-divider-color: #e8e4dc;--bv-spine-gradient: linear-gradient( 90deg, #d4cfc4 0%, hsl(41, 13%, 76%) 50%, #d4cfc4 100% );--bv-shadow-soft: 0 4px 20px rgba(0, 0, 0, .08);--bv-shadow-medium: 0 8px 40px rgba(0, 0, 0, .12);--bv-shadow-strong: 0 20px 60px rgba(0, 0, 0, .2);--bv-shadow-inner: inset 0 0 30px rgba(0, 0, 0, .03);--bv-font-size: 17px;--bv-line-height: 1.9;--bv-font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui, sans-serif;--bv-font-serif: "Noto Serif KR", "Crimson Text", "Georgia", serif;--bv-transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--bv-transition-smooth: .3s cubic-bezier(.4, 0, .2, 1);--bv-transition-slow: .5s cubic-bezier(.4, 0, .2, 1);--FontColorStandard: #2c2c2c;--FontColorItalic: #5a5a5a;--FontColorBold: #1a1a1a;--FontColorItalicBold: #5a5a5a;--FontColorQuote1: #0e7490;--FontColorQuote2: #c2410c;--bv-font-color: var(--FontColorStandard);--bv-mark1-color: var(--FontColorQuote1);--bv-mark2-color: var(--FontColorQuote2);--bv-em-color: var(--FontColorItalic)}.book-viewer-root[data-theme=sepia]{--bv-bg-gradient-start: #3d3830;--bv-bg-gradient-end: #4a4238;--bv-page-color: #f7f0e3;--bv-page-shadow: #ebe4d7;--bv-text-color: #3d2e1c;--bv-text-secondary: #7a6b5a;--bv-accent-color: #8b7355;--bv-divider-color: #d4c9b8;--bv-spine-gradient: linear-gradient( 90deg, #c4b9a8 0%, #b8ad9c 50%, #c4b9a8 100% );--FontColorBold: #2a1f10;--FontColorItalicBold: #6b5a48;--FontColorStandard: #3d2e1c;--FontColorQuote1: #1a6b6b;--FontColorQuote2: #a85d20;--FontColorItalic: #6b5a48;--bv-font-color: var(--FontColorStandard);--bv-mark1-color: var(--FontColorQuote1);--bv-mark2-color: var(--FontColorQuote2);--bv-em-color: var(--FontColorItalic)}.book-viewer-root[data-theme=dark]{--bv-bg-gradient-start: #0d1117;--bv-bg-gradient-end: #161b22;--bv-page-color: var(--risu-theme-bgcolor);--bv-page-shadow: #151a20;--bv-text-color: #c9d1d9;--bv-text-secondary: #8b949e;--bv-accent-color: #d4a574;--bv-accent-hover: #e0b584;--bv-divider-color: #30363d;--bv-spine-gradient: linear-gradient( 90deg, #21262d 0%, #30363d 50%, #21262d 100% );--FontColorStandard: #fafafa;--FontColorItalic: #8c8d93;--FontColorBold: #fafafa;--FontColorItalicBold: #8c8d93;--FontColorQuote1: #8be9fd;--FontColorQuote2: #ffb86c;--bv-font-color: var(--FontColorStandard);--bv-mark1-color: var(--FontColorQuote1);--bv-mark2-color: var(--FontColorQuote2);--bv-em-color: var(--FontColorItalic)}.text-content p{margin-top:.55em}.text-content h1{font-weight:800;font-size:2.25em;line-height:1.1111111;color:var(--bv-text-color)}.text-content h2{font-weight:700;font-size:1.5em;line-height:1.3333333;color:var(--bv-text-color)}.text-content h3{font-weight:600;font-size:1.25em;line-height:1.6;color:var(--bv-text-color)}.book-viewer-root{position:absolute;top:0;left:0;width:100%;height:100%;display:flex!important;flex-direction:column;overflow:hidden;z-index:5;font-family:var(--bv-font-family);background:linear-gradient(135deg,var(--bv-bg-gradient-start) 0%,var(--bv-bg-gradient-end) 100%);-webkit-user-select:none;-moz-user-select:none;user-select:none;border-bottom:1px solid var(--bv-divider-color)}.book-viewer-root:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(circle at 20% 80%,rgba(201,166,107,.05) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(201,166,107,.03) 0%,transparent 50%);pointer-events:none;z-index:0}.book-viewer-root .book-header{display:flex!important;align-items:center;justify-content:space-between;padding:12px 24px;background:var(--bv-page-color);border-bottom:1px solid var(--bv-divider-color);flex-shrink:0;z-index:1}.book-viewer-root .header-left{display:flex!important;align-items:center;gap:12px;min-width:0;flex:1;margin-left:30px}.book-viewer-root .header-thumbnail{width:40px;height:40px;min-width:40px;border-radius:8px;background-size:cover;background-position:center;background-color:var(--bv-divider-color);box-shadow:0 2px 8px #0000001a}.book-viewer-root .header-info{display:flex!important;align-items:center;gap:12px;min-width:0;flex:1}.book-viewer-root .header-name{font-size:15px;font-weight:600;color:var(--bv-text-color);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.book-viewer-root .header-buttons{display:flex!important;align-items:center;gap:4px}.book-viewer-root .header-buttons button{background:none;border:none;padding:6px;cursor:pointer;color:var(--bv-text-secondary);border-radius:6px;transition:all var(--bv-transition-fast);display:flex;align-items:center;justify-content:center}.book-viewer-root .header-buttons button:hover{background:#0000000d;color:var(--bv-accent-color)}.book-viewer-root[data-theme=dark] .header-buttons button:hover{background:#ffffff14}.book-viewer-root .header-buttons button :global(svg){width:18px;height:18px}.book-viewer-root .header-right{display:flex!important;align-items:center;gap:8px;flex-shrink:0}.book-viewer-root .chat-index-nav{display:flex!important;align-items:center;gap:4px}.book-viewer-root .chat-nav-btn{background:none;border:none;padding:4px;cursor:pointer;color:var(--bv-text-secondary);border-radius:4px;transition:all var(--bv-transition-fast);display:flex!important;align-items:center;justify-content:center}.book-viewer-root .chat-nav-btn:hover:not(:disabled){background:#0000000d;color:var(--bv-accent-color)}.book-viewer-root .chat-nav-btn:disabled{opacity:.3;cursor:not-allowed}.book-viewer-root[data-theme=dark] .chat-nav-btn:hover:not(:disabled){background:#ffffff14}.book-viewer-root .header-chat-index{font-size:13px;font-weight:500;color:var(--bv-text-secondary);background:#0000000a;padding:4px 10px;border-radius:12px;display:flex;align-items:center;gap:4px}.book-viewer-root .chat-index-total{font-size:11px;opacity:.7}.book-viewer-root[data-theme=dark] .header-chat-index{background:#ffffff14}.book-viewer-root .close-btn{background:none;border:none;padding:6px;cursor:pointer;color:var(--bv-text-secondary);border-radius:6px;transition:all var(--bv-transition-fast);display:flex!important;align-items:center;justify-content:center}.book-viewer-root .close-btn:hover{background:#0000000d;color:var(--bv-accent-color)}.book-viewer-root .book-pages{position:relative;display:flex!important;flex:1;min-height:0;z-index:1}.book-viewer-root .page{flex:1;background:var(--bv-page-color);position:relative;overflow:hidden}.book-viewer-root .page:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(90deg,rgba(0,0,0,.02) 0%,transparent 5%,transparent 95%,rgba(0,0,0,.02) 100%),url("data:image/svg+xml,%3Csvg viewBox=\'0 0 200 200\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cfilter id=\'noise\'%3E%3CfeTurbulence type=\'fractalNoise\' baseFrequency=\'0.9\' numOctaves=\'4\' stitchTiles=\'stitch\'/%3E%3C/filter%3E%3Crect width=\'100%25\' height=\'100%25\' filter=\'url(%23noise)\' opacity=\'0.03\'/%3E%3C/svg%3E");pointer-events:none;z-index:1}.book-viewer-root[data-theme=dark] .page:before{opacity:.5}.book-viewer-root .page-left{box-shadow:var(--bv-shadow-inner)}.book-viewer-root .page-left:after{content:"";position:absolute;top:0;right:0;width:40px;height:100%;background:linear-gradient(90deg,transparent 0%,rgba(0,0,0,.03) 100%);pointer-events:none}.book-viewer-root .page-right{box-shadow:var(--bv-shadow-inner)}.book-viewer-root .page-right:after{content:"";position:absolute;top:0;left:0;width:40px;height:100%;background:linear-gradient(90deg,rgba(0,0,0,.03) 0%,transparent 100%);pointer-events:none}.book-viewer-root .book-spine{width:8px;background:var(--bv-spine-gradient);position:relative;box-shadow:inset 2px 0 4px #0000001a,inset -2px 0 4px #0000001a}.book-viewer-root .book-spine:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%);width:1px;height:100%;background:#0000001a}.book-viewer-root .page-content{padding:50px 60px 10px;height:100%;display:flex!important;flex-direction:column;color:var(--bv-text-color);position:relative;z-index:2}.book-viewer-root .page-content>.chattext [class*=-image-wrapper]{max-height:100%}.book-viewer-root .page-content>.chattext [class*=-image-container],.book-viewer-root .page-content>.chattext [class*=-image-cell]{min-height:98%;max-height:100%;background-size:contain;background-position:center;background-repeat:no-repeat;height:-webkit-fill-available;width:-webkit-fill-available}.book-viewer-root .page-content .x-risu-image-cell{aspect-ratio:auto}.book-viewer-root .text-content{flex:1;overflow-y:auto;font-size:var(--bv-font-size)!important;line-height:var(--bv-line-height)!important;font-family:var(--bv-font-family)!important;text-align:-webkit-auto;word-break:keep-all;letter-spacing:-.01em;padding-right:10px;-moz-user-select:text;user-select:text;-webkit-user-select:text;cursor:text}.book-viewer-root .text-content *{-moz-user-select:text;user-select:text;-webkit-user-select:text}.book-viewer-root .text-content :global(h1),.book-viewer-root .text-content :global(h2),.book-viewer-root .text-content :global(h3){margin:2em 0 1em;text-indent:0;font-weight:600;color:#1a1a1a;letter-spacing:-.02em}.book-viewer-root .text-content :global(h1){font-size:1.8em;border-bottom:2px solid var(--bv-accent-color);padding-bottom:.5em}.book-viewer-root .text-content :global(h2){font-size:1.4em}.book-viewer-root .text-content :global(mark),.book-viewer-root .text-content :global(mark[risu-mark]){display:inline;background:linear-gradient(120deg,#c9a66b33,#c9a66b4d);color:inherit;padding:.1em .3em;border-radius:3px;flex-direction:unset;align-items:unset;gap:unset}.book-viewer-root .text-content:has(img){position:static}.book-viewer-root .text-content :global(img){position:absolute;top:0;left:0;width:100%;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:center;object-position:center;margin:0;z-index:10}.book-viewer-root .page-content:has(img) .page-number{display:none}.book-viewer-root .page-number{font-size:13px;color:var(--bv-text-secondary);font-weight:500;letter-spacing:.05em}.book-viewer-root .left-page-num{text-align:left}.book-viewer-root .right-page-num{text-align:right}.book-viewer-root .click-area{position:absolute;top:0;width:5%;height:100%;z-index:10;cursor:pointer}.book-viewer-root .click-left{left:0;cursor:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'32\' height=\'32\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'%23c9a66b\' stroke-width=\'2\'%3E%3Cpolyline points=\'15 18 9 12 15 6\'%3E%3C/polyline%3E%3C/svg%3E") 16 16,w-resize}.book-viewer-root .click-right{right:0;cursor:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'32\' height=\'32\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'%23c9a66b\' stroke-width=\'2\'%3E%3Cpolyline points=\'9 18 15 12 9 6\'%3E%3C/polyline%3E%3C/svg%3E") 16 16,e-resize}.book-viewer-root .click-area:after{content:"";position:absolute;top:50%;transform:translateY(-50%);width:50px;height:100px;opacity:0;transition:opacity var(--bv-transition-smooth);pointer-events:none}.book-viewer-root .click-left:after{left:30px;background:radial-gradient(ellipse at left,rgba(201,166,107,.15),transparent 70%)}.book-viewer-root .click-right:after{right:30px;background:radial-gradient(ellipse at right,rgba(201,166,107,.15),transparent 70%)}.book-viewer-root .click-area:hover:after{opacity:1}.book-viewer-root .nav-controls{display:flex;align-items:center;justify-content:center;gap:32px;background:var(--bv-page-color);padding:14px 40px;border-top:1px solid rgba(201,166,107,.12);flex-shrink:0;z-index:1}.book-viewer-root .nav-btn{background:none;border:none;cursor:pointer;padding:10px;border-radius:50%;transition:all var(--bv-transition-fast);color:var(--bv-accent-color);display:flex;align-items:center;justify-content:center}.book-viewer-root .nav-btn :global(svg){transition:transform var(--bv-transition-fast)}.book-viewer-root .nav-btn:hover:not(:disabled){background:#c9a66b1f}.book-viewer-root .nav-btn:hover:not(:disabled) :global(svg){transform:scale(1.1)}.book-viewer-root .nav-btn:active:not(:disabled){background:transparent!important}.book-viewer-root .nav-btn:active:not(:disabled) :global(svg){transform:scale(.95)}.book-viewer-root .nav-btn:disabled{opacity:.25;cursor:not-allowed}.book-viewer-root .page-indicator{font-size:14px;color:var(--bv-text-color);min-width:90px;text-align:center;font-weight:600;letter-spacing:.02em;font-variant-numeric:tabular-nums}.book-viewer-root .nav-right-buttons{display:flex;align-items:center;gap:8px;margin-left:auto;padding-left:20px}.book-viewer-root .nav-icon-btn{background:none;border:2px solid var(--bv-accent-color);color:var(--bv-accent-color);padding:8px 12px;cursor:pointer;border-radius:8px;transition:all var(--bv-transition-fast);font-size:13px!important;font-weight:600!important;display:flex;align-items:center;justify-content:center;gap:4px}.book-viewer-root .nav-icon-btn:hover{background:var(--bv-accent-color);color:#fff}.book-viewer-root .nav-icon-btn :global(svg){width:18px;height:18px}.book-viewer-root .setting-item{margin-bottom:16px}.book-viewer-root .setting-item:last-child{margin-bottom:0}.book-viewer-root .setting-item label{display:block;margin-bottom:8px;font-size:12px;font-weight:600;color:var(--bv-text-color);text-transform:uppercase;letter-spacing:.06em}.book-viewer-root .setting-item input[type=range]{width:100%;height:5px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#e8e4dc;border-radius:3px;outline:none;margin-bottom:6px}.book-viewer-root[data-theme=dark] .setting-item input[type=range]{background:#30363d}.book-viewer-root .setting-item input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;background:var(--bv-accent-color);border-radius:50%;cursor:pointer;box-shadow:0 2px 6px #c9a66b66;-webkit-transition:all var(--bv-transition-fast);transition:all var(--bv-transition-fast)}.book-viewer-root .setting-item input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.1)}.book-viewer-root .setting-item input[type=range]::-moz-range-thumb{width:18px;height:18px;background:var(--bv-accent-color);border-radius:50%;cursor:pointer;border:none}.book-viewer-root .setting-item select{width:100%;padding:10px 14px;border:2px solid #e8e4dc;border-radius:10px;font-size:13px;background:#fff;cursor:pointer;transition:all var(--bv-transition-fast);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'24\' height=\'24\' viewBox=\'0 0 24 24\' fill=\'none\' stroke=\'%23c9a66b\' stroke-width=\'2\'%3E%3Cpolyline points=\'6 9 12 15 18 9\'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 10px center;background-size:16px}.book-viewer-root .setting-item select:hover{border-color:var(--bv-accent-color)}.book-viewer-root .setting-item select:focus{outline:none;border-color:var(--bv-accent-color);box-shadow:0 0 0 3px #c9a66b26}.book-viewer-root .setting-item span{font-size:11px;color:var(--bv-text-secondary);font-weight:500}.book-viewer-root .custom-css-btn{width:100%;padding:10px 16px;background:var(--bv-accent-color);color:#fff;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;transition:all var(--bv-transition-fast)}.book-viewer-root .custom-css-btn:hover{background:var(--bv-accent-hover);transform:translateY(-1px)}.book-viewer-root .toggle-item{display:flex;align-items:center;justify-content:space-between;padding:6px 0;border-top:1px solid rgba(201,166,107,.15);border-bottom:unset}.book-viewer-root .toggle-content{display:flex;flex-direction:column;gap:3px}.book-viewer-root .toggle-label{font-size:12px;font-weight:600;color:var(--bv-font-color);text-transform:uppercase;letter-spacing:.06em}.book-viewer-root .toggle-description{font-size:11px;color:var(--bv-text-secondary);font-weight:400;text-transform:none;letter-spacing:0}.book-viewer-root .toggle-switch{position:relative;display:inline-block;width:44px;height:24px;flex-shrink:0}.book-viewer-root .toggle-switch input{opacity:0;width:0;height:0}.book-viewer-root .toggle-slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#e8e4dc;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:24px}.book-viewer-root .toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background:#fff;transition:all .3s cubic-bezier(.4,0,.2,1);border-radius:50%;box-shadow:0 2px 6px #00000026}.book-viewer-root .toggle-switch input:checked+.toggle-slider{background:var(--bv-accent-color);box-shadow:0 0 10px #c9a66b59}.book-viewer-root .toggle-switch input:checked+.toggle-slider:before{transform:translate(20px)}.book-viewer-root .toggle-switch:hover .toggle-slider{box-shadow:0 0 0 3px #c9a66b26}.book-viewer-root[data-theme=dark] .toggle-slider{background:#30363d}.book-viewer-root[data-theme=dark] .toggle-slider:before{background:#8b949e}.book-viewer-root[data-theme=dark] .toggle-switch input:checked+.toggle-slider:before{background:#fff}.book-viewer-root[data-theme=dark] .setting-item select{background-color:#21262d;border-color:#30363d;color:var(--bv-font-color)}.book-viewer-root[data-theme=light] .setting-item select,.book-viewer-root[data-theme=sepia] .setting-item select{color:var(--bv-font-color)}.book-viewer-root .nav-icon-btn.loading{opacity:.7;cursor:wait}.book-viewer-root .nav-icon-btn.loading svg{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.book-viewer-root .dropdown-container{position:relative}.book-viewer-root .dropdown-menu{display:none;position:absolute;bottom:calc(100% + 40px);right:0;background:#fffffffa;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);padding:16px;border-radius:16px;box-shadow:var(--bv-shadow-strong);min-width:280px;max-width:320px;border:1px solid rgba(201,166,107,.15);z-index:200}.book-viewer-root .dropdown-menu.active{display:block;animation:dropdownFadeIn .25s cubic-bezier(.4,0,.2,1)}@keyframes dropdownFadeIn{0%{opacity:0;transform:translateY(10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.book-viewer-root[data-theme=dark] .dropdown-menu{background:#1c2128fa}.book-viewer-root .dropdown-header{font-size:14px;font-weight:700;color:var(--bv-text-color);padding-bottom:12px;margin-bottom:12px;border-bottom:1px solid var(--bv-divider-color);text-transform:uppercase;letter-spacing:.05em}.book-viewer-root .lb-modules-list{max-height:300px;overflow-y:auto}.book-viewer-root .lb-module-item{padding:10px 12px;margin-bottom:6px;background:#c9a66b14;border-radius:8px;cursor:pointer;transition:all var(--bv-transition-fast);font-size:13px;color:var(--bv-text-color)}.book-viewer-root .lb-module-item:hover{background:#c9a66b33}.book-viewer-root .lb-module-item:last-child{margin-bottom:0}.book-viewer-root[data-theme=dark] .lb-module-item{background:#d4a5741a}.book-viewer-root[data-theme=dark] .lb-module-item:hover{background:#d4a57433}.book-viewer-root .modal-overlay{display:none!important;position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:1100;justify-content:center;align-items:center}.book-viewer-root .modal-overlay.active{display:flex;animation:modalFadeIn .3s ease}@keyframes modalFadeIn{0%{opacity:0}to{opacity:1}}.book-viewer-root .modal-content{background:var(--bv-page-color);border-radius:16px;width:90%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;box-shadow:var(--bv-shadow-strong);animation:modalSlideIn .3s cubic-bezier(.4,0,.2,1)}.book-viewer-root[data-theme=dark] .modal-content{background:#1c2128}@keyframes modalSlideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.book-viewer-root .modal-header{display:flex!important;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--bv-divider-color)}.book-viewer-root .modal-header h3{font-size:18px;font-weight:700;color:var(--bv-text-color);margin:0}.book-viewer-root .modal-close{background:none;border:none;font-size:24px;color:var(--bv-text-secondary);cursor:pointer;padding:4px 8px;border-radius:6px;transition:all var(--bv-transition-fast)}.book-viewer-root .modal-close:hover{background:#0000000d;color:var(--bv-text-color)}.book-viewer-root[data-theme=dark] .modal-close:hover{background:#ffffff1a}.book-viewer-root .modal-body{flex:1;padding:20px 24px;overflow:auto}.book-viewer-root .modal-body textarea{width:100%;height:300px;padding:16px;border:2px solid var(--bv-divider-color);border-radius:12px;font-family:Consolas,Monaco,monospace;font-size:14px;line-height:1.6;resize:vertical;background:#fafafa;color:var(--bv-text-color)}.book-viewer-root[data-theme=dark] .modal-body textarea{background:#0d1117;border-color:#30363d}.modal-body textarea:focus{outline:none;border-color:var(--bv-accent-color);box-shadow:0 0 0 3px #c9a66b26}.book-viewer-root .modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:16px 24px;border-top:1px solid var(--bv-divider-color)}.book-viewer-root .modal-btn{padding:10px 20px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all var(--bv-transition-fast)}.book-viewer-root .modal-btn.primary{background:var(--bv-accent-color);color:#fff;border:none}.book-viewer-root .modal-btn.primary:hover{background:var(--bv-accent-hover)}.book-viewer-root .modal-btn.secondary{background:transparent;color:var(--bv-text-secondary);border:2px solid var(--bv-divider-color)}.book-viewer-root .modal-btn.secondary:hover{border-color:var(--bv-text-secondary);color:var(--bv-text-color)}@media(max-width:1200px){.book-viewer-root .page-content{padding:50px 40px 40px}.book-viewer-root .text-content{font-size:16px}}@media(max-width:900px){.book-viewer-root .book-header{padding:10px 16px}.book-viewer-root .header-thumbnail{width:32px;height:32px;min-width:32px;border-radius:6px}.book-viewer-root .header-name{font-size:14px}.book-viewer-root .header-buttons button{padding:4px}.book-viewer-root .header-buttons button :global(svg){width:16px;height:16px}.book-viewer-root .page-content{padding:40px 30px 35px}.book-viewer-root .book-spine{width:4px}.book-viewer-root .nav-controls{padding:12px 20px;gap:20px}}.book-viewer-root .viewer-toast{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1000;width:unset!important;pointer-events:none;opacity:0;transition:opacity .3s ease}.book-viewer-root .viewer-toast.showing{opacity:1}.book-viewer-root .viewer-toast.clickable{pointer-events:auto;cursor:pointer}.book-viewer-root .viewer-toast.clickable .toast-content{transition:transform .15s ease,box-shadow .15s ease}.book-viewer-root .viewer-toast.clickable:hover .toast-content{transform:scale(1.02);box-shadow:0 6px 28px #0006}.book-viewer-root .viewer-toast.clickable:active .toast-content{transform:scale(.98)}.book-viewer-root .toast-content{background:#000c;color:#fff;padding:16px 32px;border-radius:12px;font-size:15px;font-weight:500;text-align:center;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);box-shadow:0 4px 20px #0000004d;max-width:400px}:global(.book-viewer-root[data-theme=light]) .toast-content{background:#323232e6}:global(.mobile-reader[data-theme=light]) .toast-content{background:#323232e6}')),document.head.appendChild(e)}}catch(o){console.error("vite-plugin-css-injected-by-js",o)}}();
!function(n){"function"==typeof define&&define.amd?define(n):n()}(function(){"use strict";var n,t,e,r,o,i,a,l,s,c,u,d,f,g,v,p,h,b,m,w,y,I,C,x,A,k,G,_,L,S,X,W,Z,M,N,j,B,Y,R,P,O,H,z=Object.defineProperty,T=n=>{throw TypeError(n)},V=(n,t,e)=>((n,t,e)=>t in n?z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e)(n,"symbol"!=typeof t?t+"":t,e),F=(n,t,e)=>t.has(n)||T("Cannot "+e),E=(n,t,e)=>(F(n,t,"read from private field"),e?e.call(n):t.get(n)),D=(n,t,e)=>t.has(n)?T("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),U=(n,t,e,r)=>(F(n,t,"write to private field"),r?r.call(n,e):t.set(n,e),e),J=(n,t,e)=>(F(n,t,"access private method"),e);const K={udRoot:"update-dialog-module__udRoot--bWc9J",udCard:"update-dialog-module__udCard---wy8T",udPop:"update-dialog-module__udPop--0Vb0B",udTitle:"update-dialog-module__udTitle--5imsi",udPill:"update-dialog-module__udPill--leinK",udSub:"update-dialog-module__udSub--zfs1y",udList:"update-dialog-module__udList--jnFg8",udFeat:"update-dialog-module__udFeat--MSXJY",udFix:"update-dialog-module__udFix--18UZ3",udPerf:"update-dialog-module__udPerf--bRifN",udBreak:"update-dialog-module__udBreak--jl-Bf",udActions:"update-dialog-module__udActions--5tqy2",udBtn:"update-dialog-module__udBtn--IHB-y",udBtnPrimary:"update-dialog-module__udBtnPrimary--ZlLFd",udBtnGhost:"update-dialog-module__udBtnGhost--Ly-cb",udAlert:"update-dialog-module__udAlert--GJ6WI",udAlertMessage:"update-dialog-module__udAlertMessage--nJfX4",udLoading:"update-dialog-module__udLoading----KQf",udLoadingSpinner:"update-dialog-module__udLoadingSpinner--0OgBH",udLoadingSvg:"update-dialog-module__udLoadingSvg--k5e0b",udRotate:"update-dialog-module__udRotate--gve2C",udLoadingCircle:"update-dialog-module__udLoadingCircle--Q78XG",udDash:"update-dialog-module__udDash--TGdW5",udLoadingMessage:"update-dialog-module__udLoadingMessage---UM99"};var Q=Array.isArray,q=Array.prototype.indexOf,$=Array.from,nn=Object.defineProperty,tn=Object.getOwnPropertyDescriptor,en=Object.getOwnPropertyDescriptors,rn=Object.prototype,on=Array.prototype,an=Object.getPrototypeOf,ln=Object.isExtensible;function sn(n){return"function"==typeof n}const cn=()=>{};function un(n){return n()}function dn(n){for(var t=0;t<n.length;t++)n[t]()}function fn(){var n,t;return{promise:new Promise((e,r)=>{n=e,t=r}),resolve:n,reject:t}}const gn=1<<24,vn=16,pn=32,hn=64,bn=128,mn=512,wn=1024,yn=2048,In=4096,Cn=8192,xn=16384,An=32768,kn=65536,Gn=1<<17,_n=1<<18,Ln=1<<19,Sn=1<<25,Xn=32768,Wn=1<<21,Zn=1<<22,Mn=1<<23,Nn=Symbol("$state"),jn=Symbol("legacy props"),Bn=Symbol(""),Yn=Symbol("proxy path"),Rn=new class extends Error{constructor(){super(...arguments),V(this,"name","StaleReactionError"),V(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Pn(n){{const t=new Error(`lifecycle_outside_component\n\`${n}(...)\` can only be used during component initialisation\nhttps://svelte.dev/e/lifecycle_outside_component`);throw t.name="Svelte error",t}}function On(){{const n=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw n.name="Svelte error",n}}const Hn=Symbol(),zn=Symbol("filename");var Tn="font-weight: bold",Vn="font-weight: normal";function Fn(n){console.warn(`%c[svelte] state_proxy_equality_mismatch\n%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${n}\` will produce unexpected results\nhttps://svelte.dev/e/state_proxy_equality_mismatch`,Tn,Vn)}function En(n){return n===this.v}function Dn(n){return t=n,e=this.v,!(t!=t?e==e:t!==e||null!==t&&"object"==typeof t||"function"==typeof t);var t,e}let Un=!1;function Jn(n){console.warn(`%c[svelte] state_snapshot_uncloneable\n%c${n?`The following properties cannot be cloned with \`$state.snapshot\` â€” the return value contains the originals:\n\n${n}`:"Value cannot be cloned with `$state.snapshot` â€” the original value was returned"}\nhttps://svelte.dev/e/state_snapshot_uncloneable`,"font-weight: bold","font-weight: normal")}const Kn=[];function Qn(n,t=!1,e=!1){if(!t){const t=[],r=qn(n,new Map,"",t,null,e);if(1===t.length&&""===t[0])Jn();else if(t.length>0){const n=t.length>10?t.slice(0,7):t.slice(0,10),e=t.length-n.length;let r=n.map(n=>`- <value>${n}`).join("\n");e>0&&(r+=`\n- ...and ${e} more`),Jn(r)}return r}return qn(n,new Map,"",Kn,null,e)}function qn(n,t,e,r,o=null,i=!1){if("object"==typeof n&&null!==n){var a=t.get(n);if(void 0!==a)return a;if(n instanceof Map)return new Map(n);if(n instanceof Set)return new Set(n);if(Q(n)){var l=Array(n.length);t.set(n,l),null!==o&&t.set(o,l);for(var s=0;s<n.length;s+=1){var c=n[s];s in n&&(l[s]=qn(c,t,`${e}[${s}]`,r,null,i))}return l}if(an(n)===rn){for(var u in l={},t.set(n,l),null!==o&&t.set(o,l),n)l[u]=qn(n[u],t,`${e}.${u}`,r,null,i);return l}if(n instanceof Date)return structuredClone(n);if("function"==typeof n.toJSON&&!i)return qn(n.toJSON(),t,`${e}.toJSON()`,r,n)}if(n instanceof EventTarget)return n;try{return structuredClone(n)}catch(d){return r.push(e),n}}function $n(n,t){return n.label=t,nt(n.v,t),n}function nt(n,t){var e;return null==(e=null==n?void 0:n[Yn])||e.call(n,t),n}function tt(n){const t=new Error,e=function(){const n=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const t=(new Error).stack;if(Error.stackTraceLimit=n,!t)return[];const e=t.split("\n"),r=[];for(let o=0;o<e.length;o++){const n=e[o],t=n.replaceAll("\\","/");if("Error"!==n.trim()){if(n.includes("validate_each_keys"))return[];t.includes("svelte/src/internal")||t.includes("node_modules/.vite")||r.push(n)}}return r}();return 0===e.length?null:(e.unshift("\n"),nn(t,"stack",{value:e.join("\n")}),nn(t,"name",{value:n}),t)}let et=null;function rt(n){et=n}let ot=null;function it(n){ot=n}function at(n,t,e,r,o,i){const a=ot;ot={type:t,file:e[zn],line:r,column:o,parent:a,...i};try{return n()}finally{ot=a}}let lt=null;function st(n){lt=n}function ct(n,t=!1,e){et={p:et,i:!1,c:null,e:null,s:n,x:null,l:Un&&!t?{s:null,u:null,$:[]}:null},et.function=e,lt=e}function ut(n){var t=et,e=t.e;if(null!==e)for(var r of(t.e=null,e))Be(r);return void 0!==n&&(t.x=n),t.i=!0,et=t.p,lt=(null==et?void 0:et.function)??null,n??{}}function dt(){return!Un||null!==et&&null===et.l}let ft=[];function gt(){var n=ft;ft=[],dn(n)}function vt(n){if(0===ft.length&&!_t){var t=ft;queueMicrotask(()=>{t===ft&&gt()})}ft.push(n)}function pt(){for(;ft.length>0;)gt()}const ht=new WeakMap;function bt(n){var t=ar;if(null===t)return rr.f|=Mn,n;if(n instanceof Error&&!ht.has(n)&&ht.set(n,function(n,t){var e,r,o;const i=tn(n,"message");if(i&&!i.configurable)return;var a=be?"  ":"\t",l=`\n${a}in ${(null==(e=t.fn)?void 0:e.name)||"<unknown>"}`,s=t.ctx;for(;null!==s;)l+=`\n${a}in ${null==(r=s.function)?void 0:r[zn].split("/").pop()}`,s=s.p;return{message:n.message+`\n${l}\n`,stack:null==(o=n.stack)?void 0:o.split("\n").filter(n=>!n.includes("svelte/src/internal")).join("\n")}}(n,t)),0===(t.f&An)){if(0===(t.f&bn))throw!t.parent&&n instanceof Error&&wt(n),n;t.b.error(n)}else mt(n,t)}function mt(n,t){for(;null!==t;){if(0!==(t.f&bn))try{return void t.b.error(n)}catch(e){n=e}t=t.parent}throw n instanceof Error&&wt(n),n}function wt(n){const t=ht.get(n);t&&(nn(n,"message",{value:t.message}),nn(n,"stack",{value:t.stack}))}const yt=new Set;let It=null,Ct=null,xt=null,At=[],kt=null,Gt=!1,_t=!1;n=new WeakMap,t=new WeakMap,e=new WeakMap,r=new WeakMap,o=new WeakMap,i=new WeakMap,a=new WeakMap,l=new WeakSet,s=function(n,t){var e;n.f^=wn;for(var r=n.first;null!==r;){var o=r.f,a=!!(96&o),s=a&&0!==(o&wn)||0!==(o&Cn)||this.skipped_effects.has(r);if(0!==(r.f&bn)&&(null==(e=r.b)?void 0:e.is_pending())&&(t={parent:t,effect:r,effects:[],render_effects:[]}),!s&&null!==r.fn){a?r.f^=wn:4&o?t.effects.push(r):mr(r)&&(0!==(r.f&vn)&&E(this,i).add(r),xr(r));var u=r.first;if(null!==u){r=u;continue}}var d=r.parent;for(r=r.next;null===r&&null!==d;)d===t.effect&&(J(this,l,c).call(this,t.effects),J(this,l,c).call(this,t.render_effects),t=t.parent),r=d.next,d=d.parent}},c=function(n){for(const t of n)0!==(t.f&yn)?E(this,i).add(t):0!==(t.f&In)&&E(this,a).add(t),J(this,l,u).call(this,t.deps),Xr(t,wn)},u=function(n){if(null!==n)for(const t of n)2&t.f&&0!==(t.f&Xn)&&(t.f^=Xn,J(this,l,u).call(this,t.deps))},d=function(){if(0===E(this,r)){for(const t of E(this,n))t();E(this,n).clear()}0===E(this,e)&&J(this,l,f).call(this)},f=function(){var n;if(yt.size>1){this.previous.clear();var t=xt,e=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const t of yt){if(t===this){e=!1;continue}const i=[];for(const[n,r]of this.current){if(t.current.has(n)){if(!e||r===t.current.get(n))continue;t.current.set(n,r)}i.push(n)}if(0===i.length)continue;const a=[...t.current.keys()].filter(n=>!this.current.has(n));if(a.length>0){var o=At;At=[];const e=new Set,c=new Map;for(const n of i)Mt(n,a,e,c);if(At.length>0){It=t,t.apply();for(const e of At)J(n=t,l,s).call(n,e,r);t.deactivate()}At=o}}It=null,xt=t}this.committed=!0,yt.delete(this)};let Lt=class u{constructor(){D(this,l),V(this,"committed",!1),V(this,"current",new Map),V(this,"previous",new Map),D(this,n,new Set),D(this,t,new Set),D(this,e,0),D(this,r,0),D(this,o,null),D(this,i,new Set),D(this,a,new Set),V(this,"skipped_effects",new Set),V(this,"is_fork",!1)}is_deferred(){return this.is_fork||E(this,r)>0}process(n){var t;At=[],Ct=null,this.apply();var e={parent:null,effect:null,effects:[],render_effects:[]};for(const r of n)J(this,l,s).call(this,r,e);this.is_fork||J(this,l,d).call(this),this.is_deferred()?(J(this,l,c).call(this,e.effects),J(this,l,c).call(this,e.render_effects)):(Ct=this,It=null,Zt(e.render_effects),Zt(e.effects),Ct=null,null==(t=E(this,o))||t.resolve()),xt=null}capture(n,t){this.previous.has(n)||this.previous.set(n,t),0===(n.f&Mn)&&(this.current.set(n,n.v),null==xt||xt.set(n,n.v))}activate(){It=this,this.apply()}deactivate(){It===this&&(It=null,xt=null)}flush(){if(this.activate(),At.length>0){if(St(),null!==It&&It!==this)return}else 0===E(this,e)&&this.process([]);this.deactivate()}discard(){for(const n of E(this,t))n(this);E(this,t).clear()}increment(n){U(this,e,E(this,e)+1),n&&U(this,r,E(this,r)+1)}decrement(n){U(this,e,E(this,e)-1),n&&U(this,r,E(this,r)-1),this.revive()}revive(){for(const n of E(this,i))E(this,a).delete(n),Xr(n,yn),jt(n);for(const n of E(this,a))Xr(n,In),jt(n);this.flush()}oncommit(t){E(this,n).add(t)}ondiscard(n){E(this,t).add(n)}settled(){return(E(this,o)??U(this,o,fn())).promise}static ensure(){if(null===It){const n=It=new u;yt.add(It),_t||u.enqueue(()=>{It===n&&n.flush()})}return It}static enqueue(n){vt(n)}apply(){}};function St(){var n=$e;Gt=!0;var t=new Set;try{var e=0;for(nr(!0);At.length>0;){var r=Lt.ensure();if(e++>1e3){var o=new Map;for(const n of r.current.keys())for(const[t,e]of n.updated??[]){var i=o.get(t);i||(i={error:e.error,count:0},o.set(t,i)),i.count+=e.count}for(const n of o.values())n.error&&console.error(n.error);Xt()}r.process(At),Kt.clear();for(const n of r.current.keys())t.add(n)}}finally{Gt=!1,nr(n),kt=null;for(const n of t)n.updated=null}}function Xt(){try{!function(){{const n=new Error("effect_update_depth_exceeded\nMaximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state\nhttps://svelte.dev/e/effect_update_depth_exceeded");throw n.name="Svelte error",n}}()}catch(n){nn(n,"stack",{value:""}),mt(n,kt)}}let Wt=null;function Zt(n){var t=n.length;if(0!==t){for(var e=0;e<t;){var r=n[e++];if(!(24576&r.f)&&mr(r)&&(Wt=new Set,xr(r),null===r.deps&&null===r.first&&null===r.nodes&&(null===r.teardown&&null===r.ac?De(r):r.fn=null),(null==Wt?void 0:Wt.size)>0)){Kt.clear();for(const n of Wt){if(24576&n.f)continue;const t=[n];let e=n.parent;for(;null!==e;)Wt.has(e)&&(Wt.delete(e),t.push(e)),e=e.parent;for(let n=t.length-1;n>=0;n--){const e=t[n];24576&e.f||xr(e)}}Wt.clear()}}Wt=null}}function Mt(n,t,e,r){if(!e.has(n)&&(e.add(n),null!==n.reactions))for(const o of n.reactions){const n=o.f;2&n?Mt(o,t,e,r):4194320&n&&0===(n&yn)&&Nt(o,t,r)&&(Xr(o,yn),jt(o))}}function Nt(n,t,e){const r=e.get(n);if(void 0!==r)return r;if(null!==n.deps)for(const o of n.deps){if(t.includes(o))return!0;if(2&o.f&&Nt(o,t,e))return e.set(o,!0),!0}return e.set(n,!1),!1}function jt(n){for(var t=kt=n;null!==t.parent;){var e=(t=t.parent).f;if(Gt&&t===ar&&0!==(e&vn)&&0===(e&_n))return;if(96&e){if(0===(e&wn))return;t.f^=wn}}At.push(t)}class Bt{constructor(n,t,e){D(this,S),V(this,"parent"),D(this,g,!1),D(this,v),D(this,p,null),D(this,h),D(this,b),D(this,m),D(this,w,null),D(this,y,null),D(this,I,null),D(this,C,null),D(this,x,null),D(this,A,0),D(this,k,0),D(this,G,!1),D(this,_,null),D(this,L,function(n){let t,e=0,r=$t(0);return $n(r,"createSubscriber version"),()=>{Me()&&(kr(r),Re(()=>(0===e&&(t=Lr(()=>n(()=>ae(r)))),e+=1,()=>{vt(()=>{e-=1,0===e&&(null==t||t(),t=void 0,ae(r))})})))}}(()=>(U(this,_,$t(E(this,A))),$n(E(this,_),"$effect.pending()"),()=>{U(this,_,null)}))),U(this,v,n),U(this,h,t),U(this,b,e),this.parent=ar.b,U(this,g,!!E(this,h).pending),U(this,m,Oe(()=>{ar.b=this;var n=J(this,S,X).call(this);try{U(this,w,ze(()=>e(n)))}catch(t){this.error(t)}return E(this,k)>0?J(this,S,Z).call(this):U(this,g,!1),()=>{var n;null==(n=E(this,x))||n.remove()}},589952))}is_pending(){return E(this,g)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!E(this,h).pending}update_pending_count(n){J(this,S,M).call(this,n),U(this,A,E(this,A)+n),E(this,_)&&re(E(this,_),E(this,A))}get_effect_pending(){return E(this,L).call(this),kr(E(this,_))}error(n){var t=E(this,h).onerror;let e=E(this,h).failed;if(E(this,G)||!t&&!e)throw n;E(this,w)&&(Fe(E(this,w)),U(this,w,null)),E(this,y)&&(Fe(E(this,y)),U(this,y,null)),E(this,I)&&(Fe(E(this,I)),U(this,I,null));var r=!1,o=!1;const i=()=>{r?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",Tn,Vn):(r=!0,o&&function(){{const n=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw n.name="Svelte error",n}}(),Lt.ensure(),U(this,A,0),null!==E(this,I)&&Ue(E(this,I),()=>{U(this,I,null)}),U(this,g,this.has_pending_snippet()),U(this,w,J(this,S,W).call(this,()=>(U(this,G,!1),ze(()=>E(this,b).call(this,E(this,v)))))),E(this,k)>0?J(this,S,Z).call(this):U(this,g,!1))};var a=rr;try{ir(null),o=!0,null==t||t(n,i),o=!1}catch(l){mt(l,E(this,m)&&E(this,m).parent)}finally{ir(a)}e&&vt(()=>{U(this,I,J(this,S,W).call(this,()=>{Lt.ensure(),U(this,G,!0);try{return ze(()=>{e(E(this,v),()=>n,()=>i)})}catch(l){return mt(l,E(this,m).parent),null}finally{U(this,G,!1)}}))})}}function Yt(n,t,e,r){const o=dt()?Ht:Vt;if(0!==e.length||0!==n.length){var i,a,l,s,c,u=It,d=ar,f=(i=ar,a=rr,l=et,s=It,c=ot,function(n=!0){lr(i),ir(a),rt(l),n&&(null==s||s.activate()),it(c)});n.length>0?Promise.all(n).then(()=>{f();try{return g()}finally{null==u||u.deactivate(),Pt()}}):g()}else r(t.map(o));function g(){Promise.all(e.map(n=>zt(n))).then(n=>{f();try{r([...t.map(o),...n])}catch(e){0===(d.f&xn)&&mt(e,d)}null==u||u.deactivate(),Pt()}).catch(n=>{mt(n,d)})}}async function Rt(n){var t=await n;return()=>t}function Pt(){lr(null),ir(null),rt(null),it(null)}g=new WeakMap,v=new WeakMap,p=new WeakMap,h=new WeakMap,b=new WeakMap,m=new WeakMap,w=new WeakMap,y=new WeakMap,I=new WeakMap,C=new WeakMap,x=new WeakMap,A=new WeakMap,k=new WeakMap,G=new WeakMap,_=new WeakMap,L=new WeakMap,S=new WeakSet,X=function(){var n=E(this,v);return E(this,g)&&(U(this,x,Ie()),E(this,v).before(E(this,x)),n=E(this,x)),n},W=function(n){var t=ar,e=rr,r=et;lr(E(this,m)),ir(E(this,m)),rt(E(this,m).ctx);try{return n()}catch(o){return bt(o),null}finally{lr(t),ir(e),rt(r)}},Z=function(){const n=E(this,h).pending;null!==E(this,w)&&(U(this,C,document.createDocumentFragment()),E(this,C).append(E(this,x)),qe(E(this,w),E(this,C))),null===E(this,y)&&U(this,y,ze(()=>n(E(this,v))))},M=function(n){var t;this.has_pending_snippet()?(U(this,k,E(this,k)+n),0===E(this,k)&&(U(this,g,!1),E(this,y)&&Ue(E(this,y),()=>{U(this,y,null)}),E(this,C)&&(E(this,v).before(E(this,C)),U(this,C,null)))):this.parent&&J(t=this.parent,S,M).call(t,n)};const Ot=new Set;function Ht(n){var t=null!==rr&&2&rr.f?rr:null;null!==ar&&(ar.f|=Ln);return{ctx:et,deps:null,effects:null,equals:En,f:2050,fn:n,reactions:null,rv:0,v:Hn,wv:0,parent:t??ar,ac:null}}function zt(n,t){let e=ar;null===e&&function(){{const n=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw n.name="Svelte error",n}}();var r=e.b,o=void 0,i=$t(Hn),a=!rr,l=new Map;return function(n){Ze(4718592,n,!0)}(()=>{var t,e=fn();o=e.promise;try{Promise.resolve(n()).then(e.resolve,e.reject).then(()=>{s===It&&s.committed&&s.deactivate(),Pt()})}catch(d){e.reject(d),Pt()}var s=It;if(a){var c=!r.is_pending();r.update_pending_count(1),s.increment(c),null==(t=l.get(s))||t.reject(Rn),l.delete(s),l.set(s,e)}const u=(n,t=void 0)=>{if(s.activate(),t)t!==Rn&&(i.f|=Mn,re(i,t));else{0!==(i.f&Mn)&&(i.f^=Mn),re(i,n);for(const[n,t]of l){if(l.delete(n),n===s)break;t.reject(Rn)}}a&&(r.update_pending_count(-1),s.decrement(c))};e.promise.then(u,n=>u(null,n||"unknown"))}),Ne(()=>{for(const n of l.values())n.reject(Rn)}),i.f|=Zn,new Promise(n=>{!function t(e){function r(){e===o?n(i):t(o)}e.then(r,r)}(o)})}function Tt(n){const t=Ht(n);return cr(t),t}function Vt(n){const t=Ht(n);return t.equals=Dn,t}function Ft(n){var t=n.effects;if(null!==t){n.effects=null;for(var e=0;e<t.length;e+=1)Fe(t[e])}}let Et=[];function Dt(n){var t,e=ar;lr(function(n){for(var t=n.parent;null!==t;){if(!(2&t.f))return 0===(t.f&xn)?t:null;t=t.parent}return null}(n));{let r=Jt;Qt(new Set);try{Et.includes(n)&&function(){{const n=new Error("derived_references_self\nA derived value cannot reference itself recursively\nhttps://svelte.dev/e/derived_references_self");throw n.name="Svelte error",n}}(),Et.push(n),n.f&=-32769,Ft(n),t=yr(n)}finally{lr(e),Qt(r),Et.pop()}}return t}function Ut(n){var t=Dt(n);(n.equals(t)||((null==It?void 0:It.is_fork)||(n.v=t),n.wv=br()),tr)||(null!==xt?(Me()||(null==It?void 0:It.is_fork))&&xt.set(n,t):Xr(n,0===(n.f&mn)?In:wn))}let Jt=new Set;const Kt=new Map;function Qt(n){Jt=n}let qt=!1;function $t(n,t){return{f:0,v:n,reactions:null,equals:En,rv:0,wv:0}}function ne(n,t){const e=$t(n);return cr(e),e}function te(n,t=!1,e=!0){var r;const o=$t(n);return t||(o.equals=Dn),Un&&e&&null!==et&&null!==et.l&&((r=et.l).s??(r.s=[])).push(o),o}function ee(n,t,e=!1){null!==rr&&(!or||0!==(rr.f&Gn))&&dt()&&4325394&rr.f&&!(null==sr?void 0:sr.includes(n))&&function(){{const n=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw n.name="Svelte error",n}}();let r=e?ce(t):t;return nt(r,n.label),re(n,r)}function re(n,t){var e;if(!n.equals(t)){var r=n.v;tr?Kt.set(n,t):Kt.set(n,r),n.v=t;var o=Lt.ensure();if(o.capture(n,r),null!==ar){n.updated??(n.updated=new Map);const t=((null==(e=n.updated.get(""))?void 0:e.count)??0)+1;if(n.updated.set("",{error:null,count:t}),t>5){const t=tt("updated at");if(null!==t){let e=n.updated.get(t.stack);e||(e={error:t,count:0},n.updated.set(t.stack,e)),e.count++}}}null!==ar&&(n.set_during_effect=!0),2&n.f&&(0!==(n.f&yn)&&Dt(n),Xr(n,0!==(n.f&mn)?wn:In)),n.wv=br(),le(n,yn),!dt()||null===ar||0===(ar.f&wn)||96&ar.f||(null===fr?function(n){fr=n}([n]):fr.push(n)),!o.is_fork&&Jt.size>0&&!qt&&oe()}return t}function oe(){qt=!1;var n=$e;nr(!0);const t=Array.from(Jt);try{for(const n of t)0!==(n.f&wn)&&Xr(n,In),mr(n)&&xr(n)}finally{nr(n)}Jt.clear()}function ie(n,t=1){var e=kr(n),r=1===t?e++:e--;return ee(n,e),r}function ae(n){ee(n,n.v+1)}function le(n,t){var e=n.reactions;if(null!==e)for(var r=dt(),o=e.length,i=0;i<o;i++){var a=e[i],l=a.f;if(r||a!==ar)if(0===(l&Gn)){var s=0===(l&yn);if(s&&Xr(a,t),2&l){var c=a;null==xt||xt.delete(c),0===(l&Xn)&&(l&mn&&(a.f|=Xn),le(c,In))}else s&&(0!==(l&vn)&&null!==Wt&&Wt.add(a),jt(a))}else Jt.add(a)}}const se=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function ce(n){if("object"!=typeof n||null===n||Nn in n)return n;const t=an(n);if(t!==rn&&t!==on)return n;var e=new Map,r=Q(n),o=ne(0),i=pr,a=n=>{if(pr===i)return n();var t=rr,e=pr;ir(null),hr(i);var r=n();return ir(t),hr(e),r};r&&(e.set("length",ne(n.length)),n=new Proxy(n,{get(n,t,e){var r=Reflect.get(n,t,e);return ge.has(t)?function(...n){qt=!0;var t=r.apply(this,n);return oe(),t}:r}}));var l="";let s=!1;function c(n){if(!s){s=!0,$n(o,`${l=n} version`);for(const[n,t]of e)$n(t,ue(l,n));s=!1}}return new Proxy(n,{defineProperty(n,t,r){"value"in r&&!1!==r.configurable&&!1!==r.enumerable&&!1!==r.writable||function(){{const n=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw n.name="Svelte error",n}}();var o=e.get(t);return void 0===o?o=a(()=>{var n=ne(r.value);return e.set(t,n),"string"==typeof t&&$n(n,ue(l,t)),n}):ee(o,r.value,!0),!0},deleteProperty(n,t){var r=e.get(t);if(void 0===r){if(t in n){const n=a(()=>ne(Hn));e.set(t,n),ae(o),$n(n,ue(l,t))}}else ee(r,Hn),ae(o);return!0},get(t,r,o){var i;if(r===Nn)return n;if(r===Yn)return c;var s=e.get(r),u=r in t;if(void 0!==s||u&&!(null==(i=tn(t,r))?void 0:i.writable)||(s=a(()=>{var n=ne(ce(u?t[r]:Hn));return $n(n,ue(l,r)),n}),e.set(r,s)),void 0!==s){var d=kr(s);return d===Hn?void 0:d}return Reflect.get(t,r,o)},getOwnPropertyDescriptor(n,t){var r=Reflect.getOwnPropertyDescriptor(n,t);if(r&&"value"in r){var o=e.get(t);o&&(r.value=kr(o))}else if(void 0===r){var i=e.get(t),a=null==i?void 0:i.v;if(void 0!==i&&a!==Hn)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return r},has(n,t){var r;if(t===Nn)return!0;var o=e.get(t),i=void 0!==o&&o.v!==Hn||Reflect.has(n,t);if((void 0!==o||null!==ar&&(!i||(null==(r=tn(n,t))?void 0:r.writable)))&&(void 0===o&&(o=a(()=>{var e=ne(i?ce(n[t]):Hn);return $n(e,ue(l,t)),e}),e.set(t,o)),kr(o)===Hn))return!1;return i},set(n,t,i,s){var c,u=e.get(t),d=t in n;if(r&&"length"===t)for(var f=i;f<u.v;f+=1){var g=e.get(f+"");void 0!==g?ee(g,Hn):f in n&&(g=a(()=>ne(Hn)),e.set(f+"",g),$n(g,ue(l,f)))}void 0===u?d&&!(null==(c=tn(n,t))?void 0:c.writable)||($n(u=a(()=>ne(void 0)),ue(l,t)),ee(u,ce(i)),e.set(t,u)):(d=u.v!==Hn,ee(u,a(()=>ce(i))));var v=Reflect.getOwnPropertyDescriptor(n,t);if((null==v?void 0:v.set)&&v.set.call(s,i),!d){if(r&&"string"==typeof t){var p=e.get("length"),h=Number(t);Number.isInteger(h)&&h>=p.v&&ee(p,h+1)}ae(o)}return!0},ownKeys(n){kr(o);var t=Reflect.ownKeys(n).filter(n=>{var t=e.get(n);return void 0===t||t.v!==Hn});for(var[r,i]of e)i.v===Hn||r in n||t.push(r);return t},setPrototypeOf(){!function(){{const n=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw n.name="Svelte error",n}}()}})}function ue(n,t){return"symbol"==typeof t?`${n}[Symbol(${t.description??""})]`:se.test(t)?`${n}.${t}`:/^\d+$/.test(t)?`${n}[${t}]`:`${n}['${t}']`}function de(n){try{if(null!==n&&"object"==typeof n&&Nn in n)return n[Nn]}catch{}return n}function fe(n,t){return Object.is(de(n),de(t))}const ge=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function ve(n,t,e=!0){try{n===t!=(de(n)===de(t))&&Fn(e?"===":"!==")}catch{}return n===t===e}var pe,he,be,me,we;function ye(){if(void 0===pe){pe=window,he=document,be=/Firefox/.test(navigator.userAgent);var n=Element.prototype,t=Node.prototype,e=Text.prototype;me=tn(t,"firstChild").get,we=tn(t,"nextSibling").get,ln(n)&&(n.__click=void 0,n.__className=void 0,n.__attributes=null,n.__style=void 0,n.__e=void 0),ln(e)&&(e.__t=void 0),n.__svelte_meta=null,function(){const n=Array.prototype,t=Array.__svelte_cleanup;t&&t();const{indexOf:e,lastIndexOf:r,includes:o}=n;n.indexOf=function(n,t){const r=e.call(this,n,t);if(-1===r)for(let e=t??0;e<this.length;e+=1)if(de(this[e])===n){Fn("array.indexOf(...)");break}return r},n.lastIndexOf=function(n,t){const e=r.call(this,n,t??this.length-1);if(-1===e)for(let r=0;r<=(t??this.length-1);r+=1)if(de(this[r])===n){Fn("array.lastIndexOf(...)");break}return e},n.includes=function(n,t){const e=o.call(this,n,t);if(!e)for(let r=0;r<this.length;r+=1)if(de(this[r])===n){Fn("array.includes(...)");break}return e},Array.__svelte_cleanup=()=>{n.indexOf=e,n.lastIndexOf=r,n.includes=o}}()}}function Ie(n=""){return document.createTextNode(n)}function Ce(n){return me.call(n)}function xe(n){return we.call(n)}function Ae(n,t){return Ce(n)}function ke(n,t=!1){var e=Ce(n);return e instanceof Comment&&""===e.data?xe(e):e}function Ge(n,t=1,e=!1){let r=n;for(;t--;)r=xe(r);return r}function _e(n,t){if(t){const t=document.body;n.autofocus=!0,vt(()=>{document.activeElement===t&&n.focus()})}}let Le=!1;function Se(n){var t=rr,e=ar;ir(null),lr(null);try{return n()}finally{ir(t),lr(e)}}function Xe(n,t,e,r=e){n.addEventListener(t,()=>Se(e));const o=n.__on_r;n.__on_r=o?()=>{o(),r(!0)}:()=>r(!0),Le||(Le=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var t;if(!n.defaultPrevented)for(const e of n.target.elements)null==(t=e.__on_r)||t.call(e)})},{capture:!0}))}function We(n){null===ar&&(null===rr&&function(n){{const t=new Error(`effect_orphan\n\`${n}\` can only be used inside an effect (e.g. during component initialisation)\nhttps://svelte.dev/e/effect_orphan`);throw t.name="Svelte error",t}}(n),function(){{const n=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw n.name="Svelte error",n}}()),tr&&function(n){{const t=new Error(`effect_in_teardown\n\`${n}\` cannot be used inside an effect cleanup function\nhttps://svelte.dev/e/effect_in_teardown`);throw t.name="Svelte error",t}}(n)}function Ze(n,t,e){for(var r=ar;null!==r&&0!==(r.f&Gn);)r=r.parent;null!==r&&0!==(r.f&Cn)&&(n|=Cn);var o={ctx:et,deps:null,nodes:null,f:n|yn|mn,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(o.component_function=lt,e)try{xr(o),o.f|=An}catch(l){throw Fe(o),l}else null!==t&&jt(o);var i=o;if(e&&null===i.deps&&null===i.teardown&&null===i.nodes&&i.first===i.last&&0===(i.f&Ln)&&(i=i.first,0!==(n&vn)&&0!==(n&kn)&&null!==i&&(i.f|=kn)),null!==i&&(i.parent=r,null!==r&&function(n,t){var e=t.last;null===e?t.last=t.first=n:(e.next=n,n.prev=e,t.last=n)}(i,r),null!==rr&&2&rr.f&&0===(n&hn))){var a=rr;(a.effects??(a.effects=[])).push(i)}return o}function Me(){return null!==rr&&!or}function Ne(n){const t=Ze(8,null,!1);return Xr(t,wn),t.teardown=n,t}function je(n){We("$effect"),nn(n,"name",{value:"$effect"});var t=ar.f;if(!(!rr&&0!==(t&pn)&&0===(t&An)))return Be(n);var e=et;(e.e??(e.e=[])).push(n)}function Be(n){return Ze(1048580,n,!1)}function Ye(n){return Ze(4,n,!1)}function Re(n,t=0){return Ze(8|t,n,!0)}function Pe(n,t=[],e=[],r=[]){Yt(r,t,e,t=>{Ze(8,()=>n(...t.map(kr)),!0)})}function Oe(n,t=0){var e=Ze(vn|t,n,!0);return e.dev_stack=ot,e}function He(n,t=0){var e=Ze(gn|t,n,!0);return e.dev_stack=ot,e}function ze(n){return Ze(524320,n,!0)}function Te(n){var t=n.teardown;if(null!==t){const n=tr,e=rr;er(!0),ir(null);try{t.call(null)}finally{er(n),ir(e)}}}function Ve(n,t=!1){var e=n.first;for(n.first=n.last=null;null!==e;){const n=e.ac;null!==n&&Se(()=>{n.abort(Rn)});var r=e.next;0!==(e.f&hn)?e.parent=null:Fe(e,t),e=r}}function Fe(n,t=!0){var e=!1;!t&&0===(n.f&_n)||null===n.nodes||null===n.nodes.end||(Ee(n.nodes.start,n.nodes.end),e=!0),Ve(n,t&&!e),Cr(n,0),Xr(n,xn);var r=n.nodes&&n.nodes.t;if(null!==r)for(const i of r)i.stop();Te(n);var o=n.parent;null!==o&&null!==o.first&&De(n),n.component_function=null,n.next=n.prev=n.teardown=n.ctx=n.deps=n.fn=n.nodes=n.ac=null}function Ee(n,t){for(;null!==n;){var e=n===t?null:xe(n);n.remove(),n=e}}function De(n){var t=n.parent,e=n.prev,r=n.next;null!==e&&(e.next=r),null!==r&&(r.prev=e),null!==t&&(t.first===n&&(t.first=r),t.last===n&&(t.last=e))}function Ue(n,t,e=!0){var r=[];Je(n,r,!0);var o=()=>{e&&Fe(n),t&&t()},i=r.length;if(i>0){var a=()=>--i||o();for(var l of r)l.out(a)}else o()}function Je(n,t,e){if(0===(n.f&Cn)){n.f^=Cn;var r=n.nodes&&n.nodes.t;if(null!==r)for(const n of r)(n.is_global||e)&&t.push(n);for(var o=n.first;null!==o;){var i=o.next;Je(o,t,!!(0!==(o.f&kn)||0!==(o.f&pn)&&0!==(n.f&vn))&&e),o=i}}}function Ke(n){Qe(n,!0)}function Qe(n,t){if(0!==(n.f&Cn)){n.f^=Cn,0===(n.f&wn)&&(Xr(n,yn),jt(n));for(var e=n.first;null!==e;){var r=e.next;Qe(e,!!(0!==(e.f&kn)||0!==(e.f&pn))&&t),e=r}var o=n.nodes&&n.nodes.t;if(null!==o)for(const n of o)(n.is_global||t)&&n.in()}}function qe(n,t){if(n.nodes)for(var e=n.nodes.start,r=n.nodes.end;null!==e;){var o=e===r?null:xe(e);t.append(e),e=o}}let $e=!1;function nr(n){$e=n}let tr=!1;function er(n){tr=n}let rr=null,or=!1;function ir(n){rr=n}let ar=null;function lr(n){ar=n}let sr=null;function cr(n){null!==rr&&(null===sr?sr=[n]:sr.push(n))}let ur=null,dr=0,fr=null;let gr=1,vr=0,pr=vr;function hr(n){pr=n}function br(){return++gr}function mr(n){var t=n.f;if(0!==(t&yn))return!0;if(2&t&&(n.f&=-32769),0!==(t&In)){var e=n.deps;if(null!==e)for(var r=e.length,o=0;o<r;o++){var i=e[o];if(mr(i)&&Ut(i),i.wv>n.wv)return!0}0!==(t&mn)&&null===xt&&Xr(n,wn)}return!1}function wr(n,t,e=!0){var r=n.reactions;if(null!==r&&!(null==sr?void 0:sr.includes(n)))for(var o=0;o<r.length;o++){var i=r[o];2&i.f?wr(i,t,!1):t===i&&(e?Xr(i,yn):0!==(i.f&wn)&&Xr(i,In),jt(i))}}function yr(n){var t,e=ur,r=dr,o=fr,i=rr,a=sr,l=et,s=or,c=pr,u=n.f;ur=null,dr=0,fr=null,rr=96&u?null:n,sr=null,rt(n.ctx),or=!1,pr=++vr,null!==n.ac&&(Se(()=>{n.ac.abort(Rn)}),n.ac=null);try{n.f|=Wn;var d=(0,n.fn)(),f=n.deps;if(null!==ur){var g;if(Cr(n,dr),null!==f&&dr>0)for(f.length=dr+ur.length,g=0;g<ur.length;g++)f[dr+g]=ur[g];else n.deps=f=ur;if(Me()&&0!==(n.f&mn))for(g=dr;g<f.length;g++)((t=f[g]).reactions??(t.reactions=[])).push(n)}else null!==f&&dr<f.length&&(Cr(n,dr),f.length=dr);if(dt()&&null!==fr&&!or&&null!==f&&!(6146&n.f))for(g=0;g<fr.length;g++)wr(fr[g],n);return null!==i&&i!==n&&(vr++,null!==fr&&(null===o?o=fr:o.push(...fr))),0!==(n.f&Mn)&&(n.f^=Mn),d}catch(v){return bt(v)}finally{n.f^=Wn,ur=e,dr=r,fr=o,rr=i,sr=a,rt(l),or=s,pr=c}}function Ir(n,t){let e=t.reactions;if(null!==e){var r=q.call(e,n);if(-1!==r){var o=e.length-1;0===o?e=t.reactions=null:(e[r]=e[o],e.pop())}}null===e&&2&t.f&&(null===ur||!ur.includes(t))&&(Xr(t,In),0!==(t.f&mn)&&(t.f^=mn,t.f&=-32769),Ft(t),Cr(t,0))}function Cr(n,t){var e=n.deps;if(null!==e)for(var r=t;r<e.length;r++)Ir(n,e[r])}function xr(n){var t=n.f;if(0===(t&xn)){Xr(n,wn);var e=ar,r=$e;ar=n,$e=!0;var o=lt;st(n.component_function);var i=ot;it(n.dev_stack??ot);try{16777232&t?function(n){for(var t=n.first;null!==t;){var e=t.next;0===(t.f&pn)&&Fe(t),t=e}}(n):Ve(n),Te(n);var a=yr(n);n.teardown="function"==typeof a?a:null,n.wv=gr}finally{$e=r,ar=e,st(o),it(i)}}}async function Ar(){await Promise.resolve(),function(){var n=_t;_t=!0;try{for(;;){if(pt(),0===At.length&&(null==It||It.flush(),0===At.length))return void(kt=null);St()}}finally{_t=n}}()}function kr(n){var t=!!(2&n.f);if(null!==rr&&!or&&(!(null!==ar&&0!==(ar.f&xn))&&!(null==sr?void 0:sr.includes(n)))){var e=rr.deps;if(0!==(rr.f&Wn))n.rv<vr&&(n.rv=vr,null===ur&&null!==e&&e[dr]===n?dr++:null===ur?ur=[n]:ur.includes(n)||ur.push(n));else{(rr.deps??(rr.deps=[])).push(n);var r=n.reactions;null===r?n.reactions=[rr]:r.includes(rr)||r.push(rr)}}if(Ot.delete(n),tr){if(Kt.has(n))return Kt.get(n);if(t){var o=n,i=o.v;return(0===(o.f&wn)&&null!==o.reactions||_r(o))&&(i=Dt(o)),Kt.set(o,i),i}}else t&&(!(null==xt?void 0:xt.has(n))||(null==It?void 0:It.is_fork)&&!Me())&&(mr(o=n)&&Ut(o),$e&&Me()&&0===(o.f&mn)&&Gr(o));if(null==xt?void 0:xt.has(n))return xt.get(n);if(0!==(n.f&Mn))throw n.v;return n.v}function Gr(n){if(null!==n.deps){n.f^=mn;for(const t of n.deps)(t.reactions??(t.reactions=[])).push(n),2&t.f&&0===(t.f&mn)&&Gr(t)}}function _r(n){if(n.v===Hn)return!0;if(null===n.deps)return!1;for(const t of n.deps){if(Kt.has(t))return!0;if(2&t.f&&_r(t))return!0}return!1}function Lr(n){var t=or;try{return or=!0,n()}finally{or=t}}const Sr=-7169;function Xr(n,t){n.f=n.f&Sr|t}function Wr(n){if("object"==typeof n&&n&&!(n instanceof EventTarget))if(Nn in n)Zr(n);else if(!Array.isArray(n))for(let t in n){const e=n[t];"object"==typeof e&&e&&Nn in e&&Zr(e)}}function Zr(n,t=new Set){if(!("object"!=typeof n||null===n||n instanceof EventTarget||t.has(n))){t.add(n),n instanceof Date&&n.getTime();for(let o in n)try{Zr(n[o],t)}catch(e){}const r=an(n);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const t=en(r);for(let r in t){const o=t[r].get;if(o)try{o.call(n)}catch(e){}}}}}function Mr(n){return n.endsWith("capture")&&"gotpointercapture"!==n&&"lostpointercapture"!==n}const Nr=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function jr(n){return Nr.includes(n)}const Br={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Yr(n){return n=n.toLowerCase(),Br[n]??n}const Rr=["touchstart","touchmove"];function Pr(n){return Rr.includes(n)}var Or=new Map;function Hr(n,t,e){return(...r)=>{const o=n(...r);return Tr(11===o.nodeType?o.firstChild:o,t,e),o}}function zr(n,t,e){n.__svelte_meta={parent:ot,loc:{file:t,line:e[0],column:e[1]}},e[2]&&Tr(n.firstChild,t,e[2])}function Tr(n,t,e){for(var r=0;n&&r<e.length;)1===n.nodeType&&zr(n,t,e[r++]),n=n.nextSibling}const Vr=new Set,Fr=new Set;function Er(n,t,e,r={}){function o(n){if(r.capture||Kr.call(t,n),!n.cancelBubble)return Se(()=>null==e?void 0:e.call(this,n))}return n.startsWith("pointer")||n.startsWith("touch")||"wheel"===n?vt(()=>{t.addEventListener(n,o,r)}):t.addEventListener(n,o,r),o}function Dr(n,t,e,r,o){var i={capture:r,passive:o},a=Er(n,t,e,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ne(()=>{t.removeEventListener(n,a,i)})}function Ur(n){for(var t=0;t<n.length;t++)Vr.add(n[t]);for(var e of Fr)e(n)}let Jr=null;function Kr(n){var t,e=this,r=e.ownerDocument,o=n.type,i=(null==(t=n.composedPath)?void 0:t.call(n))||[],a=i[0]||n.target;Jr=n;var l=0,s=Jr===n&&n.__root;if(s){var c=i.indexOf(s);if(-1!==c&&(e===document||e===window))return void(n.__root=e);var u=i.indexOf(e);if(-1===u)return;c<=u&&(l=c)}if((a=i[l]||n.target)!==e){nn(n,"currentTarget",{configurable:!0,get:()=>a||r});var d=rr,f=ar;ir(null),lr(null);try{for(var g,v=[];null!==a;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var h=a["__"+o];null==h||a.disabled&&n.target!==a||h.call(a,n)}catch(b){g?v.push(b):g=b}if(n.cancelBubble||p===e||null===p)break;a=p}if(g){for(let n of v)queueMicrotask(()=>{throw n});throw g}}finally{n.__root=e,delete n.currentTarget,ir(d),lr(f)}}}function Qr(n,t,e,r,o,i=!1,a=!1){var l,s;let c,u;try{c=n()}catch(d){u=d}if("function"!=typeof c&&(i||null!=c||u)){const n=null==r?void 0:r[zn],t=o?` at ${n}:${o[0]}:${o[1]}`:` in ${n}`,i=(null==(l=e[0])?void 0:l.eventPhase)<Event.BUBBLING_PHASE?"capture":"";if(function(n,t){console.warn(`%c[svelte] event_handler_invalid\n%c${n} should be a function. Did you mean to ${t}?\nhttps://svelte.dev/e/event_handler_invalid`,Tn,Vn)}(`\`${(null==(s=e[0])?void 0:s.type)+i}\` handler${t}`,a?"remove the trailing `()`":"add a leading `() =>`"),u)throw u}null==c||c.apply(t,e)}function qr(n){var t=document.createElement("template");return t.innerHTML=n.replaceAll("<!>","\x3c!----\x3e"),t.content}function $r(n,t){var e=ar;null===e.nodes&&(e.nodes={start:n,end:t,a:null,t:null})}function no(n,t){var e,r=!!(1&t),o=!!(2&t),i=!n.startsWith("<!>");return()=>{void 0===e&&(e=qr(i?n:"<!>"+n),r||(e=Ce(e)));var t=o||be?document.importNode(e,!0):e.cloneNode(!0);r?$r(Ce(t),t.lastChild):$r(t,t);return t}}function to(n,t,e="svg"){var r,o=`<${e}>${!n.startsWith("<!>")?n:"<!>"+n}</${e}>`;return()=>{if(!r){var n=qr(o);r=Ce(Ce(n))}var t=r.cloneNode(!0);return $r(t,t),t}}function eo(n,t){return to(n,0,"svg")}function ro(){var n=document.createDocumentFragment(),t=document.createComment(""),e=Ie();return n.append(t,e),$r(t,e),n}function oo(n,t){null!==n&&n.before(t)}let io=!0;function ao(n){io=n}function lo(n,t){var e=null==t?"":"object"==typeof t?t+"":t;e!==(n.__t??(n.__t=n.nodeValue))&&(n.__t=e,n.nodeValue=e+"")}function so(n,t){return function(n,{target:t,anchor:e,props:r={},events:o,context:i,intro:a=!0}){ye();var l=new Set,s=n=>{for(var e=0;e<n.length;e++){var r=n[e];if(!l.has(r)){l.add(r);var o=Pr(r);t.addEventListener(r,Kr,{passive:o});var i=co.get(r);void 0===i?(document.addEventListener(r,Kr,{passive:o}),co.set(r,1)):co.set(r,i+1)}}};s($(Vr)),Fr.add(s);var c=void 0,u=function(n){Lt.ensure();const t=Ze(524352,n,!0);return(n={})=>new Promise(e=>{n.outro?Ue(t,()=>{Fe(t),e(void 0)}):(Fe(t),e(void 0))})}(()=>{var u=e??t.appendChild(Ie());return function(n,t,e){new Bt(n,t,e)}(u,{pending:()=>{}},t=>{i&&(ct({}),et.c=i);o&&(r.$$events=o),io=a,c=n(t,r)||{},io=!0,i&&ut()}),()=>{var n;for(var r of l){t.removeEventListener(r,Kr);var o=co.get(r);0===--o?(document.removeEventListener(r,Kr),co.delete(r)):co.set(r,o)}Fr.delete(s),u!==e&&(null==(n=u.parentNode)||n.removeChild(u))}});return uo.set(c,u),c}(n,t)}const co=new Map;let uo=new WeakMap;function fo(n,t){const e=uo.get(n);return e?(uo.delete(n),e(t)):(Nn in n?console.warn("%c[svelte] state_proxy_unmount\n%cTried to unmount a state proxy, rather than a component\nhttps://svelte.dev/e/state_proxy_unmount",Tn,Vn):console.warn("%c[svelte] lifecycle_double_unmount\n%cTried to unmount a component that was not mounted\nhttps://svelte.dev/e/lifecycle_double_unmount",Tn,Vn),Promise.resolve())}function go(n){n&&function(n,t){{const e=new Error(`component_api_invalid_new\nAttempted to instantiate ${n} with \`new ${t}\`, which is no longer valid in Svelte 5. If this component is not under your control, set the \`compatibility.componentApi\` compiler option to \`4\` to keep it working.\nhttps://svelte.dev/e/component_api_invalid_new`);throw e.name="Svelte error",e}}(n[zn]??"a component",n.name)}function vo(){const n=null==et?void 0:et.function;function t(t){!function(n,t){{const e=new Error(`component_api_changed\nCalling \`${n}\` on a component instance (of ${t}) is no longer valid in Svelte 5\nhttps://svelte.dev/e/component_api_changed`);throw e.name="Svelte error",e}}(t,n[zn])}return{$destroy:()=>t("$destroy()"),$on:()=>t("$on(...)"),$set:()=>t("$set(...)")}}class po{constructor(n,t=!0){V(this,"anchor"),D(this,N,new Map),D(this,j,new Map),D(this,B,new Map),D(this,Y,new Set),D(this,R,!0),D(this,P,()=>{var n=It;if(E(this,N).has(n)){var t=E(this,N).get(n),e=E(this,j).get(t);if(e)Ke(e),E(this,Y).delete(t);else{var r=E(this,B).get(t);r&&(E(this,j).set(t,r.effect),E(this,B).delete(t),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),e=r.effect)}for(const[t,e]of E(this,N)){if(E(this,N).delete(t),t===n)break;const r=E(this,B).get(e);r&&(Fe(r.effect),E(this,B).delete(e))}for(const[n,r]of E(this,j)){if(n===t||E(this,Y).has(n))continue;const o=()=>{if(Array.from(E(this,N).values()).includes(n)){var t=document.createDocumentFragment();qe(r,t),t.append(Ie()),E(this,B).set(n,{effect:r,fragment:t})}else Fe(r);E(this,Y).delete(n),E(this,j).delete(n)};E(this,R)||!e?(E(this,Y).add(n),Ue(r,o,!1)):o()}}}),D(this,O,n=>{E(this,N).delete(n);const t=Array.from(E(this,N).values());for(const[e,r]of E(this,B))t.includes(e)||(Fe(r.effect),E(this,B).delete(e))}),this.anchor=n,U(this,R,t)}ensure(n,t){var e=It;!t||E(this,j).has(n)||E(this,B).has(n)||E(this,j).set(n,ze(()=>t(this.anchor)));E(this,N).set(e,n),E(this,P).call(this)}}function ho(n,t,e=!1){var r=new po(n);function o(n,t){r.ensure(n,t)}Oe(()=>{var n=!1;t((t,e=!0)=>{n=!0,o(e,t)}),n||o(!1,null)},e?kn:0)}function bo(n,t){return t}function mo(n,t=!0){for(var e=0;e<n.length;e++)Fe(n[e],t)}var wo;function yo(n,t,e,r,o,i=null){var a=n,l=new Map;!(4&t)||(a=n.appendChild(Ie()));var s,c=null,u=Vt(()=>{var n=e();return Q(n)?n:null==n?[]:$(n)}),d=!0;function f(){g.fallback=c,function(n,t,e,r,o){var i,a,l,s,c,u,d,f,g,v,p,h,b,m,w=!!(8&r),y=t.length,I=n.items,C=n.effect.first,x=null,A=[],k=[];if(w)for(m=0;m<y;m+=1)h=o(t[m],m),0===((b=I.get(h).e).f&Sn)&&(null==(a=null==(i=b.nodes)?void 0:i.a)||a.measure(),(p??(p=new Set)).add(b));for(m=0;m<y;m+=1){if(h=o(t[m],m),b=I.get(h).e,null!==n.outrogroups)for(const t of n.outrogroups)t.pending.delete(b),t.done.delete(b);if(0!==(b.f&Sn)){if(b.f^=Sn,b!==C){var G=x?x.next:C;b===n.effect.last&&(n.effect.last=b.prev),b.prev&&(b.prev.next=b.next),b.next&&(b.next.prev=b.prev),xo(n,x,b),xo(n,b,G),Co(b,G,e),A=[],k=[],C=(x=b).next;continue}Co(b,null,e)}if(0!==(b.f&Cn)&&(Ke(b),w&&(null==(s=null==(l=b.nodes)?void 0:l.a)||s.unfix(),(p??(p=new Set)).delete(b))),b!==C){if(void 0!==v&&v.has(b)){if(A.length<k.length){var _,L=k[0];x=L.prev;var S=A[0],X=A[A.length-1];for(_=0;_<A.length;_+=1)Co(A[_],L,e);for(_=0;_<k.length;_+=1)v.delete(k[_]);xo(n,S.prev,X.next),xo(n,x,S),xo(n,X,L),C=L,x=X,m-=1,A=[],k=[]}else v.delete(b),Co(b,C,e),xo(n,b.prev,b.next),xo(n,b,null===x?n.effect.first:x.next),xo(n,x,b),x=b;continue}for(A=[],k=[];null!==C&&C!==b;)(v??(v=new Set)).add(C),k.push(C),C=C.next;if(null===C)continue}0===(b.f&Sn)&&A.push(b),x=b,C=b.next}if(null!==n.outrogroups){for(const t of n.outrogroups)0===t.pending.size&&(mo($(t.done)),null==(c=n.outrogroups)||c.delete(t));0===n.outrogroups.size&&(n.outrogroups=null)}if(null!==C||void 0!==v){var W=[];if(void 0!==v)for(b of v)0===(b.f&Cn)&&W.push(b);for(;null!==C;)0===(C.f&Cn)&&C!==n.fallback&&W.push(C),C=C.next;var Z=W.length;if(Z>0){var M=4&r&&0===y?e:null;if(w){for(m=0;m<Z;m+=1)null==(d=null==(u=W[m].nodes)?void 0:u.a)||d.measure();for(m=0;m<Z;m+=1)null==(g=null==(f=W[m].nodes)?void 0:f.a)||g.fix()}!function(n,t,e){for(var r,o=t.length,i=t.length,a=0;a<o;a++){let e=t[a];Ue(e,()=>{if(r){if(r.pending.delete(e),r.done.add(e),0===r.pending.size){var t=n.outrogroups;mo($(r.done)),t.delete(r),0===t.size&&(n.outrogroups=null)}}else i-=1},!1)}if(0===i){var l=null!==e;if(l){var s=e,c=s.parentNode;c.textContent="",c.append(s),n.items.clear()}mo(t,!l)}else r={pending:new Set(t),done:new Set},(n.outrogroups??(n.outrogroups=new Set)).add(r)}(n,W,M)}}w&&vt(()=>{var n,t;if(void 0!==p)for(b of p)null==(t=null==(n=b.nodes)?void 0:n.a)||t.apply()})}(g,s,a,t,r),null!==c&&(0===s.length?0===(c.f&Sn)?Ke(c):(c.f^=Sn,Co(c,null,a)):Ue(c,()=>{c=null}))}var g={effect:Oe(()=>{for(var n=(s=kr(u)).length,g=new Set,v=0;v<n;v+=1){var p=s[v],h=r(p,v),b=d?null:l.get(h);b?(b.v&&re(b.v,p),b.i&&re(b.i,v)):(b=Io(l,d?a:wo??(wo=Ie()),p,h,v,o,t,e),d||(b.e.f|=Sn),l.set(h,b)),g.add(h)}0===n&&i&&!c&&(d?c=ze(()=>i(a)):(c=ze(()=>i(wo??(wo=Ie())))).f|=Sn),d||f(),kr(u)}),items:l,outrogroups:null,fallback:c};d=!1}function Io(n,t,e,r,o,i,a,l){var s=1&a?16&a?$t(e):te(e,!1,!1):null,c=2&a?$t(o):null;return s&&(s.trace=()=>{l()[(null==c?void 0:c.v)??o]}),{v:s,i:c,e:ze(()=>(i(t,s??e,c??o,l),()=>{n.delete(r)}))}}function Co(n,t,e){if(n.nodes)for(var r=n.nodes.start,o=n.nodes.end,i=t&&0===(t.f&Sn)?t.nodes.start:e;null!==r;){var a=xe(r);if(i.before(r),r===o)return;r=a}}function xo(n,t,e){null===t?n.effect.first=e:t.next=e,null===e?n.effect.last=t:e.prev=t}function Ao(n,t,e,r,o){var i,a=null==(i=t.$$slots)?void 0:i[e],l=!1;!0===a&&(a=t.children,l=!0),void 0===a||a(n,l?()=>r:r)}function ko(n){const t=n();t&&!("string"==typeof t)&&function(){{const n=new Error("svelte_element_invalid_this_value\nThe `this` prop on `<svelte:element>` must be a string, if defined\nhttps://svelte.dev/e/svelte_element_invalid_this_value");throw n.name="Svelte error",n}}()}function Go(n){return n.toString=()=>(function(){{const n=new Error("snippet_without_render_tag\nAttempted to render a snippet without a `{@render}` block. This would cause the snippet code to be stringified instead of its content being rendered to the DOM. To fix this, change `{snippet}` to `{@render snippet()}`.\nhttps://svelte.dev/e/snippet_without_render_tag");throw n.name="Svelte error",n}}(),""),n}function _o(n,t){const e=(e,...r)=>{var o=lt;st(n);try{return t(e,...r)}finally{st(o)}};return Go(e),e}N=new WeakMap,j=new WeakMap,B=new WeakMap,Y=new WeakMap,R=new WeakMap,P=new WeakMap,O=new WeakMap;const Lo={tick:n=>requestAnimationFrame(n),now:()=>performance.now(),tasks:new Set};function So(){const n=Lo.now();Lo.tasks.forEach(t=>{t.c(n)||(Lo.tasks.delete(t),t.f())}),0!==Lo.tasks.size&&Lo.tick(So)}function Xo(n,t){Se(()=>{n.dispatchEvent(new CustomEvent(t))})}function Wo(n){if("float"===n)return"cssFloat";if("offset"===n)return"cssOffset";if(n.startsWith("--"))return n;const t=n.split("-");return 1===t.length?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Zo(n){const t={},e=n.split(";");for(const r of e){const[n,e]=r.split(":");if(!n||void 0===e)break;t[Wo(n.trim())]=e.trim()}return t}const Mo=n=>n;function No(n,t,e,r){var o,i,a,l,s=!!(1&n),c=!!(2&n),u=!!(4&n),d=s&&c?"both":s?"in":"out",f=t.inert,g=t.style.overflow;function v(){return Se(()=>i??(i=e()(t,(null==r?void 0:r())??{},{direction:d})))}var p={is_global:u,in(){var n;if(t.inert=f,!s)return null==l||l.abort(),void(null==(n=null==l?void 0:l.reset)||n.call(l));c||null==a||a.abort(),Xo(t,"introstart"),a=jo(t,v(),l,1,()=>{Xo(t,"introend"),null==a||a.abort(),a=i=void 0,t.style.overflow=g})},out(n){if(!c)return null==n||n(),void(i=void 0);t.inert=!0,Xo(t,"outrostart"),l=jo(t,v(),a,0,()=>{Xo(t,"outroend"),null==n||n()})},stop:()=>{null==a||a.abort(),null==l||l.abort()}},h=ar;if(((o=h.nodes).t??(o.t=[])).push(p),s&&io){var b=u;if(!b){for(var m=h.parent;m&&0!==(m.f&kn);)for(;(m=m.parent)&&0===(m.f&vn););b=!m||0!==(m.f&An)}b&&Ye(()=>{Lr(()=>p.in())})}}function jo(n,t,e,r,o){var i=1===r;if(sn(t)){var a,l=!1;return vt(()=>{if(!l){var s=t({direction:i?"in":"out"});a=jo(n,s,e,r,o)}}),{abort:()=>{l=!0,null==a||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(null==e||e.deactivate(),!(null==t?void 0:t.duration))return o(),{abort:cn,deactivate:cn,reset:cn,t:()=>r};const{delay:s=0,css:c,tick:u,easing:d=Mo}=t;var f=[];if(i&&void 0===e&&(u&&u(0,1),c)){var g=Zo(c(0,1));f.push(g,g)}var v=()=>1-r,p=n.animate(f,{duration:s,fill:"forwards"});return p.onfinish=()=>{p.cancel();var i=(null==e?void 0:e.t())??1-r;null==e||e.abort();var a=r-i,l=t.duration*Math.abs(a),s=[];if(l>0){var f=!1;if(c)for(var g=Math.ceil(l/(1e3/60)),h=0;h<=g;h+=1){var b=i+a*d(h/g),m=Zo(c(b,1-b));s.push(m),f||(f="hidden"===m.overflow)}f&&(n.style.overflow="hidden"),v=()=>{var n=p.currentTime;return i+a*d(n/l)},u&&function(n){let t;0===Lo.tasks.size&&Lo.tick(So),new Promise(e=>{Lo.tasks.add(t={c:n,f:e})})}(()=>{if("running"!==p.playState)return!1;var n=v();return u(n,1-n),!0})}(p=n.animate(s,{duration:l,fill:"forwards"})).onfinish=()=>{v=()=>r,null==u||u(r,1-r),o()}},{abort:()=>{p&&(p.cancel(),p.effect=null,p.onfinish=cn)},deactivate:()=>{o=cn},reset:()=>{0===r&&(null==u||u(1,0))},t:()=>v()}}function Bo(n,t){Ye(()=>{var e=n.getRootNode(),r=e.host?e:e.head??e.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const n=document.createElement("style");n.id=t.hash,n.textContent=t.code,r.appendChild(n),function(n,t){var e=Or.get(n);e||(e=new Set,Or.set(n,e)),e.add(t)}(t.hash,n)}})}function Yo(n,t){var e,r=void 0;He(()=>{r!==(r=t())&&(e&&(Fe(e),e=null),r&&(e=ze(()=>{Ye(()=>r(n))})))})}function Ro(n){var t,e,r="";if("string"==typeof n||"number"==typeof n)r+=n;else if("object"==typeof n)if(Array.isArray(n)){var o=n.length;for(t=0;t<o;t++)n[t]&&(e=Ro(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Po(n){return"object"==typeof n?function(){for(var n,t,e=0,r="",o=arguments.length;e<o;e++)(n=arguments[e])&&(t=Ro(n))&&(r&&(r+=" "),r+=t);return r}(n):n??""}const Oo=[..." \t\n\r\fÂ \v\ufeff"];function Ho(n,t=!1){var e=t?" !important;":";",r="";for(var o in n){var i=n[o];null!=i&&""!==i&&(r+=" "+o+": "+i+e)}return r}function zo(n){return"-"!==n[0]||"-"!==n[1]?n.toLowerCase():n}function To(n,t,e,r,o,i){var a=n.__className;if(a!==e||void 0===a){var l=function(n,t,e){var r=null==n?"":""+n;if(t&&(r=r?r+" "+t:t),e)for(var o in e)if(e[o])r=r?r+" "+o:o;else if(r.length)for(var i=o.length,a=0;(a=r.indexOf(o,a))>=0;){var l=a+i;0!==a&&!Oo.includes(r[a-1])||l!==r.length&&!Oo.includes(r[l])?a=l:r=(0===a?"":r.substring(0,a))+r.substring(l+1)}return""===r?null:r}(e,r,i);null==l?n.removeAttribute("class"):t?n.className=l:n.setAttribute("class",l),n.__className=e}else if(i&&o!==i)for(var s in i){var c=!!i[s];null!=o&&c===!!o[s]||n.classList.toggle(s,c)}return i}function Vo(n,t={},e,r){for(var o in e){var i=e[o];t[o]!==i&&(null==e[o]?n.style.removeProperty(o):n.style.setProperty(o,i,r))}}function Fo(n,t,e,r){if(n.__style!==t){var o=function(n,t){if(t){var e,r,o="";if(Array.isArray(t)?(e=t[0],r=t[1]):e=t,n){n=String(n).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,a=0,l=!1,s=[];e&&s.push(...Object.keys(e).map(zo)),r&&s.push(...Object.keys(r).map(zo));var c=0,u=-1;const t=n.length;for(var d=0;d<t;d++){var f=n[d];if(l?"/"===f&&"*"===n[d-1]&&(l=!1):i?i===f&&(i=!1):"/"===f&&"*"===n[d+1]?l=!0:'"'===f||"'"===f?i=f:"("===f?a++:")"===f&&a--,!l&&!1===i&&0===a)if(":"===f&&-1===u)u=d;else if(";"===f||d===t-1){if(-1!==u){var g=zo(n.substring(c,u).trim());s.includes(g)||(";"!==f&&d++,o+=" "+n.substring(c,d).trim()+";")}c=d+1,u=-1}}}return e&&(o+=Ho(e)),r&&(o+=Ho(r,!0)),""===(o=o.trim())?null:o}return null==n?null:String(n)}(t,r);null==o?n.removeAttribute("style"):n.style.cssText=o,n.__style=t}else r&&(Array.isArray(r)?(Vo(n,null==e?void 0:e[0],r[0]),Vo(n,null==e?void 0:e[1],r[1],"important")):Vo(n,e,r));return r}function Eo(n,t,e=!1){if(n.multiple){if(null==t)return;if(!Q(t))return void console.warn("%c[svelte] select_multiple_invalid_value\n%cThe `value` property of a `<select multiple>` element should be an array, but it received a non-array value. The selection will be kept as is.\nhttps://svelte.dev/e/select_multiple_invalid_value",Tn,Vn);for(var r of n.options)r.selected=t.includes(Uo(r))}else{for(r of n.options){if(fe(Uo(r),t))return void(r.selected=!0)}e&&void 0===t||(n.selectedIndex=-1)}}function Do(n){var t=new MutationObserver(()=>{Eo(n,n.__value)});t.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ne(()=>{t.disconnect()})}function Uo(n){return"__value"in n?n.__value:n.value}const Jo=Symbol("class"),Ko=Symbol("style"),Qo=Symbol("is custom element"),qo=Symbol("is html");function $o(n,t){var e=oi(n);e.value!==(e.value=t??void 0)&&(n.value!==t||0===t&&"PROGRESS"===n.nodeName)&&(n.value=t??"")}function ni(n,t){var e=oi(n);e.checked!==(e.checked=t??void 0)&&(n.checked=t)}function ti(n,t){t?n.hasAttribute("selected")||n.setAttribute("selected",""):n.removeAttribute("selected")}function ei(n,t,e,r){var o=oi(n);o[t]!==(o[t]=e)&&("loading"===t&&(n[Bn]=e),null==e?n.removeAttribute(t):"string"!=typeof e&&ai(n).includes(t)?n[t]=e:n.setAttribute(t,e))}function ri(n,t,e=[],r=[],o=[],i,a=!1,l=!1){Yt(o,e,r,e=>{var r=void 0,o={},s="SELECT"===n.nodeName,c=!1;if(He(()=>{var u=t(...e.map(kr)),d=function(n,t,e,r){var o=oi(n),i=o[Qo],a=!o[qo],l=t||{},s="OPTION"===n.tagName;for(var c in t)c in e||(e[c]=null);e.class?e.class=Po(e.class):e[Jo]&&(e.class=null),e[Ko]&&(e.style??(e.style=null));var u=ai(n);for(const h in e){let c=e[h];if(s&&"value"===h&&null==c)n.value=n.__value="",l[h]=c;else if("class"!==h)if("style"!==h){var d=l[h];if(c!==d||void 0===c&&n.hasAttribute(h)){l[h]=c;var f=h[0]+h[1];if("$$"!==f)if("on"===f){const t={},e="$$"+h;let r=h.slice(2);var g=jr(r);if(Mr(r)&&(r=r.slice(0,-7),t.capture=!0),!g&&d){if(null!=c)continue;n.removeEventListener(r,l[e],t),l[e]=null}if(null!=c)if(g)n[`__${r}`]=c,Ur([r]);else{let o=function(n){l[h].call(this,n)};l[e]=Er(r,n,o,t)}else g&&(n[`__${r}`]=void 0)}else if("style"===h)ei(n,h,c);else if("autofocus"===h)_e(n,Boolean(c));else if(i||"__value"!==h&&("value"!==h||null==c))if("selected"===h&&s)ti(n,c);else{var v=h;a||(v=Yr(v));var p="defaultValue"===v||"defaultChecked"===v;if(null!=c||i||p)p||u.includes(v)&&(i||"string"!=typeof c)?(n[v]=c,v in o&&(o[v]=Hn)):"function"!=typeof c&&ei(n,v,c);else if(o[h]=null,"value"===v||"checked"===v){let e=n;const r=void 0===t;if("value"===v){let n=e.defaultValue;e.removeAttribute(v),e.defaultValue=n,e.value=e.__value=r?n:null}else{let n=e.defaultChecked;e.removeAttribute(v),e.defaultChecked=n,e.checked=!!r&&n}}else n.removeAttribute(h)}else n.value=n.__value=c}}else Fo(n,c,null==t?void 0:t[Ko],e[Ko]),l[h]=c,l[Ko]=e[Ko];else To(n,"http://www.w3.org/1999/xhtml"===n.namespaceURI,c,r,null==t?void 0:t[Jo],e[Jo]),l[h]=c,l[Jo]=e[Jo]}return l}(n,r,u,i,a,l);c&&s&&"value"in u&&Eo(n,u.value);for(let n of Object.getOwnPropertySymbols(o))u[n]||Fe(o[n]);for(let t of Object.getOwnPropertySymbols(u)){var f=u[t];"@attach"!==t.description||r&&f===r[t]||(o[t]&&Fe(o[t]),o[t]=ze(()=>Yo(n,()=>f))),d[t]=f}r=d}),s){var u=n;Ye(()=>{Eo(u,r.value,!0),Do(u)})}c=!0})}function oi(n){return n.__attributes??(n.__attributes={[Qo]:n.nodeName.includes("-"),[qo]:"http://www.w3.org/1999/xhtml"===n.namespaceURI})}var ii=new Map;function ai(n){var t,e=n.getAttribute("is")||n.nodeName,r=ii.get(e);if(r)return r;ii.set(e,r=[]);for(var o=n,i=Element.prototype;i!==o;){for(var a in t=en(o))t[a].set&&r.push(a);o=an(o)}return r}function li(n,t,e=t){var r=new WeakSet;Xe(n,"input",async o=>{"checkbox"===n.type&&On();var i=o?n.defaultValue:n.value;if(i=si(n)?ci(i):i,e(i),null!==It&&r.add(It),await Ar(),i!==(i=t())){var a=n.selectionStart,l=n.selectionEnd,s=n.value.length;if(n.value=i??"",null!==l){var c=n.value.length;a===l&&l===s&&c>s?(n.selectionStart=c,n.selectionEnd=c):(n.selectionStart=a,n.selectionEnd=Math.min(l,c))}}}),null==Lr(t)&&n.value&&(e(si(n)?ci(n.value):n.value),null!==It&&r.add(It)),Re(()=>{"checkbox"===n.type&&On();var e=t();if(n===document.activeElement){var o=Ct??It;if(r.has(o))return}si(n)&&e===ci(n.value)||("date"!==n.type||e||n.value)&&e!==n.value&&(n.value=e??"")})}function si(n){var t=n.type;return"number"===t||"range"===t}function ci(n){return""===n?null:+n}function ui(n,t){return n===t||(null==n?void 0:n[Nn])===t}function di(n={},t,e,r){return Ye(()=>{var r,o;return Re(()=>{r=o,o=[],Lr(()=>{n!==e(...o)&&(t(n,...o),r&&ui(e(...r),n)&&t(null,...r))})}),()=>{vt(()=>{o&&ui(e(...o),n)&&t(null,...o)})}}),n}function fi(n=!1){const t=et,e=t.l.u;if(!e)return;let r=()=>Wr(t.s);if(n){let n=0,e={};const o=Ht(()=>{let r=!1;const o=t.s;for(const n in o)o[n]!==e[n]&&(e[n]=o[n],r=!0);return r&&n++,n});r=()=>kr(o)}var o;e.b.length&&(o=()=>{gi(t,r),dn(e.b)},We("$effect.pre"),nn(o,"name",{value:"$effect.pre"}),Ze(1048584,o,!0)),je(()=>{const n=Lr(()=>e.m.map(un));return()=>{for(const t of n)"function"==typeof t&&t()}}),e.a.length&&je(()=>{gi(t,r),dn(e.a)})}function gi(n,t){if(n.l.s)for(const e of n.l.s)kr(e);t()}let vi=!1;const pi={get(n,t){if(!n.exclude.includes(t))return kr(n.version),t in n.special?n.special[t]():n.props[t]},set(n,t,e){if(!(t in n.special)){var r=ar;try{lr(n.parent_effect),n.special[t]=wi({get[t](){return n.props[t]}},t,4)}finally{lr(r)}}return n.special[t](e),ie(n.version),!0},getOwnPropertyDescriptor(n,t){if(!n.exclude.includes(t))return t in n.props?{enumerable:!0,configurable:!0,value:n.props[t]}:void 0},deleteProperty:(n,t)=>(n.exclude.includes(t)||(n.exclude.push(t),ie(n.version)),!0),has:(n,t)=>!n.exclude.includes(t)&&t in n.props,ownKeys:n=>Reflect.ownKeys(n.props).filter(t=>!n.exclude.includes(t))};function hi(n,t){return new Proxy({props:n,exclude:t,special:{},version:$t(0),parent_effect:ar},pi)}const bi={get(n,t){let e=n.props.length;for(;e--;){let r=n.props[e];if(sn(r)&&(r=r()),"object"==typeof r&&null!==r&&t in r)return r[t]}},set(n,t,e){let r=n.props.length;for(;r--;){let o=n.props[r];sn(o)&&(o=o());const i=tn(o,t);if(i&&i.set)return i.set(e),!0}return!1},getOwnPropertyDescriptor(n,t){let e=n.props.length;for(;e--;){let r=n.props[e];if(sn(r)&&(r=r()),"object"==typeof r&&null!==r&&t in r){const n=tn(r,t);return n&&!n.configurable&&(n.configurable=!0),n}}},has(n,t){if(t===Nn||t===jn)return!1;for(let e of n.props)if(sn(e)&&(e=e()),null!=e&&t in e)return!0;return!1},ownKeys(n){const t=[];for(let e of n.props)if(sn(e)&&(e=e()),e){for(const n in e)t.includes(n)||t.push(n);for(const n of Object.getOwnPropertySymbols(e))t.includes(n)||t.push(n)}return t}};function mi(...n){return new Proxy({props:n},bi)}function wi(n,t,e,r){var o,i,a,l=!Un||!!(2&e),s=!!(8&e),c=!!(16&e),u=r,d=!0,f=()=>(d&&(d=!1,u=c?Lr(r):r),u);if(s){var g=Nn in n||jn in n;i=(null==(o=tn(n,t))?void 0:o.set)??(g&&t in n?e=>n[t]=e:void 0)}var v,p=!1;if(s?[a,p]=function(n){var t=vi;try{return vi=!1,[n(),vi]}finally{vi=t}}(()=>n[t]):a=n[t],void 0===a&&void 0!==r&&(a=f(),i&&(l&&function(n){{const t=new Error(`props_invalid_value\nCannot do \`bind:${n}={undefined}\` when \`${n}\` has a fallback value\nhttps://svelte.dev/e/props_invalid_value`);throw t.name="Svelte error",t}}(t),i(a))),v=l?()=>{var e=n[t];return void 0===e?f():(d=!0,e)}:()=>{var e=n[t];return void 0!==e&&(u=void 0),void 0===e?u:e},l&&!(4&e))return v;if(i){var h=n.$$legacy;return function(n,t){return arguments.length>0?(l&&t&&!h&&!p||i(t?v():n),n):v()}}var b=!1,m=(1&e?Ht:Vt)(()=>(b=!1,v()));m.label=t,s&&kr(m);var w=ar;return function(n,t){if(arguments.length>0){const e=t?kr(m):l&&s?ce(n):n;return ee(m,e),b=!0,void 0!==u&&(u=e),n}return tr&&b||0!==(w.f&xn)?m.v:kr(m)}}function yi(n,...t){return Lr(()=>{try{let e=!1;const r=[];for(const n of t)n&&"object"==typeof n&&Nn in n?(r.push(Qn(n,!0)),e=!0):r.push(n);e&&(!function(n){console.warn(`%c[svelte] console_log_state\n%cYour \`console.${n}\` contained \`$state\` proxies. Consider using \`$inspect(...)\` or \`$state.snapshot(...)\` instead\nhttps://svelte.dev/e/console_log_state`,Tn,Vn)}(n),console.log("%c[snapshot]","color: grey",...r))}catch{}}),t}{let n=function(n){if(!(n in globalThis)){let t;Object.defineProperty(globalThis,n,{configurable:!0,get:()=>{if(void 0!==t)return t;!function(n){{const t=new Error(`rune_outside_svelte\nThe \`${n}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files\nhttps://svelte.dev/e/rune_outside_svelte`);throw t.name="Svelte error",t}}(n)},set:n=>{t=n}})}};n("$state"),n("$effect"),n("$derived"),n("$inspect"),n("$props"),n("$bindable")}function Ii(n){var t,e;null===et&&Pn("onMount"),Un&&null!==et.l?(t=et,e=t.l,e.u??(e.u={a:[],b:[],m:[]})).m.push(n):je(()=>{const t=Lr(n);if("function"==typeof t)return t})}function Ci(n){null===et&&Pn("onDestroy"),Ii(()=>()=>Lr(n))}const xi="risu-ebooklike-viewer",Ai="0.2.0",ki=class n{constructor(t){if(n._instance)return console.log(`[${xi}] Returning existing RisuAPI instance`),n._instance;this._risuFetch=t.risuFetch,this._nativeFetch=t.nativeFetch,this._getArg=t.getArg,this._setArg=t.setArg,this._getChar=t.getChar,this._setChar=t.setChar,this._addProvider=t.addProvider,this._addRisuScriptHandler=t.addRisuScriptHandler,this._removeRisuScriptHandler=t.removeRisuScriptHandler,this._addRisuReplacer=t.addRisuReplacer,this._removeRisuReplacer=t.removeRisuReplacer,this._onUnload=t.onUnload,this._getDatabase=null,this._setDatabaseLite=null,this._charWatchers=new Map,this._databaseWatchers=new Map,this._watcherIdCounter=0,n._instance=this}async initialize(){try{return this._getDatabase=getDatabase,this._setDatabaseLite=setDatabaseLite,console.log(`[${xi}] RisuAPI initialized successfully`),!0}catch(n){return console.log(`[${xi}] Failed to initialize RisuAPI:`,n),!1}}static getInstance(t=null){if(!n._instance){if(!t)throw new Error("RisuAPI instance does not exist. Provide pluginApis on first call.");n._instance=new n(t)}return n._instance}static resetInstance(){n._instance=null}risuFetch(n,t={}){return this._risuFetch(n,t)}nativeFetch(n,t={}){return this._nativeFetch(n,t)}getArg(n){return this._getArg(n)}setArg(n,t){return this._setArg(n,t)}getChar(){return this._getChar()}setChar(n){return this._setChar(n)}subscribeToChar(n,t,e=500){const r=++this._watcherIdCounter,o=()=>{try{const t=this._getChar();if(null===t)return null;const e=n?n(t):t;return JSON.stringify(e)}catch(t){return null}};let i=o();const a=setInterval(()=>{const n=o();if(n!==i){i=n;try{const e=n?JSON.parse(n):null;t(e)}catch(e){console.error(`[${xi}] subscribeToChar callback error:`,e)}}},e);return this._charWatchers.set(r,a),()=>{clearInterval(a),this._charWatchers.delete(r)}}addProvider(n,t,e){return this._addProvider(n,t,e)}addRisuScriptHandler(n,t){return this._addRisuScriptHandler(n,t)}removeRisuScriptHandler(n,t){return this._removeRisuScriptHandler(n,t)}addRisuReplacer(n,t){return this._addRisuReplacer(n,t)}removeRisuReplacer(n,t){return this._removeRisuReplacer(n,t)}onUnload(n){return this._onUnload(n)}clearAllSubscriptions(){this._charWatchers.forEach(n=>clearInterval(n)),this._charWatchers.clear(),this._databaseWatchers.forEach(n=>clearInterval(n)),this._databaseWatchers.clear(),console.log(`[${xi}] All subscriptions cleared`)}getDatabase(){if(!this._getDatabase)throw new Error("RisuAPI is not initialized. Call initialize() first.");return this._getDatabase()}setDatabaseLite(n){if(!this._setDatabaseLite)throw new Error("RisuAPI is not initialized. Call initialize() first.");return this._setDatabaseLite(n)}subscribeToDatabase(n,t,e=500){if(!this._getDatabase)throw new Error("RisuAPI is not initialized. Call initialize() first.");const r=++this._watcherIdCounter,o=()=>{try{const t=this._getDatabase();if(null===t)return null;const e=n?n(t):t;return JSON.stringify(e)}catch(t){return null}};let i=o();const a=setInterval(()=>{const n=o();if(n!==i){i=n;try{const e=n?JSON.parse(n):null;t(e)}catch(e){console.error(`[${xi}] subscribeToDatabase callback error:`,e)}}},e);return this._databaseWatchers.set(r,a),()=>{clearInterval(a),this._databaseWatchers.delete(r)}}getChaId(){const n=this._getChar();return null==n?null:n.chaId}getCurrentChatPage(){const n=this._getChar();return null==n?null:n.chatPage}getAllCurrentChatMessages(){const n=this._getChar();return null==n?null:n.chats[this.getCurrentChatPage()].message}getLastChatIndex(){const n=this._getChar();return null==n?null:n.chats[this.getCurrentChatPage()].message.length}getLastChatMessage(){const n=this._getChar();return null==n?null:n.chats[this.getCurrentChatPage()].message[this.getLastChatIndex()]}};V(ki,"_instance",null);let Gi=ki;const _i="data-svelte-helper",Li=new WeakMap,Si=new Map;function Xi({id:n,component:t,target:e,anchor:r=null,props:o={},wrapperTag:i="div",useContents:a=!0}){if(!n||!t||!e)return console.warn("[safeMount] id, component, targetì€ í•„ìˆ˜ìž…ë‹ˆë‹¤."),null;const l=`data-mounted-${n}`;if(e.hasAttribute(l))return null;try{const s=document.createElement(i);s.setAttribute("data-svelte-wrapper",n),a&&(s.style.display="contents");const c=so(t,{target:s,props:o}),u=Array.from(s.childNodes);r&&r.parentElement===e?u.forEach(n=>{e.insertBefore(n,r)}):u.forEach(n=>{e.appendChild(n)}),e.setAttribute(l,"true");const d={instance:c,wrapper:s,target:e,cleanup:()=>Wi(n),flagKey:l};return Si.set(n,d),d}catch(s){return console.log(s),console.error(`[safeMount] ${n} ë§ˆìš´íŠ¸ ì‹¤íŒ¨:`,s),null}}function Wi(n){const t=Si.get(n);if(!t)return!1;try{const{instance:e,wrapper:r,target:o,flagKey:i}=t;return e&&fo(e),o&&i&&o.removeAttribute(i),Si.delete(n),!0}catch(e){return console.error(`[safeUnmount] ${n} ì–¸ë§ˆìš´íŠ¸ ì‹¤íŒ¨:`,e),!1}}function Zi(n){return Si.has(n)}function Mi(n,t,e="default"){var r;if(!n||!t)return;const o=`${_i}-style-${e}`;let i=(null==(r=Li.get(n))?void 0:r[o])||{};Object.entries(t).forEach(([t,e])=>{t in i||(i[t]=n.style.getPropertyValue(t)),n.style.setProperty(t,e)});const a=Li.get(n)||{};a[o]=i,Li.set(n,a)}function Ni(n,t="default"){if(!n)return;const e=`${_i}-style-${t}`,r=Li.get(n),o=null==r?void 0:r[e];o&&(Object.entries(o).forEach(([t,e])=>{e?n.style.setProperty(t,e):n.style.removeProperty(t)}),delete r[e])}function ji(n){const t=n.split("\n");let e,r="",o={},i={},a=[];for(const l of t){if(l.startsWith("//@risu-name")||l.startsWith("//@risu-display-name"))throw new Error("V1 plugin is not supported. Please use V2 plugin.");if(l.startsWith("//@name")){const n=l.slice(7).trim();if(""===n)throw new Error("Plugin name must be longer than 0");r=n}if(l.startsWith("//@display-name")){const n=l.slice(16).trim();if(""===n)throw new Error("Plugin display name must be longer than 0");e=n}if(l.startsWith("//@link")){const n=l.split(" ")[1];if(!n||""===n)throw new Error("Plugin link is empty");if(!n.startsWith("https"))throw new Error("Plugin link must start with https");const t=l.split(" ").slice(2).join(" ").trim();a.push({link:n,hoverText:t||void 0})}if(l.startsWith("//@risu-arg")||l.startsWith("//@arg")){const n=l.trim().split(" "),t=n[1];if("int"!==n[2]&&"string"!==n[2])throw new Error(`Unknown argument type: ${n[2]}`);"int"===n[2]?(o[t]="int",i[t]=0):"string"===n[2]&&(o[t]="string",i[t]="")}}if(0===r.length)throw new Error("Plugin name not found");return{name:r,script:n,realArg:i,arguments:o,displayName:e,version:2,customLink:a}}function Bi(n){const t=Gi.getInstance();if(!t)throw new Error("RisuAPI is not initialized. Please ensure the plugin is loaded.");const e=t.getDatabase(),r=e.plugins.findIndex(n=>n.name===xi),o=r>=0?{...e.plugins[r]}:null;console.log("[UpdateManager] Old plugin found:",r>=0,null==o?void 0:o.name);const i=function(n,t){const e={};for(const[r,o]of Object.entries(t))e[r]=n&&r in n?n[r]:"int"===o?0:"";return e}(null==o?void 0:o.realArg,n.arguments),a={...n,realArg:i};console.log("[UpdateManager] New plugin data prepared:",a.name,a.displayName),r>=0?(e.plugins[r]=a,console.log("[UpdateManager] Replaced existing plugin at index",r)):(e.plugins.push(a),console.log("[UpdateManager] Added new plugin"));try{return t.setDatabaseLite(e),console.log("[UpdateManager] Database saved successfully"),{success:!0}}catch(l){return console.error("[UpdateManager] Database save failed:",l),o&&r>=0?(e.plugins[r]=o,console.log("[UpdateManager] Rolled back to previous plugin")):-1===r&&(e.plugins.pop(),console.log("[UpdateManager] Removed newly added plugin")),{success:!1,error:l}}}"undefined"!=typeof window&&((H=window.__svelte??(window.__svelte={})).v??(H.v=new Set)).add("5"),Ri[zn]="src/ui/components/AlertDialog.svelte";var Yi=Hr(no('<div role="dialog" aria-modal="true" tabindex="-1"><div><div> </div> <div><button> </button></div></div></div>'),Ri[zn],[[34,0,[[35,2,[[36,4],[39,4,[[40,6]]]]]]]]);function Ri(n,t){go(new.target),ct(t,!0,Ri);let e=wi(t,"message",3,""),r=wi(t,"confirmText",3,"í™•ì¸"),o=$n(ne(null),"confirmBtn");function i(n){(ve(n.key,"Enter")||ve(n.key,"Escape"))&&a()}function a(){var n;null==(n=kr(o))||n.dispatchEvent(new CustomEvent("confirm",{bubbles:!0,composed:!0}))}Ii(()=>{document.addEventListener("keydown",i),setTimeout(()=>{var n;return null==(n=kr(o))?void 0:n.focus()},0)}),Ci(()=>{document.removeEventListener("keydown",i)});var l={...vo()},s=Yi(),c=Ae(s),u=Ae(c),d=Ae(u),f=Ge(u,2),g=Ae(f);g.__click=a;var v=Ae(g);return di(g,n=>ee(o,n),()=>kr(o)),Pe(()=>{To(s,1,Po(K.udRoot)),To(c,1,`${K.udCard} ${K.udAlert}`),To(u,1,Po(K.udAlertMessage)),lo(d,e()),To(f,1,Po(K.udActions)),To(g,1,Po(K.udBtnPrimary)),lo(v,r())}),oo(n,s),ut(l)}Ur(["click"]),Oi[zn]="src/ui/components/LoadingDialog.svelte";var Pi=Hr(no('<div role="dialog" aria-modal="true" aria-busy="true" tabindex="-1"><div><div><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4"></circle></svg></div> <div> </div></div></div>'),Oi[zn],[[7,0,[[8,2,[[9,4,[[10,6,[[11,8]]]]],[21,4]]]]]]);function Oi(n,t){go(new.target),ct(t,!0,Oi);let e=wi(t,"message",3,"ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤...");var r={...vo()},o=Pi(),i=Ae(o),a=Ae(i),l=Ae(a),s=Ae(l),c=Ge(a,2),u=Ae(c);return Pe(()=>{To(o,1,Po(K.udRoot)),To(i,1,`${K.udCard} ${K.udLoading}`),To(a,1,Po(K.udLoadingSpinner)),To(l,0,Po(K.udLoadingSvg)),To(s,0,Po(K.udLoadingCircle)),To(c,1,Po(K.udLoadingMessage)),lo(u,e())}),oo(n,o),ut(r)}Fi[zn]="src/ui/components/UpdateDialog.svelte";var Hi=Hr(no("<li> </li>"),Fi[zn],[[96,10]]),zi=Hr(no("<li>ì„¸ë¶€ ë³€ê²½ì‚¬í•­ì€ ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”</li>"),Fi[zn],[[99,8]]),Ti=Hr(no("<button> </button> <button> </button>",1),Fi[zn],[[104,8],[107,8]]),Vi=Hr(no('<div role="dialog" aria-modal="true" tabindex="-1"><div><div><h3> </h3> <span> </span></div> <div> </div> <ul aria-label="ë³€ê²½ì‚¬í•­"><!></ul> <div><!> <button> </button></div></div></div>'),Fi[zn],[[77,0,[[85,2,[[86,4,[[87,6],[88,6]]],[90,4],[93,4],[102,4,[[111,6]]]]]]]]);function Fi(n,t){go(new.target),ct(t,!0,Fi);let e=wi(t,"name",3,""),r=wi(t,"currentVersion",3,"0.0.0"),o=wi(t,"version",3,"0.0.0"),i=wi(t,"releasedAt",19,()=>(new Date).toISOString()),a=wi(t,"mandatory",3,!1),l=wi(t,"notes",19,()=>[]),s=wi(t,"i18n",19,()=>({title:"í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸ ì¤€ë¹„ ì™„ë£Œ",primary:"ì§€ê¸ˆ ì—…ë°ì´íŠ¸",later:"ë‚˜ì¤‘ì—",skip:"ì´ë²ˆ ë²„ì „ ê±´ë„ˆë›°ê¸°"})),c=$n(ne(null),"updateBtn"),u=$n(Tt(()=>new Date(i()).toLocaleDateString()),"releasedDate"),d=$n(Tt(()=>a()?"í•„ìˆ˜ ì—…ë°ì´íŠ¸":"ì„ íƒ ì—…ë°ì´íŠ¸"),"updateType");function f(n){ve(n.key,"Escape")&&!a()&&g("later"),ve(n.key,"Enter")&&g("update")}function g(n){var t;const e={action:n};ve(n,"skip")&&(e.skipVersion=o()),null==(t=kr(c))||t.dispatchEvent(new CustomEvent("update-action",{detail:e,bubbles:!0,composed:!0}))}Ii(()=>{document.addEventListener("keydown",f),setTimeout(()=>{var n;return null==(n=kr(c))?void 0:n.focus()},0)}),Ci(()=>{document.removeEventListener("keydown",f)});var v={...vo()},p=Vi();p.__click=function(n){!a()&&ve(n.target,n.currentTarget)&&g("later")},p.__keydown=function(n){a()||!ve(n.key,"Escape")&&!ve(n.key,"Enter")||ve(n.target,n.currentTarget)&&g("later")};var h=Ae(p),b=Ae(h),m=Ae(b),w=Ae(m),y=Ge(m,2),I=Ae(y),C=Ge(b,2),x=Ae(C),A=Ge(C,2),k=Ae(A),G=n=>{var t=ro(),e=ke(t);at(()=>yo(e,17,()=>l().slice(0,8),bo,(n,t)=>{var e=Hi(),r=Ae(e);Pe(n=>{To(e,1,n),lo(r,kr(t).text||"")},[()=>Po(function(n){const t=(n||"").trim(),e=t.charAt(0).toUpperCase()+t.slice(1);return K[`ud${e}`]||""}(kr(t).type))]),oo(n,e)}),"each",Fi,95,8),oo(n,t)},_=n=>{oo(n,zi())};at(()=>ho(k,n=>{l().length>0?n(G):n(_,!1)}),"if",Fi,94,6);var L=Ge(A,2),S=Ae(L),X=n=>{var t=Ti(),e=ke(t);e.__click=()=>g("later");var r=Ae(e),o=Ge(e,2);o.__click=()=>g("skip");var i=Ae(o);Pe(()=>{To(e,1,Po(K.udBtnGhost)),lo(r,s().later),To(o,1,Po(K.udBtnGhost)),lo(i,s().skip)}),oo(n,t)};at(()=>ho(S,n=>{a()||n(X)}),"if",Fi,103,6);var W=Ge(S,2);W.__click=()=>g("update");var Z=Ae(W);return di(W,n=>ee(c,n),()=>kr(c)),Pe(()=>{To(p,1,Po(K.udRoot)),To(h,1,Po(K.udCard)),To(b,1,Po(K.udTitle)),lo(w,`${s().title??""}${e()?` Â· ${e()}`:""}`),To(y,1,Po(K.udPill)),lo(I,`v${r()??""} â†’ v${o()??""}`),To(C,1,Po(K.udSub)),lo(x,`${kr(u)??""} Â· ${kr(d)??""}`),To(A,1,Po(K.udList)),To(L,1,Po(K.udActions)),To(W,1,Po(K.udBtnPrimary)),lo(Z,s().primary)}),oo(n,p),ut(v)}function Ei(n,t,e){return function(n,t){const e=n.split(".").map(Number),r=t.split(".").map(Number);for(let o=0;o<Math.max(e.length,r.length);o++){const n=e[o]||0,t=r[o]||0;if(n>t)return 1;if(n<t)return-1}return 0}(n,t)<=0?(e||console.log(`[UpdateManager] Already up to date (${t})`),{available:!1,current:t,latest:n}):null}async function Di(n,t){var e;console.log("[UpdateManager] Updating to version",t);const r=await async function(n){try{console.log("[UpdateManager] Fetching latest script from unpkg:",n.url);const t=await fetch(n.url).then(n=>n.text());return console.log("[UpdateManager] Parsing plugin script..."),Bi(ji(t))}catch(t){return console.error("[UpdateManager] Plugin update failed:",t),{success:!1,error:t}}}(n);return r.success?(console.log("[UpdateManager] Plugin script updated successfully"),await function(n="ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",t=3e3){return new Promise(e=>{const r=document.createElement("div");document.body.appendChild(r);const o=so(Oi,{target:r,props:{message:n}});setTimeout(()=>{fo(o),r.remove(),e()},t)})}("ì—…ë°ì´íŠ¸ë¥¼ ì ìš©í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",4e3),await function(n,t="í™•ì¸"){return new Promise(e=>{const r=document.createElement("div");document.body.appendChild(r);const o=so(Ri,{target:r,props:{message:n,confirmText:t}});r.addEventListener("confirm",()=>{fo(o),r.remove(),e()})})}("ì—…ë°ì´íŠ¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì—…ë°ì´íŠ¸ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´\níŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì•¼í•©ë‹ˆë‹¤.\n      \nì•ˆì •ì ì¸ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ ìž ì‹œ í›„\nìˆ˜ë™ìœ¼ë¡œ ìƒˆë¡œê³ ì¹¨í•´ ì£¼ì„¸ìš”."),{available:!0,action:"updated",version:t}):(console.error("[UpdateManager] Plugin update failed:",r.error),alert(`ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ${(null==(e=r.error)?void 0:e.message)||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}\n\níŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`),{available:!0,action:"update_failed",error:r.error})}async function Ui(n={}){const{silent:t=!1,force:e=!1,i18n:r={}}=n;try{const n=await async function(){var n,t,e;try{const o=`https://unpkg.com/${xi}@latest/dist/${xi}.js`,i=(await fetch(o,{method:"HEAD",redirect:"follow"})).url,a=i.match(/@([\d.]+)\//);if(!a)throw new Error("Version not found in resolved URL");const l=a[1],s=await fetch(i).then(n=>n.text()),c=/\/\/@name (.+?)\n\/\/@display-name (.+?)\n\/\/@version (.+?)\n\/\/@description (.+?)(?:\n|$)/,u=s.match(c),d=`https://unpkg.com/${xi}@${l}/dist/release-notes.json`;let f={};try{const n=await fetch(d);n.ok&&(f=(await n.json())[l]||{})}catch(r){console.warn("[UpdateManager] Failed to fetch release notes:",r)}return{version:l,url:i,name:(null==(n=null==u?void 0:u[1])?void 0:n.trim())||xi,displayName:(null==(t=null==u?void 0:u[2])?void 0:t.trim())||`${xi}_v${l}`,description:(null==(e=null==u?void 0:u[4])?void 0:e.trim())||"",mandatory:f.mandatory||!1,notes:f.notes||[],released_at:f.released_at||(new Date).toISOString()}}catch(r){return console.log(`[${xi}] Update check skipped: Plugin not published to npm yet`),null}}();if(!n)return{available:!1,skipped:!0};const o=Ai,i=n.version,a=function(n,t,e){if(t)return null;const r=`${xi}_skip_version`;return localStorage.getItem(r)===n?(e||console.log(`[UpdateManager] Version ${n} is skipped by user`),{available:!1,skipped:!0,version:n}):null}(i,e,t);if(a)return a;const l=Ei(i,o,t);if(l)return l;console.log(`[UpdateManager] New version available: ${o} â†’ ${i}`);const s=await function(n){const{name:t,currentVersion:e,manifest:r,i18n:o={},mandatory:i=!0===r.mandatory}=n,a=Object.assign({title:"í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸ ì¤€ë¹„ ì™„ë£Œ",primary:"ì§€ê¸ˆ ì—…ë°ì´íŠ¸",later:"ë‚˜ì¤‘ì—",skip:"ì´ë²ˆ ë²„ì „ ê±´ë„ˆë›°ê¸°"},o);return new Promise(n=>{const o=document.createElement("div");document.body.appendChild(o);const l=so(Fi,{target:o,props:{name:t||"",currentVersion:e,version:r.version,releasedAt:r.released_at||(new Date).toISOString(),mandatory:i,notes:r.notes||[],i18n:a}});o.addEventListener("update-action",t=>{const{action:e,skipVersion:i}=t.detail,a={action:e};"update"===e?a.url=r.url:"skip"===e&&(a.skipVersion=i),fo(l),o.remove(),n(a)})})}({name:xi,currentVersion:o,manifest:n,i18n:r});return await async function(n,t,e){if("update"===n.action)return await Di(t,e);if("skip"===n.action){const t=`${xi}_skip_version`;return localStorage.setItem(t,n.skipVersion),console.log("[UpdateManager] Skipped version",n.skipVersion),{available:!0,action:"skipped",version:n.skipVersion}}return console.log("[UpdateManager] Update postponed"),{available:!0,action:"later",version:e}}(s,n,i)}catch(o){return console.error("[UpdateManager] Check failed:",o),{available:!1,error:o.message}}}Ur(["click","keydown"]);var Ji,Ki="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qi={exports:{}};var qi,$i,na=(Ji||(Ji=1,qi=Qi,$i=Qi.exports,function(){var n,t="Expected a function",e="__lodash_hash_undefined__",r="__lodash_placeholder__",o=32,i=128,a=256,l=1/0,s=9007199254740991,c=NaN,u=4294967295,d=[["ary",i],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",o],["partialRight",64],["rearg",a]],f="[object Arguments]",g="[object Array]",v="[object Boolean]",p="[object Date]",h="[object Error]",b="[object Function]",m="[object GeneratorFunction]",w="[object Map]",y="[object Number]",I="[object Object]",C="[object Promise]",x="[object RegExp]",A="[object Set]",k="[object String]",G="[object Symbol]",_="[object WeakMap]",L="[object ArrayBuffer]",S="[object DataView]",X="[object Float32Array]",W="[object Float64Array]",Z="[object Int8Array]",M="[object Int16Array]",N="[object Int32Array]",j="[object Uint8Array]",B="[object Uint8ClampedArray]",Y="[object Uint16Array]",R="[object Uint32Array]",P=/\b__p \+= '';/g,O=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,T=/[&<>"']/g,V=RegExp(z.source),F=RegExp(T.source),E=/<%-([\s\S]+?)%>/g,D=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,q=/[\\^$.*+?()[\]{}|]/g,$=RegExp(q.source),nn=/^\s+/,tn=/\s/,en=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rn=/\{\n\/\* \[wrapped with (.+)\] \*/,on=/,? & /,an=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ln=/[()=,{}\[\]\/\s]/,sn=/\\(\\)?/g,cn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,un=/\w*$/,dn=/^[-+]0x[0-9a-f]+$/i,fn=/^0b[01]+$/i,gn=/^\[object .+?Constructor\]$/,vn=/^0o[0-7]+$/i,pn=/^(?:0|[1-9]\d*)$/,hn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bn=/($^)/,mn=/['\n\r\u2028\u2029\\]/g,wn="\\ud800-\\udfff",yn="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",In="\\u2700-\\u27bf",Cn="a-z\\xdf-\\xf6\\xf8-\\xff",xn="A-Z\\xc0-\\xd6\\xd8-\\xde",An="\\ufe0e\\ufe0f",kn="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gn="['â€™]",_n="["+wn+"]",Ln="["+kn+"]",Sn="["+yn+"]",Xn="\\d+",Wn="["+In+"]",Zn="["+Cn+"]",Mn="[^"+wn+kn+Xn+In+Cn+xn+"]",Nn="\\ud83c[\\udffb-\\udfff]",jn="[^"+wn+"]",Bn="(?:\\ud83c[\\udde6-\\uddff]){2}",Yn="[\\ud800-\\udbff][\\udc00-\\udfff]",Rn="["+xn+"]",Pn="\\u200d",On="(?:"+Zn+"|"+Mn+")",Hn="(?:"+Rn+"|"+Mn+")",zn="(?:['â€™](?:d|ll|m|re|s|t|ve))?",Tn="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Vn="(?:"+Sn+"|"+Nn+")?",Fn="["+An+"]?",En=Fn+Vn+"(?:"+Pn+"(?:"+[jn,Bn,Yn].join("|")+")"+Fn+Vn+")*",Dn="(?:"+[Wn,Bn,Yn].join("|")+")"+En,Un="(?:"+[jn+Sn+"?",Sn,Bn,Yn,_n].join("|")+")",Jn=RegExp(Gn,"g"),Kn=RegExp(Sn,"g"),Qn=RegExp(Nn+"(?="+Nn+")|"+Un+En,"g"),qn=RegExp([Rn+"?"+Zn+"+"+zn+"(?="+[Ln,Rn,"$"].join("|")+")",Hn+"+"+Tn+"(?="+[Ln,Rn+On,"$"].join("|")+")",Rn+"?"+On+"+"+zn,Rn+"+"+Tn,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xn,Dn].join("|"),"g"),$n=RegExp("["+Pn+wn+yn+An+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,tt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],et=-1,rt={};rt[X]=rt[W]=rt[Z]=rt[M]=rt[N]=rt[j]=rt[B]=rt[Y]=rt[R]=!0,rt[f]=rt[g]=rt[L]=rt[v]=rt[S]=rt[p]=rt[h]=rt[b]=rt[w]=rt[y]=rt[I]=rt[x]=rt[A]=rt[k]=rt[_]=!1;var ot={};ot[f]=ot[g]=ot[L]=ot[S]=ot[v]=ot[p]=ot[X]=ot[W]=ot[Z]=ot[M]=ot[N]=ot[w]=ot[y]=ot[I]=ot[x]=ot[A]=ot[k]=ot[G]=ot[j]=ot[B]=ot[Y]=ot[R]=!0,ot[h]=ot[b]=ot[_]=!1;var it={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},at=parseFloat,lt=parseInt,st="object"==typeof Ki&&Ki&&Ki.Object===Object&&Ki,ct="object"==typeof self&&self&&self.Object===Object&&self,ut=st||ct||Function("return this")(),dt=$i&&!$i.nodeType&&$i,ft=dt&&qi&&!qi.nodeType&&qi,gt=ft&&ft.exports===dt,vt=gt&&st.process,pt=function(){try{var n=ft&&ft.require&&ft.require("util").types;return n||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),ht=pt&&pt.isArrayBuffer,bt=pt&&pt.isDate,mt=pt&&pt.isMap,wt=pt&&pt.isRegExp,yt=pt&&pt.isSet,It=pt&&pt.isTypedArray;function Ct(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function xt(n,t,e,r){for(var o=-1,i=null==n?0:n.length;++o<i;){var a=n[o];t(r,a,e(a),n)}return r}function At(n,t){for(var e=-1,r=null==n?0:n.length;++e<r&&!1!==t(n[e],e,n););return n}function kt(n,t){for(var e=null==n?0:n.length;e--&&!1!==t(n[e],e,n););return n}function Gt(n,t){for(var e=-1,r=null==n?0:n.length;++e<r;)if(!t(n[e],e,n))return!1;return!0}function _t(n,t){for(var e=-1,r=null==n?0:n.length,o=0,i=[];++e<r;){var a=n[e];t(a,e,n)&&(i[o++]=a)}return i}function Lt(n,t){return!(null==n||!n.length)&&Rt(n,t,0)>-1}function St(n,t,e){for(var r=-1,o=null==n?0:n.length;++r<o;)if(e(t,n[r]))return!0;return!1}function Xt(n,t){for(var e=-1,r=null==n?0:n.length,o=Array(r);++e<r;)o[e]=t(n[e],e,n);return o}function Wt(n,t){for(var e=-1,r=t.length,o=n.length;++e<r;)n[o+e]=t[e];return n}function Zt(n,t,e,r){var o=-1,i=null==n?0:n.length;for(r&&i&&(e=n[++o]);++o<i;)e=t(e,n[o],o,n);return e}function Mt(n,t,e,r){var o=null==n?0:n.length;for(r&&o&&(e=n[--o]);o--;)e=t(e,n[o],o,n);return e}function Nt(n,t){for(var e=-1,r=null==n?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}var jt=zt("length");function Bt(n,t,e){var r;return e(n,function(n,e,o){if(t(n,e,o))return r=e,!1}),r}function Yt(n,t,e,r){for(var o=n.length,i=e+(r?1:-1);r?i--:++i<o;)if(t(n[i],i,n))return i;return-1}function Rt(n,t,e){return t==t?function(n,t,e){for(var r=e-1,o=n.length;++r<o;)if(n[r]===t)return r;return-1}(n,t,e):Yt(n,Ot,e)}function Pt(n,t,e,r){for(var o=e-1,i=n.length;++o<i;)if(r(n[o],t))return o;return-1}function Ot(n){return n!=n}function Ht(n,t){var e=null==n?0:n.length;return e?Ft(n,t)/e:c}function zt(t){return function(e){return null==e?n:e[t]}}function Tt(t){return function(e){return null==t?n:t[e]}}function Vt(n,t,e,r,o){return o(n,function(n,o,i){e=r?(r=!1,n):t(e,n,o,i)}),e}function Ft(t,e){for(var r,o=-1,i=t.length;++o<i;){var a=e(t[o]);a!==n&&(r=r===n?a:r+a)}return r}function Et(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}function Dt(n){return n?n.slice(0,ce(n)+1).replace(nn,""):n}function Ut(n){return function(t){return n(t)}}function Jt(n,t){return Xt(t,function(t){return n[t]})}function Kt(n,t){return n.has(t)}function Qt(n,t){for(var e=-1,r=n.length;++e<r&&Rt(t,n[e],0)>-1;);return e}function qt(n,t){for(var e=n.length;e--&&Rt(t,n[e],0)>-1;);return e}var $t=Tt({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),ne=Tt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function te(n){return"\\"+it[n]}function ee(n){return $n.test(n)}function re(n){var t=-1,e=Array(n.size);return n.forEach(function(n,r){e[++t]=[r,n]}),e}function oe(n,t){return function(e){return n(t(e))}}function ie(n,t){for(var e=-1,o=n.length,i=0,a=[];++e<o;){var l=n[e];l!==t&&l!==r||(n[e]=r,a[i++]=e)}return a}function ae(n){var t=-1,e=Array(n.size);return n.forEach(function(n){e[++t]=n}),e}function le(n){return ee(n)?function(n){for(var t=Qn.lastIndex=0;Qn.test(n);)++t;return t}(n):jt(n)}function se(n){return ee(n)?function(n){return n.match(Qn)||[]}(n):function(n){return n.split("")}(n)}function ce(n){for(var t=n.length;t--&&tn.test(n.charAt(t)););return t}var ue=Tt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),de=function tn(wn){var yn,In=(wn=null==wn?ut:de.defaults(ut.Object(),wn,de.pick(ut,tt))).Array,Cn=wn.Date,xn=wn.Error,An=wn.Function,kn=wn.Math,Gn=wn.Object,_n=wn.RegExp,Ln=wn.String,Sn=wn.TypeError,Xn=In.prototype,Wn=An.prototype,Zn=Gn.prototype,Mn=wn["__core-js_shared__"],Nn=Wn.toString,jn=Zn.hasOwnProperty,Bn=0,Yn=(yn=/[^.]+$/.exec(Mn&&Mn.keys&&Mn.keys.IE_PROTO||""))?"Symbol(src)_1."+yn:"",Rn=Zn.toString,Pn=Nn.call(Gn),On=ut._,Hn=_n("^"+Nn.call(jn).replace(q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zn=gt?wn.Buffer:n,Tn=wn.Symbol,Vn=wn.Uint8Array,Fn=zn?zn.allocUnsafe:n,En=oe(Gn.getPrototypeOf,Gn),Dn=Gn.create,Un=Zn.propertyIsEnumerable,Qn=Xn.splice,$n=Tn?Tn.isConcatSpreadable:n,it=Tn?Tn.iterator:n,st=Tn?Tn.toStringTag:n,ct=function(){try{var n=ui(Gn,"defineProperty");return n({},"",{}),n}catch(t){}}(),dt=wn.clearTimeout!==ut.clearTimeout&&wn.clearTimeout,ft=Cn&&Cn.now!==ut.Date.now&&Cn.now,vt=wn.setTimeout!==ut.setTimeout&&wn.setTimeout,pt=kn.ceil,jt=kn.floor,Tt=Gn.getOwnPropertySymbols,fe=zn?zn.isBuffer:n,ge=wn.isFinite,ve=Xn.join,pe=oe(Gn.keys,Gn),he=kn.max,be=kn.min,me=Cn.now,we=wn.parseInt,ye=kn.random,Ie=Xn.reverse,Ce=ui(wn,"DataView"),xe=ui(wn,"Map"),Ae=ui(wn,"Promise"),ke=ui(wn,"Set"),Ge=ui(wn,"WeakMap"),_e=ui(Gn,"create"),Le=Ge&&new Ge,Se={},Xe=Pi(Ce),We=Pi(xe),Ze=Pi(Ae),Me=Pi(ke),Ne=Pi(Ge),je=Tn?Tn.prototype:n,Be=je?je.valueOf:n,Ye=je?je.toString:n;function Re(n){if(el(n)&&!Fa(n)&&!(n instanceof ze)){if(n instanceof He)return n;if(jn.call(n,"__wrapped__"))return Oi(n)}return new He(n)}var Pe=function(){function t(){}return function(e){if(!tl(e))return{};if(Dn)return Dn(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function Oe(){}function He(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function ze(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u,this.__views__=[]}function Te(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Ve(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Fe(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}function Ee(n){var t=-1,e=null==n?0:n.length;for(this.__data__=new Fe;++t<e;)this.add(n[t])}function De(n){var t=this.__data__=new Ve(n);this.size=t.size}function Ue(n,t){var e=Fa(n),r=!e&&Va(n),o=!e&&!r&&Ja(n),i=!e&&!r&&!o&&ul(n),a=e||r||o||i,l=a?Et(n.length,Ln):[],s=l.length;for(var c in n)!t&&!jn.call(n,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bi(c,s))||l.push(c);return l}function Je(t){var e=t.length;return e?t[Er(0,e-1)]:n}function Ke(n,t){return Mi(Lo(n),ir(t,0,n.length))}function Qe(n){return Mi(Lo(n))}function qe(t,e,r){(r!==n&&!Ha(t[e],r)||r===n&&!(e in t))&&rr(t,e,r)}function $e(t,e,r){var o=t[e];jn.call(t,e)&&Ha(o,r)&&(r!==n||e in t)||rr(t,e,r)}function nr(n,t){for(var e=n.length;e--;)if(Ha(n[e][0],t))return e;return-1}function tr(n,t,e,r){return ur(n,function(n,o,i){t(r,n,e(n),i)}),r}function er(n,t){return n&&So(t,Zl(t),n)}function rr(n,t,e){"__proto__"==t&&ct?ct(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function or(t,e){for(var r=-1,o=e.length,i=In(o),a=null==t;++r<o;)i[r]=a?n:_l(t,e[r]);return i}function ir(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function ar(t,e,r,o,i,a){var l,s=1&e,c=2&e,u=4&e;if(r&&(l=i?r(t,o,i,a):r(t)),l!==n)return l;if(!tl(t))return t;var d=Fa(t);if(d){if(l=function(n){var t=n.length,e=new n.constructor(t);return t&&"string"==typeof n[0]&&jn.call(n,"index")&&(e.index=n.index,e.input=n.input),e}(t),!s)return Lo(t,l)}else{var g=gi(t),h=g==b||g==m;if(Ja(t))return Co(t,s);if(g==I||g==f||h&&!i){if(l=c||h?{}:pi(t),!s)return c?function(n,t){return So(n,fi(n),t)}(t,function(n,t){return n&&So(t,Ml(t),n)}(l,t)):function(n,t){return So(n,di(n),t)}(t,er(l,t))}else{if(!ot[g])return i?t:{};l=function(n,t,e){var r,o=n.constructor;switch(t){case L:return xo(n);case v:case p:return new o(+n);case S:return function(n,t){var e=t?xo(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}(n,e);case X:case W:case Z:case M:case N:case j:case B:case Y:case R:return Ao(n,e);case w:return new o;case y:case k:return new o(n);case x:return function(n){var t=new n.constructor(n.source,un.exec(n));return t.lastIndex=n.lastIndex,t}(n);case A:return new o;case G:return r=n,Be?Gn(Be.call(r)):{}}}(t,g,s)}}a||(a=new De);var C=a.get(t);if(C)return C;a.set(t,l),ll(t)?t.forEach(function(n){l.add(ar(n,e,r,n,t,a))}):rl(t)&&t.forEach(function(n,o){l.set(o,ar(n,e,r,o,t,a))});var _=d?n:(u?c?ri:ei:c?Ml:Zl)(t);return At(_||t,function(n,o){_&&(n=t[o=n]),$e(l,o,ar(n,e,r,o,t,a))}),l}function lr(t,e,r){var o=r.length;if(null==t)return!o;for(t=Gn(t);o--;){var i=r[o],a=e[i],l=t[i];if(l===n&&!(i in t)||!a(l))return!1}return!0}function sr(e,r,o){if("function"!=typeof e)throw new Sn(t);return Si(function(){e.apply(n,o)},r)}function cr(n,t,e,r){var o=-1,i=Lt,a=!0,l=n.length,s=[],c=t.length;if(!l)return s;e&&(t=Xt(t,Ut(e))),r?(i=St,a=!1):t.length>=200&&(i=Kt,a=!1,t=new Ee(t));n:for(;++o<l;){var u=n[o],d=null==e?u:e(u);if(u=r||0!==u?u:0,a&&d==d){for(var f=c;f--;)if(t[f]===d)continue n;s.push(u)}else i(t,d,r)||s.push(u)}return s}Re.templateSettings={escape:E,evaluate:D,interpolate:U,variable:"",imports:{_:Re}},Re.prototype=Oe.prototype,Re.prototype.constructor=Re,He.prototype=Pe(Oe.prototype),He.prototype.constructor=He,ze.prototype=Pe(Oe.prototype),ze.prototype.constructor=ze,Te.prototype.clear=function(){this.__data__=_e?_e(null):{},this.size=0},Te.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},Te.prototype.get=function(t){var r=this.__data__;if(_e){var o=r[t];return o===e?n:o}return jn.call(r,t)?r[t]:n},Te.prototype.has=function(t){var e=this.__data__;return _e?e[t]!==n:jn.call(e,t)},Te.prototype.set=function(t,r){var o=this.__data__;return this.size+=this.has(t)?0:1,o[t]=_e&&r===n?e:r,this},Ve.prototype.clear=function(){this.__data__=[],this.size=0},Ve.prototype.delete=function(n){var t=this.__data__,e=nr(t,n);return!(e<0||(e==t.length-1?t.pop():Qn.call(t,e,1),--this.size,0))},Ve.prototype.get=function(t){var e=this.__data__,r=nr(e,t);return r<0?n:e[r][1]},Ve.prototype.has=function(n){return nr(this.__data__,n)>-1},Ve.prototype.set=function(n,t){var e=this.__data__,r=nr(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this},Fe.prototype.clear=function(){this.size=0,this.__data__={hash:new Te,map:new(xe||Ve),string:new Te}},Fe.prototype.delete=function(n){var t=si(this,n).delete(n);return this.size-=t?1:0,t},Fe.prototype.get=function(n){return si(this,n).get(n)},Fe.prototype.has=function(n){return si(this,n).has(n)},Fe.prototype.set=function(n,t){var e=si(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this},Ee.prototype.add=Ee.prototype.push=function(n){return this.__data__.set(n,e),this},Ee.prototype.has=function(n){return this.__data__.has(n)},De.prototype.clear=function(){this.__data__=new Ve,this.size=0},De.prototype.delete=function(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},De.prototype.get=function(n){return this.__data__.get(n)},De.prototype.has=function(n){return this.__data__.has(n)},De.prototype.set=function(n,t){var e=this.__data__;if(e instanceof Ve){var r=e.__data__;if(!xe||r.length<199)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new Fe(r)}return e.set(n,t),this.size=e.size,this};var ur=Zo(mr),dr=Zo(wr,!0);function fr(n,t){var e=!0;return ur(n,function(n,r,o){return e=!!t(n,r,o)}),e}function gr(t,e,r){for(var o=-1,i=t.length;++o<i;){var a=t[o],l=e(a);if(null!=l&&(s===n?l==l&&!cl(l):r(l,s)))var s=l,c=a}return c}function vr(n,t){var e=[];return ur(n,function(n,r,o){t(n,r,o)&&e.push(n)}),e}function pr(n,t,e,r,o){var i=-1,a=n.length;for(e||(e=hi),o||(o=[]);++i<a;){var l=n[i];t>0&&e(l)?t>1?pr(l,t-1,e,r,o):Wt(o,l):r||(o[o.length]=l)}return o}var hr=Mo(),br=Mo(!0);function mr(n,t){return n&&hr(n,t,Zl)}function wr(n,t){return n&&br(n,t,Zl)}function yr(n,t){return _t(t,function(t){return qa(n[t])})}function Ir(t,e){for(var r=0,o=(e=mo(e,t)).length;null!=t&&r<o;)t=t[Ri(e[r++])];return r&&r==o?t:n}function Cr(n,t,e){var r=t(n);return Fa(n)?r:Wt(r,e(n))}function xr(t){return null==t?t===n?"[object Undefined]":"[object Null]":st&&st in Gn(t)?function(t){var e=jn.call(t,st),r=t[st];try{t[st]=n;var o=!0}catch(a){}var i=Rn.call(t);return o&&(e?t[st]=r:delete t[st]),i}(t):function(n){return Rn.call(n)}(t)}function Ar(n,t){return n>t}function kr(n,t){return null!=n&&jn.call(n,t)}function Gr(n,t){return null!=n&&t in Gn(n)}function _r(t,e,r){for(var o=r?St:Lt,i=t[0].length,a=t.length,l=a,s=In(a),c=1/0,u=[];l--;){var d=t[l];l&&e&&(d=Xt(d,Ut(e))),c=be(d.length,c),s[l]=!r&&(e||i>=120&&d.length>=120)?new Ee(l&&d):n}d=t[0];var f=-1,g=s[0];n:for(;++f<i&&u.length<c;){var v=d[f],p=e?e(v):v;if(v=r||0!==v?v:0,!(g?Kt(g,p):o(u,p,r))){for(l=a;--l;){var h=s[l];if(!(h?Kt(h,p):o(t[l],p,r)))continue n}g&&g.push(p),u.push(v)}}return u}function Lr(t,e,r){var o=null==(t=Gi(t,e=mo(e,t)))?t:t[Ri(Qi(e))];return null==o?n:Ct(o,t,r)}function Sr(n){return el(n)&&xr(n)==f}function Xr(t,e,r,o,i){return t===e||(null==t||null==e||!el(t)&&!el(e)?t!=t&&e!=e:function(t,e,r,o,i,a){var l=Fa(t),s=Fa(e),c=l?g:gi(t),u=s?g:gi(e),d=(c=c==f?I:c)==I,b=(u=u==f?I:u)==I,m=c==u;if(m&&Ja(t)){if(!Ja(e))return!1;l=!0,d=!1}if(m&&!d)return a||(a=new De),l||ul(t)?ni(t,e,r,o,i,a):function(n,t,e,r,o,i,a){switch(e){case S:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case L:return!(n.byteLength!=t.byteLength||!i(new Vn(n),new Vn(t)));case v:case p:case y:return Ha(+n,+t);case h:return n.name==t.name&&n.message==t.message;case x:case k:return n==t+"";case w:var l=re;case A:var s=1&r;if(l||(l=ae),n.size!=t.size&&!s)return!1;var c=a.get(n);if(c)return c==t;r|=2,a.set(n,t);var u=ni(l(n),l(t),r,o,i,a);return a.delete(n),u;case G:if(Be)return Be.call(n)==Be.call(t)}return!1}(t,e,c,r,o,i,a);if(!(1&r)){var C=d&&jn.call(t,"__wrapped__"),_=b&&jn.call(e,"__wrapped__");if(C||_){var X=C?t.value():t,W=_?e.value():e;return a||(a=new De),i(X,W,r,o,a)}}return!!m&&(a||(a=new De),function(t,e,r,o,i,a){var l=1&r,s=ei(t),c=s.length,u=ei(e),d=u.length;if(c!=d&&!l)return!1;for(var f=c;f--;){var g=s[f];if(!(l?g in e:jn.call(e,g)))return!1}var v=a.get(t),p=a.get(e);if(v&&p)return v==e&&p==t;var h=!0;a.set(t,e),a.set(e,t);for(var b=l;++f<c;){var m=t[g=s[f]],w=e[g];if(o)var y=l?o(w,m,g,e,t,a):o(m,w,g,t,e,a);if(!(y===n?m===w||i(m,w,r,o,a):y)){h=!1;break}b||(b="constructor"==g)}if(h&&!b){var I=t.constructor,C=e.constructor;I==C||!("constructor"in t)||!("constructor"in e)||"function"==typeof I&&I instanceof I&&"function"==typeof C&&C instanceof C||(h=!1)}return a.delete(t),a.delete(e),h}(t,e,r,o,i,a))}(t,e,r,o,Xr,i))}function Wr(t,e,r,o){var i=r.length,a=i,l=!o;if(null==t)return!a;for(t=Gn(t);i--;){var s=r[i];if(l&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){var c=(s=r[i])[0],u=t[c],d=s[1];if(l&&s[2]){if(u===n&&!(c in t))return!1}else{var f=new De;if(o)var g=o(u,d,c,t,e,f);if(!(g===n?Xr(d,u,3,o,f):g))return!1}}return!0}function Zr(n){return!(!tl(n)||(t=n,Yn&&Yn in t))&&(qa(n)?Hn:gn).test(Pi(n));var t}function Mr(n){return"function"==typeof n?n:null==n?os:"object"==typeof n?Fa(n)?Pr(n[0],n[1]):Rr(n):gs(n)}function Nr(n){if(!Ci(n))return pe(n);var t=[];for(var e in Gn(n))jn.call(n,e)&&"constructor"!=e&&t.push(e);return t}function jr(n){if(!tl(n))return function(n){var t=[];if(null!=n)for(var e in Gn(n))t.push(e);return t}(n);var t=Ci(n),e=[];for(var r in n)("constructor"!=r||!t&&jn.call(n,r))&&e.push(r);return e}function Br(n,t){return n<t}function Yr(n,t){var e=-1,r=Da(n)?In(n.length):[];return ur(n,function(n,o,i){r[++e]=t(n,o,i)}),r}function Rr(n){var t=ci(n);return 1==t.length&&t[0][2]?Ai(t[0][0],t[0][1]):function(e){return e===n||Wr(e,n,t)}}function Pr(t,e){return wi(t)&&xi(e)?Ai(Ri(t),e):function(r){var o=_l(r,t);return o===n&&o===e?Ll(r,t):Xr(e,o,3)}}function Or(t,e,r,o,i){t!==e&&hr(e,function(a,l){if(i||(i=new De),tl(a))!function(t,e,r,o,i,a,l){var s=_i(t,r),c=_i(e,r),u=l.get(c);if(u)qe(t,r,u);else{var d=a?a(s,c,r+"",t,e,l):n,f=d===n;if(f){var g=Fa(c),v=!g&&Ja(c),p=!g&&!v&&ul(c);d=c,g||v||p?Fa(s)?d=s:Ua(s)?d=Lo(s):v?(f=!1,d=Co(c,!0)):p?(f=!1,d=Ao(c,!0)):d=[]:il(c)||Va(c)?(d=s,Va(s)?d=ml(s):tl(s)&&!qa(s)||(d=pi(c))):f=!1}f&&(l.set(c,d),i(d,c,o,a,l),l.delete(c)),qe(t,r,d)}}(t,e,l,r,Or,o,i);else{var s=o?o(_i(t,l),a,l+"",t,e,i):n;s===n&&(s=a),qe(t,l,s)}},Ml)}function Hr(t,e){var r=t.length;if(r)return bi(e+=e<0?r:0,r)?t[e]:n}function zr(n,t,e){t=t.length?Xt(t,function(n){return Fa(n)?function(t){return Ir(t,1===n.length?n[0]:n)}:n}):[os];var r=-1;return t=Xt(t,Ut(li())),function(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}(Yr(n,function(n,e,o){return{criteria:Xt(t,function(t){return t(n)}),index:++r,value:n}}),function(n,t){return function(n,t,e){for(var r=-1,o=n.criteria,i=t.criteria,a=o.length,l=e.length;++r<a;){var s=ko(o[r],i[r]);if(s)return r>=l?s:s*("desc"==e[r]?-1:1)}return n.index-t.index}(n,t,e)})}function Tr(n,t,e){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=Ir(n,a);e(l,a)&&Qr(i,mo(a,n),l)}return i}function Vr(n,t,e,r){var o=r?Pt:Rt,i=-1,a=t.length,l=n;for(n===t&&(t=Lo(t)),e&&(l=Xt(n,Ut(e)));++i<a;)for(var s=0,c=t[i],u=e?e(c):c;(s=o(l,u,s,r))>-1;)l!==n&&Qn.call(l,s,1),Qn.call(n,s,1);return n}function Fr(n,t){for(var e=n?t.length:0,r=e-1;e--;){var o=t[e];if(e==r||o!==i){var i=o;bi(o)?Qn.call(n,o,1):co(n,o)}}return n}function Er(n,t){return n+jt(ye()*(t-n+1))}function Dr(n,t){var e="";if(!n||t<1||t>s)return e;do{t%2&&(e+=n),(t=jt(t/2))&&(n+=n)}while(t);return e}function Ur(n,t){return Xi(ki(n,t,os),n+"")}function Jr(n){return Je(Hl(n))}function Kr(n,t){var e=Hl(n);return Mi(e,ir(t,0,e.length))}function Qr(t,e,r,o){if(!tl(t))return t;for(var i=-1,a=(e=mo(e,t)).length,l=a-1,s=t;null!=s&&++i<a;){var c=Ri(e[i]),u=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(i!=l){var d=s[c];(u=o?o(d,c,s):n)===n&&(u=tl(d)?d:bi(e[i+1])?[]:{})}$e(s,c,u),s=s[c]}return t}var qr=Le?function(n,t){return Le.set(n,t),n}:os,$r=ct?function(n,t){return ct(n,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:os;function no(n){return Mi(Hl(n))}function to(n,t,e){var r=-1,o=n.length;t<0&&(t=-t>o?0:o+t),(e=e>o?o:e)<0&&(e+=o),o=t>e?0:e-t>>>0,t>>>=0;for(var i=In(o);++r<o;)i[r]=n[r+t];return i}function eo(n,t){var e;return ur(n,function(n,r,o){return!(e=t(n,r,o))}),!!e}function ro(n,t,e){var r=0,o=null==n?r:n.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=n[i];null!==a&&!cl(a)&&(e?a<=t:a<t)?r=i+1:o=i}return o}return oo(n,t,os,e)}function oo(t,e,r,o){var i=0,a=null==t?0:t.length;if(0===a)return 0;for(var l=(e=r(e))!=e,s=null===e,c=cl(e),u=e===n;i<a;){var d=jt((i+a)/2),f=r(t[d]),g=f!==n,v=null===f,p=f==f,h=cl(f);if(l)var b=o||p;else b=u?p&&(o||g):s?p&&g&&(o||!v):c?p&&g&&!v&&(o||!h):!v&&!h&&(o?f<=e:f<e);b?i=d+1:a=d}return be(a,4294967294)}function io(n,t){for(var e=-1,r=n.length,o=0,i=[];++e<r;){var a=n[e],l=t?t(a):a;if(!e||!Ha(l,s)){var s=l;i[o++]=0===a?0:a}}return i}function ao(n){return"number"==typeof n?n:cl(n)?c:+n}function lo(n){if("string"==typeof n)return n;if(Fa(n))return Xt(n,lo)+"";if(cl(n))return Ye?Ye.call(n):"";var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}function so(n,t,e){var r=-1,o=Lt,i=n.length,a=!0,l=[],s=l;if(e)a=!1,o=St;else if(i>=200){var c=t?null:Uo(n);if(c)return ae(c);a=!1,o=Kt,s=new Ee}else s=t?[]:l;n:for(;++r<i;){var u=n[r],d=t?t(u):u;if(u=e||0!==u?u:0,a&&d==d){for(var f=s.length;f--;)if(s[f]===d)continue n;t&&s.push(d),l.push(u)}else o(s,d,e)||(s!==l&&s.push(d),l.push(u))}return l}function co(n,t){return null==(n=Gi(n,t=mo(t,n)))||delete n[Ri(Qi(t))]}function uo(n,t,e,r){return Qr(n,t,e(Ir(n,t)),r)}function fo(n,t,e,r){for(var o=n.length,i=r?o:-1;(r?i--:++i<o)&&t(n[i],i,n););return e?to(n,r?0:i,r?i+1:o):to(n,r?i+1:0,r?o:i)}function go(n,t){var e=n;return e instanceof ze&&(e=e.value()),Zt(t,function(n,t){return t.func.apply(t.thisArg,Wt([n],t.args))},e)}function vo(n,t,e){var r=n.length;if(r<2)return r?so(n[0]):[];for(var o=-1,i=In(r);++o<r;)for(var a=n[o],l=-1;++l<r;)l!=o&&(i[o]=cr(i[o]||a,n[l],t,e));return so(pr(i,1),t,e)}function po(t,e,r){for(var o=-1,i=t.length,a=e.length,l={};++o<i;){var s=o<a?e[o]:n;r(l,t[o],s)}return l}function ho(n){return Ua(n)?n:[]}function bo(n){return"function"==typeof n?n:os}function mo(n,t){return Fa(n)?n:wi(n,t)?[n]:Yi(wl(n))}var wo=Ur;function yo(t,e,r){var o=t.length;return r=r===n?o:r,!e&&r>=o?t:to(t,e,r)}var Io=dt||function(n){return ut.clearTimeout(n)};function Co(n,t){if(t)return n.slice();var e=n.length,r=Fn?Fn(e):new n.constructor(e);return n.copy(r),r}function xo(n){var t=new n.constructor(n.byteLength);return new Vn(t).set(new Vn(n)),t}function Ao(n,t){var e=t?xo(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}function ko(t,e){if(t!==e){var r=t!==n,o=null===t,i=t==t,a=cl(t),l=e!==n,s=null===e,c=e==e,u=cl(e);if(!s&&!u&&!a&&t>e||a&&l&&c&&!s&&!u||o&&l&&c||!r&&c||!i)return 1;if(!o&&!a&&!u&&t<e||u&&r&&i&&!o&&!a||s&&r&&i||!l&&i||!c)return-1}return 0}function Go(n,t,e,r){for(var o=-1,i=n.length,a=e.length,l=-1,s=t.length,c=he(i-a,0),u=In(s+c),d=!r;++l<s;)u[l]=t[l];for(;++o<a;)(d||o<i)&&(u[e[o]]=n[o]);for(;c--;)u[l++]=n[o++];return u}function _o(n,t,e,r){for(var o=-1,i=n.length,a=-1,l=e.length,s=-1,c=t.length,u=he(i-l,0),d=In(u+c),f=!r;++o<u;)d[o]=n[o];for(var g=o;++s<c;)d[g+s]=t[s];for(;++a<l;)(f||o<i)&&(d[g+e[a]]=n[o++]);return d}function Lo(n,t){var e=-1,r=n.length;for(t||(t=In(r));++e<r;)t[e]=n[e];return t}function So(t,e,r,o){var i=!r;r||(r={});for(var a=-1,l=e.length;++a<l;){var s=e[a],c=o?o(r[s],t[s],s,r,t):n;c===n&&(c=t[s]),i?rr(r,s,c):$e(r,s,c)}return r}function Xo(n,t){return function(e,r){var o=Fa(e)?xt:tr,i=t?t():{};return o(e,n,li(r,2),i)}}function Wo(t){return Ur(function(e,r){var o=-1,i=r.length,a=i>1?r[i-1]:n,l=i>2?r[2]:n;for(a=t.length>3&&"function"==typeof a?(i--,a):n,l&&mi(r[0],r[1],l)&&(a=i<3?n:a,i=1),e=Gn(e);++o<i;){var s=r[o];s&&t(e,s,o,a)}return e})}function Zo(n,t){return function(e,r){if(null==e)return e;if(!Da(e))return n(e,r);for(var o=e.length,i=t?o:-1,a=Gn(e);(t?i--:++i<o)&&!1!==r(a[i],i,a););return e}}function Mo(n){return function(t,e,r){for(var o=-1,i=Gn(t),a=r(t),l=a.length;l--;){var s=a[n?l:++o];if(!1===e(i[s],s,i))break}return t}}function No(t){return function(e){var r=ee(e=wl(e))?se(e):n,o=r?r[0]:e.charAt(0),i=r?yo(r,1).join(""):e.slice(1);return o[t]()+i}}function jo(n){return function(t){return Zt(ql(Vl(t).replace(Jn,"")),n,"")}}function Bo(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=Pe(n.prototype),r=n.apply(e,t);return tl(r)?r:e}}function Yo(t){return function(e,r,o){var i=Gn(e);if(!Da(e)){var a=li(r,3);e=Zl(e),r=function(n){return a(i[n],n,i)}}var l=t(e,r,o);return l>-1?i[a?e[l]:l]:n}}function Ro(e){return ti(function(r){var o=r.length,i=o,a=He.prototype.thru;for(e&&r.reverse();i--;){var l=r[i];if("function"!=typeof l)throw new Sn(t);if(a&&!s&&"wrapper"==ii(l))var s=new He([],!0)}for(i=s?i:o;++i<o;){var c=ii(l=r[i]),u="wrapper"==c?oi(l):n;s=u&&yi(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[ii(u[0])].apply(s,u[3]):1==l.length&&yi(l)?s[c]():s.thru(l)}return function(){var n=arguments,t=n[0];if(s&&1==n.length&&Fa(t))return s.plant(t).value();for(var e=0,i=o?r[e].apply(this,n):t;++e<o;)i=r[e].call(this,i);return i}})}function Po(t,e,r,o,a,l,s,c,u,d){var f=e&i,g=1&e,v=2&e,p=24&e,h=512&e,b=v?n:Bo(t);return function i(){for(var m=arguments.length,w=In(m),y=m;y--;)w[y]=arguments[y];if(p)var I=ai(i),C=function(n,t){for(var e=n.length,r=0;e--;)n[e]===t&&++r;return r}(w,I);if(o&&(w=Go(w,o,a,p)),l&&(w=_o(w,l,s,p)),m-=C,p&&m<d){var x=ie(w,I);return Eo(t,e,Po,i.placeholder,r,w,x,c,u,d-m)}var A=g?r:this,k=v?A[t]:t;return m=w.length,c?w=function(t,e){for(var r=t.length,o=be(e.length,r),i=Lo(t);o--;){var a=e[o];t[o]=bi(a,r)?i[a]:n}return t}(w,c):h&&m>1&&w.reverse(),f&&u<m&&(w.length=u),this&&this!==ut&&this instanceof i&&(k=b||Bo(k)),k.apply(A,w)}}function Oo(n,t){return function(e,r){return function(n,t,e,r){return mr(n,function(n,o,i){t(r,e(n),o,i)}),r}(e,n,t(r),{})}}function Ho(t,e){return function(r,o){var i;if(r===n&&o===n)return e;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=lo(r),o=lo(o)):(r=ao(r),o=ao(o)),i=t(r,o)}return i}}function zo(n){return ti(function(t){return t=Xt(t,Ut(li())),Ur(function(e){var r=this;return n(t,function(n){return Ct(n,r,e)})})})}function To(t,e){var r=(e=e===n?" ":lo(e)).length;if(r<2)return r?Dr(e,t):e;var o=Dr(e,pt(t/le(e)));return ee(e)?yo(se(o),0,t).join(""):o.slice(0,t)}function Vo(t){return function(e,r,o){return o&&"number"!=typeof o&&mi(e,r,o)&&(r=o=n),e=vl(e),r===n?(r=e,e=0):r=vl(r),function(n,t,e,r){for(var o=-1,i=he(pt((t-n)/(e||1)),0),a=In(i);i--;)a[r?i:++o]=n,n+=e;return a}(e,r,o=o===n?e<r?1:-1:vl(o),t)}}function Fo(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=bl(t),e=bl(e)),n(t,e)}}function Eo(t,e,r,i,a,l,s,c,u,d){var f=8&e;e|=f?o:64,4&(e&=~(f?64:o))||(e&=-4);var g=[t,e,a,f?l:n,f?s:n,f?n:l,f?n:s,c,u,d],v=r.apply(n,g);return yi(t)&&Li(v,g),v.placeholder=i,Wi(v,t,e)}function Do(n){var t=kn[n];return function(n,e){if(n=bl(n),(e=null==e?0:be(pl(e),292))&&ge(n)){var r=(wl(n)+"e").split("e");return+((r=(wl(t(r[0]+"e"+(+r[1]+e)))+"e").split("e"))[0]+"e"+(+r[1]-e))}return t(n)}}var Uo=ke&&1/ae(new ke([,-0]))[1]==l?function(n){return new ke(n)}:cs;function Jo(n){return function(t){var e=gi(t);return e==w?re(t):e==A?function(n){var t=-1,e=Array(n.size);return n.forEach(function(n){e[++t]=[n,n]}),e}(t):function(n,t){return Xt(t,function(t){return[t,n[t]]})}(t,n(t))}}function Ko(e,l,s,c,u,d,f,g){var v=2&l;if(!v&&"function"!=typeof e)throw new Sn(t);var p=c?c.length:0;if(p||(l&=-97,c=u=n),f=f===n?f:he(pl(f),0),g=g===n?g:pl(g),p-=u?u.length:0,64&l){var h=c,b=u;c=u=n}var m=v?n:oi(e),w=[e,l,s,c,u,h,b,d,f,g];if(m&&function(n,t){var e=n[1],o=t[1],l=e|o,s=l<131,c=o==i&&8==e||o==i&&e==a&&n[7].length<=t[8]||384==o&&t[7].length<=t[8]&&8==e;if(!s&&!c)return n;1&o&&(n[2]=t[2],l|=1&e?0:4);var u=t[3];if(u){var d=n[3];n[3]=d?Go(d,u,t[4]):u,n[4]=d?ie(n[3],r):t[4]}(u=t[5])&&(d=n[5],n[5]=d?_o(d,u,t[6]):u,n[6]=d?ie(n[5],r):t[6]),(u=t[7])&&(n[7]=u),o&i&&(n[8]=null==n[8]?t[8]:be(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=l}(w,m),e=w[0],l=w[1],s=w[2],c=w[3],u=w[4],!(g=w[9]=w[9]===n?v?0:e.length:he(w[9]-p,0))&&24&l&&(l&=-25),l&&1!=l)y=8==l||16==l?function(t,e,r){var o=Bo(t);return function i(){for(var a=arguments.length,l=In(a),s=a,c=ai(i);s--;)l[s]=arguments[s];var u=a<3&&l[0]!==c&&l[a-1]!==c?[]:ie(l,c);return(a-=u.length)<r?Eo(t,e,Po,i.placeholder,n,l,u,n,n,r-a):Ct(this&&this!==ut&&this instanceof i?o:t,this,l)}}(e,l,g):l!=o&&33!=l||u.length?Po.apply(n,w):function(n,t,e,r){var o=1&t,i=Bo(n);return function t(){for(var a=-1,l=arguments.length,s=-1,c=r.length,u=In(c+l),d=this&&this!==ut&&this instanceof t?i:n;++s<c;)u[s]=r[s];for(;l--;)u[s++]=arguments[++a];return Ct(d,o?e:this,u)}}(e,l,s,c);else var y=function(n,t,e){var r=1&t,o=Bo(n);return function t(){return(this&&this!==ut&&this instanceof t?o:n).apply(r?e:this,arguments)}}(e,l,s);return Wi((m?qr:Li)(y,w),e,l)}function Qo(t,e,r,o){return t===n||Ha(t,Zn[r])&&!jn.call(o,r)?e:t}function qo(t,e,r,o,i,a){return tl(t)&&tl(e)&&(a.set(e,t),Or(t,e,n,qo,a),a.delete(e)),t}function $o(t){return il(t)?n:t}function ni(t,e,r,o,i,a){var l=1&r,s=t.length,c=e.length;if(s!=c&&!(l&&c>s))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var f=-1,g=!0,v=2&r?new Ee:n;for(a.set(t,e),a.set(e,t);++f<s;){var p=t[f],h=e[f];if(o)var b=l?o(h,p,f,e,t,a):o(p,h,f,t,e,a);if(b!==n){if(b)continue;g=!1;break}if(v){if(!Nt(e,function(n,t){if(!Kt(v,t)&&(p===n||i(p,n,r,o,a)))return v.push(t)})){g=!1;break}}else if(p!==h&&!i(p,h,r,o,a)){g=!1;break}}return a.delete(t),a.delete(e),g}function ti(t){return Xi(ki(t,n,Ei),t+"")}function ei(n){return Cr(n,Zl,di)}function ri(n){return Cr(n,Ml,fi)}var oi=Le?function(n){return Le.get(n)}:cs;function ii(n){for(var t=n.name+"",e=Se[t],r=jn.call(Se,t)?e.length:0;r--;){var o=e[r],i=o.func;if(null==i||i==n)return o.name}return t}function ai(n){return(jn.call(Re,"placeholder")?Re:n).placeholder}function li(){var n=Re.iteratee||is;return n=n===is?Mr:n,arguments.length?n(arguments[0],arguments[1]):n}function si(n,t){var e,r,o=n.__data__;return("string"==(r=typeof(e=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?o["string"==typeof t?"string":"hash"]:o.map}function ci(n){for(var t=Zl(n),e=t.length;e--;){var r=t[e],o=n[r];t[e]=[r,o,xi(o)]}return t}function ui(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return Zr(r)?r:n}var di=Tt?function(n){return null==n?[]:(n=Gn(n),_t(Tt(n),function(t){return Un.call(n,t)}))}:hs,fi=Tt?function(n){for(var t=[];n;)Wt(t,di(n)),n=En(n);return t}:hs,gi=xr;function vi(n,t,e){for(var r=-1,o=(t=mo(t,n)).length,i=!1;++r<o;){var a=Ri(t[r]);if(!(i=null!=n&&e(n,a)))break;n=n[a]}return i||++r!=o?i:!!(o=null==n?0:n.length)&&nl(o)&&bi(a,o)&&(Fa(n)||Va(n))}function pi(n){return"function"!=typeof n.constructor||Ci(n)?{}:Pe(En(n))}function hi(n){return Fa(n)||Va(n)||!!($n&&n&&n[$n])}function bi(n,t){var e=typeof n;return!!(t=null==t?s:t)&&("number"==e||"symbol"!=e&&pn.test(n))&&n>-1&&n%1==0&&n<t}function mi(n,t,e){if(!tl(e))return!1;var r=typeof t;return!!("number"==r?Da(e)&&bi(t,e.length):"string"==r&&t in e)&&Ha(e[t],n)}function wi(n,t){if(Fa(n))return!1;var e=typeof n;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=n&&!cl(n))||K.test(n)||!J.test(n)||null!=t&&n in Gn(t)}function yi(n){var t=ii(n),e=Re[t];if("function"!=typeof e||!(t in ze.prototype))return!1;if(n===e)return!0;var r=oi(e);return!!r&&n===r[0]}(Ce&&gi(new Ce(new ArrayBuffer(1)))!=S||xe&&gi(new xe)!=w||Ae&&gi(Ae.resolve())!=C||ke&&gi(new ke)!=A||Ge&&gi(new Ge)!=_)&&(gi=function(t){var e=xr(t),r=e==I?t.constructor:n,o=r?Pi(r):"";if(o)switch(o){case Xe:return S;case We:return w;case Ze:return C;case Me:return A;case Ne:return _}return e});var Ii=Mn?qa:bs;function Ci(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||Zn)}function xi(n){return n==n&&!tl(n)}function Ai(t,e){return function(r){return null!=r&&r[t]===e&&(e!==n||t in Gn(r))}}function ki(t,e,r){return e=he(e===n?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=he(n.length-e,0),a=In(i);++o<i;)a[o]=n[e+o];o=-1;for(var l=In(e+1);++o<e;)l[o]=n[o];return l[e]=r(a),Ct(t,this,l)}}function Gi(n,t){return t.length<2?n:Ir(n,to(t,0,-1))}function _i(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]}var Li=Zi(qr),Si=vt||function(n,t){return ut.setTimeout(n,t)},Xi=Zi($r);function Wi(n,t,e){var r=t+"";return Xi(n,function(n,t){var e=t.length;if(!e)return n;var r=e-1;return t[r]=(e>1?"& ":"")+t[r],t=t.join(e>2?", ":" "),n.replace(en,"{\n/* [wrapped with "+t+"] */\n")}(r,function(n,t){return At(d,function(e){var r="_."+e[0];t&e[1]&&!Lt(n,r)&&n.push(r)}),n.sort()}(function(n){var t=n.match(rn);return t?t[1].split(on):[]}(r),e)))}function Zi(t){var e=0,r=0;return function(){var o=me(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Mi(t,e){var r=-1,o=t.length,i=o-1;for(e=e===n?o:e;++r<e;){var a=Er(r,i),l=t[a];t[a]=t[r],t[r]=l}return t.length=e,t}var Ni,ji,Bi,Yi=(Ni=function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(Q,function(n,e,r,o){t.push(r?o.replace(sn,"$1"):e||n)}),t},ji=ja(Ni,function(n){return 500===Bi.size&&Bi.clear(),n}),Bi=ji.cache,ji);function Ri(n){if("string"==typeof n||cl(n))return n;var t=n+"";return"0"==t&&1/n==-1/0?"-0":t}function Pi(n){if(null!=n){try{return Nn.call(n)}catch(t){}try{return n+""}catch(t){}}return""}function Oi(n){if(n instanceof ze)return n.clone();var t=new He(n.__wrapped__,n.__chain__);return t.__actions__=Lo(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}var Hi=Ur(function(n,t){return Ua(n)?cr(n,pr(t,1,Ua,!0)):[]}),zi=Ur(function(t,e){var r=Qi(e);return Ua(r)&&(r=n),Ua(t)?cr(t,pr(e,1,Ua,!0),li(r,2)):[]}),Ti=Ur(function(t,e){var r=Qi(e);return Ua(r)&&(r=n),Ua(t)?cr(t,pr(e,1,Ua,!0),n,r):[]});function Vi(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var o=null==e?0:pl(e);return o<0&&(o=he(r+o,0)),Yt(n,li(t,3),o)}function Fi(t,e,r){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return r!==n&&(i=pl(r),i=r<0?he(o+i,0):be(i,o-1)),Yt(t,li(e,3),i,!0)}function Ei(n){return null!=n&&n.length?pr(n,1):[]}function Di(t){return t&&t.length?t[0]:n}var Ui=Ur(function(n){var t=Xt(n,ho);return t.length&&t[0]===n[0]?_r(t):[]}),Ji=Ur(function(t){var e=Qi(t),r=Xt(t,ho);return e===Qi(r)?e=n:r.pop(),r.length&&r[0]===t[0]?_r(r,li(e,2)):[]}),Ki=Ur(function(t){var e=Qi(t),r=Xt(t,ho);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?_r(r,n,e):[]});function Qi(t){var e=null==t?0:t.length;return e?t[e-1]:n}var qi=Ur($i);function $i(n,t){return n&&n.length&&t&&t.length?Vr(n,t):n}var na=ti(function(n,t){var e=null==n?0:n.length,r=or(n,t);return Fr(n,Xt(t,function(n){return bi(n,e)?+n:n}).sort(ko)),r});function ta(n){return null==n?n:Ie.call(n)}var ea=Ur(function(n){return so(pr(n,1,Ua,!0))}),ra=Ur(function(t){var e=Qi(t);return Ua(e)&&(e=n),so(pr(t,1,Ua,!0),li(e,2))}),oa=Ur(function(t){var e=Qi(t);return e="function"==typeof e?e:n,so(pr(t,1,Ua,!0),n,e)});function ia(n){if(!n||!n.length)return[];var t=0;return n=_t(n,function(n){if(Ua(n))return t=he(n.length,t),!0}),Et(t,function(t){return Xt(n,zt(t))})}function aa(t,e){if(!t||!t.length)return[];var r=ia(t);return null==e?r:Xt(r,function(t){return Ct(e,n,t)})}var la=Ur(function(n,t){return Ua(n)?cr(n,t):[]}),sa=Ur(function(n){return vo(_t(n,Ua))}),ca=Ur(function(t){var e=Qi(t);return Ua(e)&&(e=n),vo(_t(t,Ua),li(e,2))}),ua=Ur(function(t){var e=Qi(t);return e="function"==typeof e?e:n,vo(_t(t,Ua),n,e)}),da=Ur(ia),fa=Ur(function(t){var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,aa(t,r)});function ga(n){var t=Re(n);return t.__chain__=!0,t}function va(n,t){return t(n)}var pa=ti(function(t){var e=t.length,r=e?t[0]:0,o=this.__wrapped__,i=function(n){return or(n,t)};return!(e>1||this.__actions__.length)&&o instanceof ze&&bi(r)?((o=o.slice(r,+r+(e?1:0))).__actions__.push({func:va,args:[i],thisArg:n}),new He(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(n),t})):this.thru(i)}),ha=Xo(function(n,t,e){jn.call(n,e)?++n[e]:rr(n,e,1)}),ba=Yo(Vi),ma=Yo(Fi);function wa(n,t){return(Fa(n)?At:ur)(n,li(t,3))}function ya(n,t){return(Fa(n)?kt:dr)(n,li(t,3))}var Ia=Xo(function(n,t,e){jn.call(n,e)?n[e].push(t):rr(n,e,[t])}),Ca=Ur(function(n,t,e){var r=-1,o="function"==typeof t,i=Da(n)?In(n.length):[];return ur(n,function(n){i[++r]=o?Ct(t,n,e):Lr(n,t,e)}),i}),xa=Xo(function(n,t,e){rr(n,e,t)});function Aa(n,t){return(Fa(n)?Xt:Yr)(n,li(t,3))}var ka=Xo(function(n,t,e){n[e?0:1].push(t)},function(){return[[],[]]}),Ga=Ur(function(n,t){if(null==n)return[];var e=t.length;return e>1&&mi(n,t[0],t[1])?t=[]:e>2&&mi(t[0],t[1],t[2])&&(t=[t[0]]),zr(n,pr(t,1),[])}),_a=ft||function(){return ut.Date.now()};function La(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Ko(t,i,n,n,n,n,e)}function Sa(e,r){var o;if("function"!=typeof r)throw new Sn(t);return e=pl(e),function(){return--e>0&&(o=r.apply(this,arguments)),e<=1&&(r=n),o}}var Xa=Ur(function(n,t,e){var r=1;if(e.length){var i=ie(e,ai(Xa));r|=o}return Ko(n,r,t,e,i)}),Wa=Ur(function(n,t,e){var r=3;if(e.length){var i=ie(e,ai(Wa));r|=o}return Ko(t,r,n,e,i)});function Za(e,r,o){var i,a,l,s,c,u,d=0,f=!1,g=!1,v=!0;if("function"!=typeof e)throw new Sn(t);function p(t){var r=i,o=a;return i=a=n,d=t,s=e.apply(o,r)}function h(t){var e=t-u;return u===n||e>=r||e<0||g&&t-d>=l}function b(){var n=_a();if(h(n))return m(n);c=Si(b,function(n){var t=r-(n-u);return g?be(t,l-(n-d)):t}(n))}function m(t){return c=n,v&&i?p(t):(i=a=n,s)}function w(){var t=_a(),e=h(t);if(i=arguments,a=this,u=t,e){if(c===n)return function(n){return d=n,c=Si(b,r),f?p(n):s}(u);if(g)return Io(c),c=Si(b,r),p(u)}return c===n&&(c=Si(b,r)),s}return r=bl(r)||0,tl(o)&&(f=!!o.leading,l=(g="maxWait"in o)?he(bl(o.maxWait)||0,r):l,v="trailing"in o?!!o.trailing:v),w.cancel=function(){c!==n&&Io(c),d=0,i=u=a=c=n},w.flush=function(){return c===n?s:m(_a())},w}var Ma=Ur(function(n,t){return sr(n,1,t)}),Na=Ur(function(n,t,e){return sr(n,bl(t)||0,e)});function ja(n,e){if("function"!=typeof n||null!=e&&"function"!=typeof e)throw new Sn(t);var r=function(){var t=arguments,o=e?e.apply(this,t):t[0],i=r.cache;if(i.has(o))return i.get(o);var a=n.apply(this,t);return r.cache=i.set(o,a)||i,a};return r.cache=new(ja.Cache||Fe),r}function Ba(n){if("function"!=typeof n)throw new Sn(t);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}ja.Cache=Fe;var Ya=wo(function(n,t){var e=(t=1==t.length&&Fa(t[0])?Xt(t[0],Ut(li())):Xt(pr(t,1),Ut(li()))).length;return Ur(function(r){for(var o=-1,i=be(r.length,e);++o<i;)r[o]=t[o].call(this,r[o]);return Ct(n,this,r)})}),Ra=Ur(function(t,e){var r=ie(e,ai(Ra));return Ko(t,o,n,e,r)}),Pa=Ur(function(t,e){var r=ie(e,ai(Pa));return Ko(t,64,n,e,r)}),Oa=ti(function(t,e){return Ko(t,a,n,n,n,e)});function Ha(n,t){return n===t||n!=n&&t!=t}var za=Fo(Ar),Ta=Fo(function(n,t){return n>=t}),Va=Sr(function(){return arguments}())?Sr:function(n){return el(n)&&jn.call(n,"callee")&&!Un.call(n,"callee")},Fa=In.isArray,Ea=ht?Ut(ht):function(n){return el(n)&&xr(n)==L};function Da(n){return null!=n&&nl(n.length)&&!qa(n)}function Ua(n){return el(n)&&Da(n)}var Ja=fe||bs,Ka=bt?Ut(bt):function(n){return el(n)&&xr(n)==p};function Qa(n){if(!el(n))return!1;var t=xr(n);return t==h||"[object DOMException]"==t||"string"==typeof n.message&&"string"==typeof n.name&&!il(n)}function qa(n){if(!tl(n))return!1;var t=xr(n);return t==b||t==m||"[object AsyncFunction]"==t||"[object Proxy]"==t}function $a(n){return"number"==typeof n&&n==pl(n)}function nl(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=s}function tl(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function el(n){return null!=n&&"object"==typeof n}var rl=mt?Ut(mt):function(n){return el(n)&&gi(n)==w};function ol(n){return"number"==typeof n||el(n)&&xr(n)==y}function il(n){if(!el(n)||xr(n)!=I)return!1;var t=En(n);if(null===t)return!0;var e=jn.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&Nn.call(e)==Pn}var al=wt?Ut(wt):function(n){return el(n)&&xr(n)==x},ll=yt?Ut(yt):function(n){return el(n)&&gi(n)==A};function sl(n){return"string"==typeof n||!Fa(n)&&el(n)&&xr(n)==k}function cl(n){return"symbol"==typeof n||el(n)&&xr(n)==G}var ul=It?Ut(It):function(n){return el(n)&&nl(n.length)&&!!rt[xr(n)]},dl=Fo(Br),fl=Fo(function(n,t){return n<=t});function gl(n){if(!n)return[];if(Da(n))return sl(n)?se(n):Lo(n);if(it&&n[it])return function(n){for(var t,e=[];!(t=n.next()).done;)e.push(t.value);return e}(n[it]());var t=gi(n);return(t==w?re:t==A?ae:Hl)(n)}function vl(n){return n?(n=bl(n))===l||n===-1/0?17976931348623157e292*(n<0?-1:1):n==n?n:0:0===n?n:0}function pl(n){var t=vl(n),e=t%1;return t==t?e?t-e:t:0}function hl(n){return n?ir(pl(n),0,u):0}function bl(n){if("number"==typeof n)return n;if(cl(n))return c;if(tl(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=tl(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=Dt(n);var e=fn.test(n);return e||vn.test(n)?lt(n.slice(2),e?2:8):dn.test(n)?c:+n}function ml(n){return So(n,Ml(n))}function wl(n){return null==n?"":lo(n)}var yl=Wo(function(n,t){if(Ci(t)||Da(t))So(t,Zl(t),n);else for(var e in t)jn.call(t,e)&&$e(n,e,t[e])}),Il=Wo(function(n,t){So(t,Ml(t),n)}),Cl=Wo(function(n,t,e,r){So(t,Ml(t),n,r)}),xl=Wo(function(n,t,e,r){So(t,Zl(t),n,r)}),Al=ti(or),kl=Ur(function(t,e){t=Gn(t);var r=-1,o=e.length,i=o>2?e[2]:n;for(i&&mi(e[0],e[1],i)&&(o=1);++r<o;)for(var a=e[r],l=Ml(a),s=-1,c=l.length;++s<c;){var u=l[s],d=t[u];(d===n||Ha(d,Zn[u])&&!jn.call(t,u))&&(t[u]=a[u])}return t}),Gl=Ur(function(t){return t.push(n,qo),Ct(jl,n,t)});function _l(t,e,r){var o=null==t?n:Ir(t,e);return o===n?r:o}function Ll(n,t){return null!=n&&vi(n,t,Gr)}var Sl=Oo(function(n,t,e){null!=t&&"function"!=typeof t.toString&&(t=Rn.call(t)),n[t]=e},ts(os)),Xl=Oo(function(n,t,e){null!=t&&"function"!=typeof t.toString&&(t=Rn.call(t)),jn.call(n,t)?n[t].push(e):n[t]=[e]},li),Wl=Ur(Lr);function Zl(n){return Da(n)?Ue(n):Nr(n)}function Ml(n){return Da(n)?Ue(n,!0):jr(n)}var Nl=Wo(function(n,t,e){Or(n,t,e)}),jl=Wo(function(n,t,e,r){Or(n,t,e,r)}),Bl=ti(function(n,t){var e={};if(null==n)return e;var r=!1;t=Xt(t,function(t){return t=mo(t,n),r||(r=t.length>1),t}),So(n,ri(n),e),r&&(e=ar(e,7,$o));for(var o=t.length;o--;)co(e,t[o]);return e}),Yl=ti(function(n,t){return null==n?{}:function(n,t){return Tr(n,t,function(t,e){return Ll(n,e)})}(n,t)});function Rl(n,t){if(null==n)return{};var e=Xt(ri(n),function(n){return[n]});return t=li(t),Tr(n,e,function(n,e){return t(n,e[0])})}var Pl=Jo(Zl),Ol=Jo(Ml);function Hl(n){return null==n?[]:Jt(n,Zl(n))}var zl=jo(function(n,t,e){return t=t.toLowerCase(),n+(e?Tl(t):t)});function Tl(n){return Ql(wl(n).toLowerCase())}function Vl(n){return(n=wl(n))&&n.replace(hn,$t).replace(Kn,"")}var Fl=jo(function(n,t,e){return n+(e?"-":"")+t.toLowerCase()}),El=jo(function(n,t,e){return n+(e?" ":"")+t.toLowerCase()}),Dl=No("toLowerCase"),Ul=jo(function(n,t,e){return n+(e?"_":"")+t.toLowerCase()}),Jl=jo(function(n,t,e){return n+(e?" ":"")+Ql(t)}),Kl=jo(function(n,t,e){return n+(e?" ":"")+t.toUpperCase()}),Ql=No("toUpperCase");function ql(t,e,r){return t=wl(t),(e=r?n:e)===n?function(n){return nt.test(n)}(t)?function(n){return n.match(qn)||[]}(t):function(n){return n.match(an)||[]}(t):t.match(e)||[]}var $l=Ur(function(t,e){try{return Ct(t,n,e)}catch(r){return Qa(r)?r:new xn(r)}}),ns=ti(function(n,t){return At(t,function(t){t=Ri(t),rr(n,t,Xa(n[t],n))}),n});function ts(n){return function(){return n}}var es=Ro(),rs=Ro(!0);function os(n){return n}function is(n){return Mr("function"==typeof n?n:ar(n,1))}var as=Ur(function(n,t){return function(e){return Lr(e,n,t)}}),ls=Ur(function(n,t){return function(e){return Lr(n,e,t)}});function ss(n,t,e){var r=Zl(t),o=yr(t,r);null!=e||tl(t)&&(o.length||!r.length)||(e=t,t=n,n=this,o=yr(t,Zl(t)));var i=!(tl(e)&&"chain"in e&&!e.chain),a=qa(n);return At(o,function(e){var r=t[e];n[e]=r,a&&(n.prototype[e]=function(){var t=this.__chain__;if(i||t){var e=n(this.__wrapped__);return(e.__actions__=Lo(this.__actions__)).push({func:r,args:arguments,thisArg:n}),e.__chain__=t,e}return r.apply(n,Wt([this.value()],arguments))})}),n}function cs(){}var us=zo(Xt),ds=zo(Gt),fs=zo(Nt);function gs(n){return wi(n)?zt(Ri(n)):function(n){return function(t){return Ir(t,n)}}(n)}var vs=Vo(),ps=Vo(!0);function hs(){return[]}function bs(){return!1}var ms,ws=Ho(function(n,t){return n+t},0),ys=Do("ceil"),Is=Ho(function(n,t){return n/t},1),Cs=Do("floor"),xs=Ho(function(n,t){return n*t},1),As=Do("round"),ks=Ho(function(n,t){return n-t},0);return Re.after=function(n,e){if("function"!=typeof e)throw new Sn(t);return n=pl(n),function(){if(--n<1)return e.apply(this,arguments)}},Re.ary=La,Re.assign=yl,Re.assignIn=Il,Re.assignInWith=Cl,Re.assignWith=xl,Re.at=Al,Re.before=Sa,Re.bind=Xa,Re.bindAll=ns,Re.bindKey=Wa,Re.castArray=function(){if(!arguments.length)return[];var n=arguments[0];return Fa(n)?n:[n]},Re.chain=ga,Re.chunk=function(t,e,r){e=(r?mi(t,e,r):e===n)?1:he(pl(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,a=0,l=In(pt(o/e));i<o;)l[a++]=to(t,i,i+=e);return l},Re.compact=function(n){for(var t=-1,e=null==n?0:n.length,r=0,o=[];++t<e;){var i=n[t];i&&(o[r++]=i)}return o},Re.concat=function(){var n=arguments.length;if(!n)return[];for(var t=In(n-1),e=arguments[0],r=n;r--;)t[r-1]=arguments[r];return Wt(Fa(e)?Lo(e):[e],pr(t,1))},Re.cond=function(n){var e=null==n?0:n.length,r=li();return n=e?Xt(n,function(n){if("function"!=typeof n[1])throw new Sn(t);return[r(n[0]),n[1]]}):[],Ur(function(t){for(var r=-1;++r<e;){var o=n[r];if(Ct(o[0],this,t))return Ct(o[1],this,t)}})},Re.conforms=function(n){return function(n){var t=Zl(n);return function(e){return lr(e,n,t)}}(ar(n,1))},Re.constant=ts,Re.countBy=ha,Re.create=function(n,t){var e=Pe(n);return null==t?e:er(e,t)},Re.curry=function t(e,r,o){var i=Ko(e,8,n,n,n,n,n,r=o?n:r);return i.placeholder=t.placeholder,i},Re.curryRight=function t(e,r,o){var i=Ko(e,16,n,n,n,n,n,r=o?n:r);return i.placeholder=t.placeholder,i},Re.debounce=Za,Re.defaults=kl,Re.defaultsDeep=Gl,Re.defer=Ma,Re.delay=Na,Re.difference=Hi,Re.differenceBy=zi,Re.differenceWith=Ti,Re.drop=function(t,e,r){var o=null==t?0:t.length;return o?to(t,(e=r||e===n?1:pl(e))<0?0:e,o):[]},Re.dropRight=function(t,e,r){var o=null==t?0:t.length;return o?to(t,0,(e=o-(e=r||e===n?1:pl(e)))<0?0:e):[]},Re.dropRightWhile=function(n,t){return n&&n.length?fo(n,li(t,3),!0,!0):[]},Re.dropWhile=function(n,t){return n&&n.length?fo(n,li(t,3),!0):[]},Re.fill=function(t,e,r,o){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&mi(t,e,r)&&(r=0,o=i),function(t,e,r,o){var i=t.length;for((r=pl(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:pl(o))<0&&(o+=i),o=r>o?0:hl(o);r<o;)t[r++]=e;return t}(t,e,r,o)):[]},Re.filter=function(n,t){return(Fa(n)?_t:vr)(n,li(t,3))},Re.flatMap=function(n,t){return pr(Aa(n,t),1)},Re.flatMapDeep=function(n,t){return pr(Aa(n,t),l)},Re.flatMapDepth=function(t,e,r){return r=r===n?1:pl(r),pr(Aa(t,e),r)},Re.flatten=Ei,Re.flattenDeep=function(n){return null!=n&&n.length?pr(n,l):[]},Re.flattenDepth=function(t,e){return null!=t&&t.length?pr(t,e=e===n?1:pl(e)):[]},Re.flip=function(n){return Ko(n,512)},Re.flow=es,Re.flowRight=rs,Re.fromPairs=function(n){for(var t=-1,e=null==n?0:n.length,r={};++t<e;){var o=n[t];r[o[0]]=o[1]}return r},Re.functions=function(n){return null==n?[]:yr(n,Zl(n))},Re.functionsIn=function(n){return null==n?[]:yr(n,Ml(n))},Re.groupBy=Ia,Re.initial=function(n){return null!=n&&n.length?to(n,0,-1):[]},Re.intersection=Ui,Re.intersectionBy=Ji,Re.intersectionWith=Ki,Re.invert=Sl,Re.invertBy=Xl,Re.invokeMap=Ca,Re.iteratee=is,Re.keyBy=xa,Re.keys=Zl,Re.keysIn=Ml,Re.map=Aa,Re.mapKeys=function(n,t){var e={};return t=li(t,3),mr(n,function(n,r,o){rr(e,t(n,r,o),n)}),e},Re.mapValues=function(n,t){var e={};return t=li(t,3),mr(n,function(n,r,o){rr(e,r,t(n,r,o))}),e},Re.matches=function(n){return Rr(ar(n,1))},Re.matchesProperty=function(n,t){return Pr(n,ar(t,1))},Re.memoize=ja,Re.merge=Nl,Re.mergeWith=jl,Re.method=as,Re.methodOf=ls,Re.mixin=ss,Re.negate=Ba,Re.nthArg=function(n){return n=pl(n),Ur(function(t){return Hr(t,n)})},Re.omit=Bl,Re.omitBy=function(n,t){return Rl(n,Ba(li(t)))},Re.once=function(n){return Sa(2,n)},Re.orderBy=function(t,e,r,o){return null==t?[]:(Fa(e)||(e=null==e?[]:[e]),Fa(r=o?n:r)||(r=null==r?[]:[r]),zr(t,e,r))},Re.over=us,Re.overArgs=Ya,Re.overEvery=ds,Re.overSome=fs,Re.partial=Ra,Re.partialRight=Pa,Re.partition=ka,Re.pick=Yl,Re.pickBy=Rl,Re.property=gs,Re.propertyOf=function(t){return function(e){return null==t?n:Ir(t,e)}},Re.pull=qi,Re.pullAll=$i,Re.pullAllBy=function(n,t,e){return n&&n.length&&t&&t.length?Vr(n,t,li(e,2)):n},Re.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Vr(t,e,n,r):t},Re.pullAt=na,Re.range=vs,Re.rangeRight=ps,Re.rearg=Oa,Re.reject=function(n,t){return(Fa(n)?_t:vr)(n,Ba(li(t,3)))},Re.remove=function(n,t){var e=[];if(!n||!n.length)return e;var r=-1,o=[],i=n.length;for(t=li(t,3);++r<i;){var a=n[r];t(a,r,n)&&(e.push(a),o.push(r))}return Fr(n,o),e},Re.rest=function(e,r){if("function"!=typeof e)throw new Sn(t);return Ur(e,r=r===n?r:pl(r))},Re.reverse=ta,Re.sampleSize=function(t,e,r){return e=(r?mi(t,e,r):e===n)?1:pl(e),(Fa(t)?Ke:Kr)(t,e)},Re.set=function(n,t,e){return null==n?n:Qr(n,t,e)},Re.setWith=function(t,e,r,o){return o="function"==typeof o?o:n,null==t?t:Qr(t,e,r,o)},Re.shuffle=function(n){return(Fa(n)?Qe:no)(n)},Re.slice=function(t,e,r){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&mi(t,e,r)?(e=0,r=o):(e=null==e?0:pl(e),r=r===n?o:pl(r)),to(t,e,r)):[]},Re.sortBy=Ga,Re.sortedUniq=function(n){return n&&n.length?io(n):[]},Re.sortedUniqBy=function(n,t){return n&&n.length?io(n,li(t,2)):[]},Re.split=function(t,e,r){return r&&"number"!=typeof r&&mi(t,e,r)&&(e=r=n),(r=r===n?u:r>>>0)?(t=wl(t))&&("string"==typeof e||null!=e&&!al(e))&&!(e=lo(e))&&ee(t)?yo(se(t),0,r):t.split(e,r):[]},Re.spread=function(n,e){if("function"!=typeof n)throw new Sn(t);return e=null==e?0:he(pl(e),0),Ur(function(t){var r=t[e],o=yo(t,0,e);return r&&Wt(o,r),Ct(n,this,o)})},Re.tail=function(n){var t=null==n?0:n.length;return t?to(n,1,t):[]},Re.take=function(t,e,r){return t&&t.length?to(t,0,(e=r||e===n?1:pl(e))<0?0:e):[]},Re.takeRight=function(t,e,r){var o=null==t?0:t.length;return o?to(t,(e=o-(e=r||e===n?1:pl(e)))<0?0:e,o):[]},Re.takeRightWhile=function(n,t){return n&&n.length?fo(n,li(t,3),!1,!0):[]},Re.takeWhile=function(n,t){return n&&n.length?fo(n,li(t,3)):[]},Re.tap=function(n,t){return t(n),n},Re.throttle=function(n,e,r){var o=!0,i=!0;if("function"!=typeof n)throw new Sn(t);return tl(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),Za(n,e,{leading:o,maxWait:e,trailing:i})},Re.thru=va,Re.toArray=gl,Re.toPairs=Pl,Re.toPairsIn=Ol,Re.toPath=function(n){return Fa(n)?Xt(n,Ri):cl(n)?[n]:Lo(Yi(wl(n)))},Re.toPlainObject=ml,Re.transform=function(n,t,e){var r=Fa(n),o=r||Ja(n)||ul(n);if(t=li(t,4),null==e){var i=n&&n.constructor;e=o?r?new i:[]:tl(n)&&qa(i)?Pe(En(n)):{}}return(o?At:mr)(n,function(n,r,o){return t(e,n,r,o)}),e},Re.unary=function(n){return La(n,1)},Re.union=ea,Re.unionBy=ra,Re.unionWith=oa,Re.uniq=function(n){return n&&n.length?so(n):[]},Re.uniqBy=function(n,t){return n&&n.length?so(n,li(t,2)):[]},Re.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?so(t,n,e):[]},Re.unset=function(n,t){return null==n||co(n,t)},Re.unzip=ia,Re.unzipWith=aa,Re.update=function(n,t,e){return null==n?n:uo(n,t,bo(e))},Re.updateWith=function(t,e,r,o){return o="function"==typeof o?o:n,null==t?t:uo(t,e,bo(r),o)},Re.values=Hl,Re.valuesIn=function(n){return null==n?[]:Jt(n,Ml(n))},Re.without=la,Re.words=ql,Re.wrap=function(n,t){return Ra(bo(t),n)},Re.xor=sa,Re.xorBy=ca,Re.xorWith=ua,Re.zip=da,Re.zipObject=function(n,t){return po(n||[],t||[],$e)},Re.zipObjectDeep=function(n,t){return po(n||[],t||[],Qr)},Re.zipWith=fa,Re.entries=Pl,Re.entriesIn=Ol,Re.extend=Il,Re.extendWith=Cl,ss(Re,Re),Re.add=ws,Re.attempt=$l,Re.camelCase=zl,Re.capitalize=Tl,Re.ceil=ys,Re.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=bl(r))==r?r:0),e!==n&&(e=(e=bl(e))==e?e:0),ir(bl(t),e,r)},Re.clone=function(n){return ar(n,4)},Re.cloneDeep=function(n){return ar(n,5)},Re.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:n)},Re.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:n)},Re.conformsTo=function(n,t){return null==t||lr(n,t,Zl(t))},Re.deburr=Vl,Re.defaultTo=function(n,t){return null==n||n!=n?t:n},Re.divide=Is,Re.endsWith=function(t,e,r){t=wl(t),e=lo(e);var o=t.length,i=r=r===n?o:ir(pl(r),0,o);return(r-=e.length)>=0&&t.slice(r,i)==e},Re.eq=Ha,Re.escape=function(n){return(n=wl(n))&&F.test(n)?n.replace(T,ne):n},Re.escapeRegExp=function(n){return(n=wl(n))&&$.test(n)?n.replace(q,"\\$&"):n},Re.every=function(t,e,r){var o=Fa(t)?Gt:fr;return r&&mi(t,e,r)&&(e=n),o(t,li(e,3))},Re.find=ba,Re.findIndex=Vi,Re.findKey=function(n,t){return Bt(n,li(t,3),mr)},Re.findLast=ma,Re.findLastIndex=Fi,Re.findLastKey=function(n,t){return Bt(n,li(t,3),wr)},Re.floor=Cs,Re.forEach=wa,Re.forEachRight=ya,Re.forIn=function(n,t){return null==n?n:hr(n,li(t,3),Ml)},Re.forInRight=function(n,t){return null==n?n:br(n,li(t,3),Ml)},Re.forOwn=function(n,t){return n&&mr(n,li(t,3))},Re.forOwnRight=function(n,t){return n&&wr(n,li(t,3))},Re.get=_l,Re.gt=za,Re.gte=Ta,Re.has=function(n,t){return null!=n&&vi(n,t,kr)},Re.hasIn=Ll,Re.head=Di,Re.identity=os,Re.includes=function(n,t,e,r){n=Da(n)?n:Hl(n),e=e&&!r?pl(e):0;var o=n.length;return e<0&&(e=he(o+e,0)),sl(n)?e<=o&&n.indexOf(t,e)>-1:!!o&&Rt(n,t,e)>-1},Re.indexOf=function(n,t,e){var r=null==n?0:n.length;if(!r)return-1;var o=null==e?0:pl(e);return o<0&&(o=he(r+o,0)),Rt(n,t,o)},Re.inRange=function(t,e,r){return e=vl(e),r===n?(r=e,e=0):r=vl(r),function(n,t,e){return n>=be(t,e)&&n<he(t,e)}(t=bl(t),e,r)},Re.invoke=Wl,Re.isArguments=Va,Re.isArray=Fa,Re.isArrayBuffer=Ea,Re.isArrayLike=Da,Re.isArrayLikeObject=Ua,Re.isBoolean=function(n){return!0===n||!1===n||el(n)&&xr(n)==v},Re.isBuffer=Ja,Re.isDate=Ka,Re.isElement=function(n){return el(n)&&1===n.nodeType&&!il(n)},Re.isEmpty=function(n){if(null==n)return!0;if(Da(n)&&(Fa(n)||"string"==typeof n||"function"==typeof n.splice||Ja(n)||ul(n)||Va(n)))return!n.length;var t=gi(n);if(t==w||t==A)return!n.size;if(Ci(n))return!Nr(n).length;for(var e in n)if(jn.call(n,e))return!1;return!0},Re.isEqual=function(n,t){return Xr(n,t)},Re.isEqualWith=function(t,e,r){var o=(r="function"==typeof r?r:n)?r(t,e):n;return o===n?Xr(t,e,n,r):!!o},Re.isError=Qa,Re.isFinite=function(n){return"number"==typeof n&&ge(n)},Re.isFunction=qa,Re.isInteger=$a,Re.isLength=nl,Re.isMap=rl,Re.isMatch=function(n,t){return n===t||Wr(n,t,ci(t))},Re.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,Wr(t,e,ci(e),r)},Re.isNaN=function(n){return ol(n)&&n!=+n},Re.isNative=function(n){if(Ii(n))throw new xn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Zr(n)},Re.isNil=function(n){return null==n},Re.isNull=function(n){return null===n},Re.isNumber=ol,Re.isObject=tl,Re.isObjectLike=el,Re.isPlainObject=il,Re.isRegExp=al,Re.isSafeInteger=function(n){return $a(n)&&n>=-9007199254740991&&n<=s},Re.isSet=ll,Re.isString=sl,Re.isSymbol=cl,Re.isTypedArray=ul,Re.isUndefined=function(t){return t===n},Re.isWeakMap=function(n){return el(n)&&gi(n)==_},Re.isWeakSet=function(n){return el(n)&&"[object WeakSet]"==xr(n)},Re.join=function(n,t){return null==n?"":ve.call(n,t)},Re.kebabCase=Fl,Re.last=Qi,Re.lastIndexOf=function(t,e,r){var o=null==t?0:t.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=pl(r))<0?he(o+i,0):be(i,o-1)),e==e?function(n,t,e){for(var r=e+1;r--;)if(n[r]===t)return r;return r}(t,e,i):Yt(t,Ot,i,!0)},Re.lowerCase=El,Re.lowerFirst=Dl,Re.lt=dl,Re.lte=fl,Re.max=function(t){return t&&t.length?gr(t,os,Ar):n},Re.maxBy=function(t,e){return t&&t.length?gr(t,li(e,2),Ar):n},Re.mean=function(n){return Ht(n,os)},Re.meanBy=function(n,t){return Ht(n,li(t,2))},Re.min=function(t){return t&&t.length?gr(t,os,Br):n},Re.minBy=function(t,e){return t&&t.length?gr(t,li(e,2),Br):n},Re.stubArray=hs,Re.stubFalse=bs,Re.stubObject=function(){return{}},Re.stubString=function(){return""},Re.stubTrue=function(){return!0},Re.multiply=xs,Re.nth=function(t,e){return t&&t.length?Hr(t,pl(e)):n},Re.noConflict=function(){return ut._===this&&(ut._=On),this},Re.noop=cs,Re.now=_a,Re.pad=function(n,t,e){n=wl(n);var r=(t=pl(t))?le(n):0;if(!t||r>=t)return n;var o=(t-r)/2;return To(jt(o),e)+n+To(pt(o),e)},Re.padEnd=function(n,t,e){n=wl(n);var r=(t=pl(t))?le(n):0;return t&&r<t?n+To(t-r,e):n},Re.padStart=function(n,t,e){n=wl(n);var r=(t=pl(t))?le(n):0;return t&&r<t?To(t-r,e)+n:n},Re.parseInt=function(n,t,e){return e||null==t?t=0:t&&(t=+t),we(wl(n).replace(nn,""),t||0)},Re.random=function(t,e,r){if(r&&"boolean"!=typeof r&&mi(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=vl(t),e===n?(e=t,t=0):e=vl(e)),t>e){var o=t;t=e,e=o}if(r||t%1||e%1){var i=ye();return be(t+i*(e-t+at("1e-"+((i+"").length-1))),e)}return Er(t,e)},Re.reduce=function(n,t,e){var r=Fa(n)?Zt:Vt,o=arguments.length<3;return r(n,li(t,4),e,o,ur)},Re.reduceRight=function(n,t,e){var r=Fa(n)?Mt:Vt,o=arguments.length<3;return r(n,li(t,4),e,o,dr)},Re.repeat=function(t,e,r){return e=(r?mi(t,e,r):e===n)?1:pl(e),Dr(wl(t),e)},Re.replace=function(){var n=arguments,t=wl(n[0]);return n.length<3?t:t.replace(n[1],n[2])},Re.result=function(t,e,r){var o=-1,i=(e=mo(e,t)).length;for(i||(i=1,t=n);++o<i;){var a=null==t?n:t[Ri(e[o])];a===n&&(o=i,a=r),t=qa(a)?a.call(t):a}return t},Re.round=As,Re.runInContext=tn,Re.sample=function(n){return(Fa(n)?Je:Jr)(n)},Re.size=function(n){if(null==n)return 0;if(Da(n))return sl(n)?le(n):n.length;var t=gi(n);return t==w||t==A?n.size:Nr(n).length},Re.snakeCase=Ul,Re.some=function(t,e,r){var o=Fa(t)?Nt:eo;return r&&mi(t,e,r)&&(e=n),o(t,li(e,3))},Re.sortedIndex=function(n,t){return ro(n,t)},Re.sortedIndexBy=function(n,t,e){return oo(n,t,li(e,2))},Re.sortedIndexOf=function(n,t){var e=null==n?0:n.length;if(e){var r=ro(n,t);if(r<e&&Ha(n[r],t))return r}return-1},Re.sortedLastIndex=function(n,t){return ro(n,t,!0)},Re.sortedLastIndexBy=function(n,t,e){return oo(n,t,li(e,2),!0)},Re.sortedLastIndexOf=function(n,t){if(null!=n&&n.length){var e=ro(n,t,!0)-1;if(Ha(n[e],t))return e}return-1},Re.startCase=Jl,Re.startsWith=function(n,t,e){return n=wl(n),e=null==e?0:ir(pl(e),0,n.length),t=lo(t),n.slice(e,e+t.length)==t},Re.subtract=ks,Re.sum=function(n){return n&&n.length?Ft(n,os):0},Re.sumBy=function(n,t){return n&&n.length?Ft(n,li(t,2)):0},Re.template=function(t,e,r){var o=Re.templateSettings;r&&mi(t,e,r)&&(e=n),t=wl(t),e=Cl({},e,o,Qo);var i,a,l=Cl({},e.imports,o.imports,Qo),s=Zl(l),c=Jt(l,s),u=0,d=e.interpolate||bn,f="__p += '",g=_n((e.escape||bn).source+"|"+d.source+"|"+(d===U?cn:bn).source+"|"+(e.evaluate||bn).source+"|$","g"),v="//# sourceURL="+(jn.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++et+"]")+"\n";t.replace(g,function(n,e,r,o,l,s){return r||(r=o),f+=t.slice(u,s).replace(mn,te),e&&(i=!0,f+="' +\n__e("+e+") +\n'"),l&&(a=!0,f+="';\n"+l+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=s+n.length,n}),f+="';\n";var p=jn.call(e,"variable")&&e.variable;if(p){if(ln.test(p))throw new xn("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(a?f.replace(P,""):f).replace(O,"$1").replace(H,"$1;"),f="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var h=$l(function(){return An(s,v+"return "+f).apply(n,c)});if(h.source=f,Qa(h))throw h;return h},Re.times=function(n,t){if((n=pl(n))<1||n>s)return[];var e=u,r=be(n,u);t=li(t),n-=u;for(var o=Et(r,t);++e<n;)t(e);return o},Re.toFinite=vl,Re.toInteger=pl,Re.toLength=hl,Re.toLower=function(n){return wl(n).toLowerCase()},Re.toNumber=bl,Re.toSafeInteger=function(n){return n?ir(pl(n),-9007199254740991,s):0===n?n:0},Re.toString=wl,Re.toUpper=function(n){return wl(n).toUpperCase()},Re.trim=function(t,e,r){if((t=wl(t))&&(r||e===n))return Dt(t);if(!t||!(e=lo(e)))return t;var o=se(t),i=se(e);return yo(o,Qt(o,i),qt(o,i)+1).join("")},Re.trimEnd=function(t,e,r){if((t=wl(t))&&(r||e===n))return t.slice(0,ce(t)+1);if(!t||!(e=lo(e)))return t;var o=se(t);return yo(o,0,qt(o,se(e))+1).join("")},Re.trimStart=function(t,e,r){if((t=wl(t))&&(r||e===n))return t.replace(nn,"");if(!t||!(e=lo(e)))return t;var o=se(t);return yo(o,Qt(o,se(e))).join("")},Re.truncate=function(t,e){var r=30,o="...";if(tl(e)){var i="separator"in e?e.separator:i;r="length"in e?pl(e.length):r,o="omission"in e?lo(e.omission):o}var a=(t=wl(t)).length;if(ee(t)){var l=se(t);a=l.length}if(r>=a)return t;var s=r-le(o);if(s<1)return o;var c=l?yo(l,0,s).join(""):t.slice(0,s);if(i===n)return c+o;if(l&&(s+=c.length-s),al(i)){if(t.slice(s).search(i)){var u,d=c;for(i.global||(i=_n(i.source,wl(un.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var f=u.index;c=c.slice(0,f===n?s:f)}}else if(t.indexOf(lo(i),s)!=s){var g=c.lastIndexOf(i);g>-1&&(c=c.slice(0,g))}return c+o},Re.unescape=function(n){return(n=wl(n))&&V.test(n)?n.replace(z,ue):n},Re.uniqueId=function(n){var t=++Bn;return wl(n)+t},Re.upperCase=Kl,Re.upperFirst=Ql,Re.each=wa,Re.eachRight=ya,Re.first=Di,ss(Re,(ms={},mr(Re,function(n,t){jn.call(Re.prototype,t)||(ms[t]=n)}),ms),{chain:!1}),Re.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Re[n].placeholder=Re}),At(["drop","take"],function(t,e){ze.prototype[t]=function(r){r=r===n?1:he(pl(r),0);var o=this.__filtered__&&!e?new ze(this):this.clone();return o.__filtered__?o.__takeCount__=be(r,o.__takeCount__):o.__views__.push({size:be(r,u),type:t+(o.__dir__<0?"Right":"")}),o},ze.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),At(["filter","map","takeWhile"],function(n,t){var e=t+1,r=1==e||3==e;ze.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:li(n,3),type:e}),t.__filtered__=t.__filtered__||r,t}}),At(["head","last"],function(n,t){var e="take"+(t?"Right":"");ze.prototype[n]=function(){return this[e](1).value()[0]}}),At(["initial","tail"],function(n,t){var e="drop"+(t?"":"Right");ze.prototype[n]=function(){return this.__filtered__?new ze(this):this[e](1)}}),ze.prototype.compact=function(){return this.filter(os)},ze.prototype.find=function(n){return this.filter(n).head()},ze.prototype.findLast=function(n){return this.reverse().find(n)},ze.prototype.invokeMap=Ur(function(n,t){return"function"==typeof n?new ze(this):this.map(function(e){return Lr(e,n,t)})}),ze.prototype.reject=function(n){return this.filter(Ba(li(n)))},ze.prototype.slice=function(t,e){t=pl(t);var r=this;return r.__filtered__&&(t>0||e<0)?new ze(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=pl(e))<0?r.dropRight(-e):r.take(e-t)),r)},ze.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ze.prototype.toArray=function(){return this.take(u)},mr(ze.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),i=Re[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);i&&(Re.prototype[e]=function(){var e=this.__wrapped__,l=o?[1]:arguments,s=e instanceof ze,c=l[0],u=s||Fa(e),d=function(n){var t=i.apply(Re,Wt([n],l));return o&&f?t[0]:t};u&&r&&"function"==typeof c&&1!=c.length&&(s=u=!1);var f=this.__chain__,g=!!this.__actions__.length,v=a&&!f,p=s&&!g;if(!a&&u){e=p?e:new ze(this);var h=t.apply(e,l);return h.__actions__.push({func:va,args:[d],thisArg:n}),new He(h,f)}return v&&p?t.apply(this,l):(h=this.thru(d),v?o?h.value()[0]:h.value():h)})}),At(["pop","push","shift","sort","splice","unshift"],function(n){var t=Xn[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);Re.prototype[n]=function(){var n=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Fa(o)?o:[],n)}return this[e](function(e){return t.apply(Fa(e)?e:[],n)})}}),mr(ze.prototype,function(n,t){var e=Re[t];if(e){var r=e.name+"";jn.call(Se,r)||(Se[r]=[]),Se[r].push({name:t,func:e})}}),Se[Po(n,2).name]=[{name:"wrapper",func:n}],ze.prototype.clone=function(){var n=new ze(this.__wrapped__);return n.__actions__=Lo(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Lo(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Lo(this.__views__),n},ze.prototype.reverse=function(){if(this.__filtered__){var n=new ze(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},ze.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,e=Fa(n),r=t<0,o=e?n.length:0,i=function(n,t,e){for(var r=-1,o=e.length;++r<o;){var i=e[r],a=i.size;switch(i.type){case"drop":n+=a;break;case"dropRight":t-=a;break;case"take":t=be(t,n+a);break;case"takeRight":n=he(n,t-a)}}return{start:n,end:t}}(0,o,this.__views__),a=i.start,l=i.end,s=l-a,c=r?l:a-1,u=this.__iteratees__,d=u.length,f=0,g=be(s,this.__takeCount__);if(!e||!r&&o==s&&g==s)return go(n,this.__actions__);var v=[];n:for(;s--&&f<g;){for(var p=-1,h=n[c+=t];++p<d;){var b=u[p],m=b.iteratee,w=b.type,y=m(h);if(2==w)h=y;else if(!y){if(1==w)continue n;break n}}v[f++]=h}return v},Re.prototype.at=pa,Re.prototype.chain=function(){return ga(this)},Re.prototype.commit=function(){return new He(this.value(),this.__chain__)},Re.prototype.next=function(){this.__values__===n&&(this.__values__=gl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},Re.prototype.plant=function(t){for(var e,r=this;r instanceof Oe;){var o=Oi(r);o.__index__=0,o.__values__=n,e?i.__wrapped__=o:e=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,e},Re.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof ze){var e=t;return this.__actions__.length&&(e=new ze(this)),(e=e.reverse()).__actions__.push({func:va,args:[ta],thisArg:n}),new He(e,this.__chain__)}return this.thru(ta)},Re.prototype.toJSON=Re.prototype.valueOf=Re.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},Re.prototype.first=Re.prototype.head,it&&(Re.prototype[it]=function(){return this}),Re}();ft?((ft.exports=de)._=de,dt._=de):ut._=de}.call(Qi.exports)),Qi.exports);const ta={chatScreen:{root:{cssClass:["div.default-chat-screen"],className:"default-chat-screen"},displayContainer:{cssClass:["div.default-chat-screen > div.flex.flex-col-reverse"],className:`${xi}-display-container`},inputContainer:{cssClass:["div.default-chat-screen > div.mt-2.mb-2.flex.items-stretch.w-full","div.default-chat-screen > div.sticky.pt-2.pb-2.right-0.bottom-0.bg-bgcolor.flex.items-stretch.w-full"],className:`${xi}-input-container`},textarea:{cssClass:["div.default-chat-screen > div.mt-2.mb-2.flex.items-stretch.w-full > textarea","div.default-chat-screen textarea.text-input-area"],className:`${xi}-input-textarea`},sendButton:{cssClass:["div.default-chat-screen > button.button-icon-send",".button-icon-send"],className:`${xi}-send-button`},burgerButton:{cssClass:["div.default-chat-screen > button.peer-focus:border-textcolor.mr-2.flex.border-y.border-r.border-darkborderc.justify-center.items-center.text-gray-100.p-3.rounded-r-md.hover:bg-blue-500.transition-colors",`${xi}-burger-button`]},burgerMenu:{cssClass:["div.default-chat-screen > div.right-2.bottom-16.p-5.bg-darkbg.flex.flex-col.gap-3.text-textcolor.rounded-md"],className:"burger-menu"}},chatMessage:{root:{cssClass:["div.risu-chat"],className:`${xi}-chat-message-root`},thumbnail:{cssClass:["div.shadow-lg.bg-textcolor2.rounded-md"],className:`${xi}-chat-message-thumbnail`},botName:{cssClass:["span.chat-width.text-xl.unmargin.text-textcolor"],className:`${xi}-chat-message-bot-name`},botButtonDiv:{cssClass:["div.flex-grow.flex.items-center.justify-end.text-textcolor2"],className:`${xi}-chat-message-bot-buttons`},copyButton:{cssClass:["button-icon-copy"],className:"button-icon-copy"},ttsButton:{cssClass:["button-icon-tts"],className:"button-icon-tts"},removeButton:{cssClass:["button-icon-remove"],className:"button-icon-remove"},translateButton:{cssClass:["button-icon-translate"],className:"button-icon-translate"},unrerollButton:{cssClass:["button-icon-unreroll"],className:"button-icon-unreroll"},rerollButton:{cssClass:["button-icon-reroll"],className:"button-icon-reroll"},lightboardButtons:{cssClass:["x-risu-lb-module-root","x-risu-lb-nai-btn"],className:"x-risu-lb-module-root"},lightboardNewsButton:{dataId:"lightboard-news",cssClass:["div.x-risu-lb-module-root"],className:`${xi}-lightboard-news`},lightboardCommentButton:{dataId:"lightboard-comment",cssClass:["div.x-risu-lb-module-root"],className:`${xi}-lightboard-comment`},lightboardMiniboardButton:{dataId:"lightboard-miniboard",cssClass:["div.x-risu-lb-module-root"],className:`${xi}-lightboard-miniboard`},lightboardSNSButton:{dataId:"SNS-Forme",cssClass:["div.x-risu-lb-module-root"],className:`${xi}-lightboard-sns`},lightboardNAIButton:{cssClass:["x-risu-lb-nai-btn"],className:"x-risu-lb-nai-btn"}},setting:{root:{cssClass:["rs-setting-cont"],className:"rs-setting-cont"}}};function ea(n,t){const e=t??document;if(!n)return null;if(n.dataId){const t=e.querySelector(`[data-id="${n.dataId}"]`);if(t)return t.classList.contains(n.className)||(t.className=`${n.className} ${t.className}`.trim()),t}for(const r of[null==n?void 0:n.className,...(null==n?void 0:n.cssClass)??[]])if(r)try{const t=e.querySelector(r.startsWith(".")?r:`.${r}`);if(t)return t.classList.contains(n.className)||(t.className=`${n.className} ${t.className}`.trim()),t}catch{}for(const r of(null==n?void 0:n.cssClass)??[])try{const t=e.querySelector(r);if(t)return t.classList.contains(n.className)||(t.className=`${n.className} ${t.className}`.trim()),t}catch{}return null}function ra(n,t){const e=document;if(!n)return[];const r=new Set;if(n.dataId)try{e.querySelectorAll(`[data-id="${n.dataId}"]`).forEach(n=>r.add(n))}catch{}for(const i of(null==n?void 0:n.cssClass)??[])try{e.querySelectorAll(i).forEach(n=>r.add(n))}catch{}if(null==n?void 0:n.className)try{e.querySelectorAll(`.${n.className}`).forEach(n=>r.add(n))}catch{}const o=[...r];return o.forEach(t=>{n.className&&!t.classList.contains(n.className)&&(t.className=`${n.className} ${t.className}`.trim())}),o}function oa(n){if(null==n)return null;const t=ra(ta.chatMessage.root);if(!t.length)return null;const e="string"==typeof n?parseInt(n,10):n;if(!Number.isFinite(e))return null;const r=String(e);return t.find(n=>{var t;return(null==(t=n.dataset)?void 0:t.chatIndex)===r})??null}function ia(){const n=ra(ta.chatMessage.root);if(!n.length)return[];const t=n.filter(n=>!n.classList.contains("book-viewer-root")).map(n=>{var t;const e=null==(t=n.dataset)?void 0:t.chatIndex;if(null==e)return null;const r=parseInt(e,10);return Number.isFinite(r)?r:null}).filter(n=>null!==n);return[...new Set(t)].sort((n,t)=>n-t)}function aa(n,t){const e=ia();if(0===e.length)return{index:null,isFirst:!0,isLast:!0};let r=e.indexOf(n);if(-1===r){if(r=e.findIndex(t=>t>n),-1===r&&(r=e.length),"prev"===t){const n=r>0?e[r-1]:null;return{index:n,isFirst:null===n,isLast:r>=e.length}}{const n=r<e.length?e[r]:null;return{index:n,isFirst:r<=0,isLast:null===n}}}const o=0===r,i=r===e.length-1;return"prev"===t?{index:o?null:e[r-1],isFirst:o,isLast:i}:{index:i?null:e[r+1],isFirst:o,isLast:i}}function la(n){const t=ia();if(0===t.length)return{position:0,total:0,isFirst:!0,isLast:!0};const e=t.indexOf(n);if(-1===e){const e=t.findIndex(t=>t>n),r=-1===e?t.length:e;return{position:0,total:t.length,isFirst:0===r,isLast:r>=t.length}}return{position:e+1,total:t.length,currentIndex:n,lastIndex:t[t.length-1],isFirst:0===e,isLast:e===t.length-1}}Un=!0;const sa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};ua[zn]="node_modules/lucide-svelte/dist/Icon.svelte";var ca=Hr(eo("<svg><!><!></svg>"),ua[zn],[[14,0]]);function ua(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]),r=hi(e,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);ct(t,!1,ua);let o=wi(t,"name",8,void 0),i=wi(t,"color",8,"currentColor"),a=wi(t,"size",8,24),l=wi(t,"strokeWidth",8,2),s=wi(t,"absoluteStrokeWidth",8,!1),c=wi(t,"iconNode",24,()=>[]);var u={...vo()};fi();var d=ca();ri(d,(n,t)=>({...sa,...r,width:a(),height:a(),stroke:i(),"stroke-width":n,class:t}),[()=>(Wr(s()),Wr(l()),Wr(a()),Lr(()=>s()?24*Number(l())/Number(a()):l())),()=>(Wr(o()),Wr(e),Lr(()=>((...n)=>n.filter((n,t,e)=>Boolean(n)&&ve(e.indexOf(n),t)).join(" "))("lucide-icon","lucide",o()?`lucide-${o()}`:"",e.class)))]);var f=Ae(d);return at(()=>yo(f,1,c,bo,(n,t)=>{var e=Tt(()=>function(n,t){if(Array.isArray(n))return n;if(!(Symbol.iterator in n))return Array.from(n);const e=[];for(const r of n)if(e.push(r),e.length===t)break;return e}(kr(t),2));let r=()=>kr(e)[0];r();let o=()=>kr(e)[1];o();var i=ro(),a=ke(i);ko(r),function(n,t,e,r,o,i){var a=i&&(null==et?void 0:et.function[zn]),l=null,s=new po(n,!1);Oe(()=>{const n=t()||null;return null===n?(s.ensure(null,null),void ao(!0)):(s.ensure(n,t=>{if(n){if(l=document.createElementNS("http://www.w3.org/2000/svg",n),i&&(l.__svelte_meta={parent:ot,loc:{file:a,line:i[0],column:i[1]}}),$r(l,l),r){var e=l.appendChild(Ie());r(l,e)}ar.nodes.end=l,t.before(l)}}),ao(!0),()=>{n&&ao(!1)})},kn),Ne(()=>{ao(!0)})}(a,r,0,(n,t)=>{ri(n,()=>({...o()}))},0,[35,4]),oo(n,i)}),"each",ua,34,2),Ao(Ge(f),t,"default",{}),oo(n,d),ut(u)}function da(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,da);const r=[["path",{d:"M12 7v14"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"}]];var o={...vo()};return at(()=>ua(n,mi({name:"book-open"},()=>e,{get iconNode(){return r},children:_o(da,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",da,22,0,{componentTag:"Icon"}),ut(o)}function fa(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,fa);const r=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]];var o={...vo()};return at(()=>ua(n,mi({name:"book"},()=>e,{get iconNode(){return r},children:_o(fa,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",fa,22,0,{componentTag:"Icon"}),ut(o)}function ga(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,ga);const r=[["path",{d:"m15 18-6-6 6-6"}]];var o={...vo()};return at(()=>ua(n,mi({name:"chevron-left"},()=>e,{get iconNode(){return r},children:_o(ga,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",ga,22,0,{componentTag:"Icon"}),ut(o)}function va(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,va);const r=[["path",{d:"m9 18 6-6-6-6"}]];var o={...vo()};return at(()=>ua(n,mi({name:"chevron-right"},()=>e,{get iconNode(){return r},children:_o(va,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",va,22,0,{componentTag:"Icon"}),ut(o)}function pa(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,pa);const r=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17"}]];var o={...vo()};return at(()=>ua(n,mi({name:"layers"},()=>e,{get iconNode(){return r},children:_o(pa,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",pa,22,0,{componentTag:"Icon"}),ut(o)}function ha(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,ha);const r=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];var o={...vo()};return at(()=>ua(n,mi({name:"loader-circle"},()=>e,{get iconNode(){return r},children:_o(ha,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",ha,22,0,{componentTag:"Icon"}),ut(o)}function ba(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,ba);const r=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}],["circle",{cx:"12",cy:"12",r:"3"}]];var o={...vo()};return at(()=>ua(n,mi({name:"settings"},()=>e,{get iconNode(){return r},children:_o(ba,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",ba,22,0,{componentTag:"Icon"}),ut(o)}function ma(n,t){go(new.target);const e=hi(t,["children","$$slots","$$events","$$legacy"]);ct(t,!1,ma);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];var o={...vo()};return at(()=>ua(n,mi({name:"x"},()=>e,{get iconNode(){return r},children:_o(ma,(n,e)=>{var r=ro();Ao(ke(r),t,"default",{}),oo(n,r)}),$$slots:{default:!0}})),"component",ma,22,0,{componentTag:"Icon"}),ut(o)}function wa(n,t,e={}){const{clearContainer:r=!0,additionalClasses:o=[]}=e;if(!t||!(null==n?void 0:n.length))return[];r&&(t.innerHTML="");const i=[];return n.forEach(n=>{const e=n.cloneNode(!0);o.forEach(n=>e.classList.add(n)),e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const e=new MouseEvent("click",{bubbles:!0,cancelable:!0});n.dispatchEvent(e)}),t.appendChild(e),i.push(e)}),i}function ya(n,t,e={}){const{buttonSelector:r='button, [role="button"], .risu-btn, [risu-btn]',matcher:o}=e;if(!n||!(null==t?void 0:t.length))return;n.querySelectorAll(r).forEach(n=>{const e=t.find(t=>{var e,r;if(o)return o(t,n);const i=(null==(e=t.dataset)?void 0:e.id)||t.getAttribute("risu-btn"),a=(null==(r=n.dataset)?void 0:r.id)||n.getAttribute("risu-btn");return!(!i||!a||i!==a)||!(!t.className||!n.className||t.className!==n.className)});e&&n.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const t=new MouseEvent("click",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)})})}da[zn]="node_modules/lucide-svelte/dist/icons/book-open.svelte",fa[zn]="node_modules/lucide-svelte/dist/icons/book.svelte",ga[zn]="node_modules/lucide-svelte/dist/icons/chevron-left.svelte",va[zn]="node_modules/lucide-svelte/dist/icons/chevron-right.svelte",pa[zn]="node_modules/lucide-svelte/dist/icons/layers.svelte",ha[zn]="node_modules/lucide-svelte/dist/icons/loader-circle.svelte",ba[zn]="node_modules/lucide-svelte/dist/icons/settings.svelte",ma[zn]="node_modules/lucide-svelte/dist/icons/x.svelte",xa[zn]="src/ui/components/viewer/pc/BookHeader.svelte";var Ia=Hr(no('<span class="chat-index-total"> </span>'),xa[zn],[[61,10]]),Ca=Hr(no('<header class="book-header"><div class="header-left"><div class="header-thumbnail"></div> <div class="header-info"><span class="header-name"> </span> <div class="header-buttons"></div></div></div> <div class="header-right"><div class="chat-index-nav"><button class="chat-nav-btn" title="ì´ì „ ì±„íŒ…"><!></button> <span class="header-chat-index"> <!></span> <button class="chat-nav-btn" title="ë‹¤ìŒ ì±„íŒ…"><!></button></div> <button class="close-btn" title="ë‹«ê¸°"><!></button></div></header>'),xa[zn],[[33,0,[[34,2,[[35,4],[40,4,[[41,6],[44,6]]]]],[48,2,[[49,4,[[50,6],[58,6],[66,6]]],[75,4]]]]]]);function xa(n,t){go(new.target),ct(t,!0,xa);const e=Gi.getInstance();let r=wi(t,"thumbnailUrl",3,""),o=wi(t,"name",3,""),i=wi(t,"chatIndex",3,0),a=wi(t,"buttons",19,()=>[]),l=wi(t,"chatIndexPosition",19,()=>({position:0,total:0,isFirst:!0,isLast:!0})),s=$n(ne(null),"buttonsContainer");je(()=>{kr(s)&&a().length>0&&wa(a(),kr(s))});let c=$n(Tt(()=>i()+1),"displayIndex");var u={...vo()},d=Ca(),f=Ae(d),g=Ae(f);let v;var p=Ae(Ge(g,2)),h=Ae(p);di(Ge(p,2),n=>ee(s,n),()=>kr(s));var b=Ae(Ge(f,2)),m=Ae(b);m.__click=function(...n){Qr(()=>t.onPrevChat,this,n,xa,[52,17])};var w=Ae(m);at(()=>ga(w,{size:16}),"component",xa,56,8,{componentTag:"ChevronLeft"});var y=Ge(m,2),I=Ae(y),C=Ge(I),x=n=>{var t=Ia(),e=Ae(t);Pe(()=>lo(e,`(${l().currentIndex??""}/${l().lastIndex??""})`)),oo(n,t)};at(()=>ho(C,n=>{l().total>0&&n(x)}),"if",xa,60,8);var A=Ge(y,2);A.__click=function(...n){Qr(()=>t.onNextChat,this,n,xa,[68,17])};var k=Ae(A);at(()=>va(k,{size:16}),"component",xa,72,8,{componentTag:"ChevronRight"});var G=Ge(b,2);G.__click=function(...n){Qr(()=>t.onClose,this,n,xa,[75,39])};var _=Ae(G);return at(()=>ma(_,{size:20}),"component",xa,76,6,{componentTag:"X"}),Pe(n=>{v=Fo(g,"",v,{"background-image":r()?`url('${r()}')`:"none"}),lo(h,n),m.disabled=l().isFirst,lo(I,`#${kr(c)??""} `),A.disabled=l().isLast},[()=>{var n;return o()||(null==(n=e.getChar())?void 0:n.name)||"Unknown"}]),oo(n,d),ut(u)}Ur(["click"]);const Aa=n=>n;function ka(n,{delay:t=0,duration:e=400,easing:r=Aa}={}){const o=+getComputedStyle(n).opacity;return{delay:t,duration:e,easing:r,css:n=>"opacity: "+n*o}}function Ga(n){const t=n-1;return t*t*t+1}Xa[zn]="src/ui/components/viewer/LoadingOverlay.svelte";var _a=Hr(no('<span class="loading-message svelte-1lzy2gy"> </span>'),Xa[zn],[[24,8]]),La=Hr(no('<div class="loading-overlay svelte-1lzy2gy"><div class="loading-content svelte-1lzy2gy"><div class="loading-spinner svelte-1lzy2gy"><div class="spinner-ring svelte-1lzy2gy"></div> <div class="spinner-ring svelte-1lzy2gy"></div> <div class="spinner-ring svelte-1lzy2gy"></div></div> <!></div></div>'),Xa[zn],[[12,2,[[17,4,[[18,6,[[19,8],[20,8],[21,8]]]]]]]]);const Sa={hash:"svelte-1lzy2gy",code:"\n  .loading-overlay.svelte-1lzy2gy {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 50;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: color-mix(in srgb, var(--bv-page-color) 85%, transparent);\n    backdrop-filter: blur(12px);\n    -webkit-backdrop-filter: blur(12px);\n    pointer-events: all;\n    border-radius: inherit;\n  }\n\n  .loading-content.svelte-1lzy2gy {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 16px;\n    animation: svelte-1lzy2gy-contentFadeIn 0.3s ease-out;\n  }\n\n  @keyframes svelte-1lzy2gy-contentFadeIn {\n    from {\n      opacity: 0;\n      transform: scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  .loading-spinner.svelte-1lzy2gy {\n    position: relative;\n    width: 44px;\n    height: 44px;\n  }\n\n  .spinner-ring.svelte-1lzy2gy {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border: 2.5px solid transparent;\n    border-top-color: var(--bv-accent-color, #6366f1);\n    border-radius: 50%;\n    animation: svelte-1lzy2gy-spin 1s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  }\n\n  .spinner-ring.svelte-1lzy2gy:nth-child(1) {\n    animation-delay: -0.4s;\n  }\n\n  .spinner-ring.svelte-1lzy2gy:nth-child(2) {\n    animation-delay: -0.25s;\n    width: 75%;\n    height: 75%;\n    top: 12.5%;\n    left: 12.5%;\n  }\n\n  .spinner-ring.svelte-1lzy2gy:nth-child(3) {\n    animation-delay: -0.1s;\n    width: 50%;\n    height: 50%;\n    top: 25%;\n    left: 25%;\n  }\n\n  @keyframes svelte-1lzy2gy-spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  .loading-message.svelte-1lzy2gy {\n    font-size: 13px;\n    font-weight: 500;\n    color: var(--bv-text-secondary, #666);\n  }\n\n  .book-viewer-root[data-theme='dark'] .loading-message.svelte-1lzy2gy {\n    color: var(--bv-text-secondary, #aaa);\n  }\n\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9hZGluZ092ZXJsYXkuc3ZlbHRlIiwic291cmNlcyI6WyJMb2FkaW5nT3ZlcmxheS5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgLyoqXG4gICAqIExvYWRpbmdPdmVybGF5IC0gY2hhdCBpbmRleCDsnbTrj5kg7IucIO2RnOyLnOuQmOuKlCDroZzrlKkg7Jik67KE66CI7J20XG4gICAqL1xuICBpbXBvcnQgeyBmYWRlIH0gZnJvbSAnc3ZlbHRlL3RyYW5zaXRpb24nO1xuICBpbXBvcnQgeyBjdWJpY091dCB9IGZyb20gJ3N2ZWx0ZS9lYXNpbmcnO1xuXG4gIGxldCB7IHZpc2libGUgPSBmYWxzZSwgbWVzc2FnZSA9ICfroZzrlKkg7KSRLi4uJyB9ID0gJHByb3BzKCk7XG48L3NjcmlwdD5cblxueyNpZiB2aXNpYmxlfVxuICA8ZGl2XG4gICAgY2xhc3M9XCJsb2FkaW5nLW92ZXJsYXlcIlxuICAgIGluOmZhZGU9e3sgZHVyYXRpb246IDIwMCwgZWFzaW5nOiBjdWJpY091dCB9fVxuICAgIG91dDpmYWRlPXt7IGR1cmF0aW9uOiAzMDAsIGVhc2luZzogY3ViaWNPdXQgfX1cbiAgPlxuICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLWNvbnRlbnRcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nLXNwaW5uZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNwaW5uZXItcmluZ1wiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbm5lci1yaW5nXCI+PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzcGlubmVyLXJpbmdcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgeyNpZiBtZXNzYWdlfVxuICAgICAgICA8c3BhbiBjbGFzcz1cImxvYWRpbmctbWVzc2FnZVwiPnttZXNzYWdlfTwvc3Bhbj5cbiAgICAgIHsvaWZ9XG4gICAgPC9kaXY+XG4gIDwvZGl2Plxuey9pZn1cblxuPHN0eWxlPlxuICAubG9hZGluZy1vdmVybGF5IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgcmlnaHQ6IDA7XG4gICAgYm90dG9tOiAwO1xuICAgIHotaW5kZXg6IDUwO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiBjb2xvci1taXgoaW4gc3JnYiwgdmFyKC0tYnYtcGFnZS1jb2xvcikgODUlLCB0cmFuc3BhcmVudCk7XG4gICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpO1xuICAgIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyOiBibHVyKDEycHgpO1xuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgYm9yZGVyLXJhZGl1czogaW5oZXJpdDtcbiAgfVxuXG4gIC5sb2FkaW5nLWNvbnRlbnQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogMTZweDtcbiAgICBhbmltYXRpb246IGNvbnRlbnRGYWRlSW4gMC4zcyBlYXNlLW91dDtcbiAgfVxuXG4gIEBrZXlmcmFtZXMgY29udGVudEZhZGVJbiB7XG4gICAgZnJvbSB7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XG4gICAgfVxuICB9XG5cbiAgLmxvYWRpbmctc3Bpbm5lciB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHdpZHRoOiA0NHB4O1xuICAgIGhlaWdodDogNDRweDtcbiAgfVxuXG4gIC5zcGlubmVyLXJpbmcge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgYm9yZGVyOiAyLjVweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1idi1hY2NlbnQtY29sb3IsICM2MzY2ZjEpO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBhbmltYXRpb246IHNwaW4gMXMgY3ViaWMtYmV6aWVyKDAuNSwgMCwgMC41LCAxKSBpbmZpbml0ZTtcbiAgfVxuXG4gIC5zcGlubmVyLXJpbmc6bnRoLWNoaWxkKDEpIHtcbiAgICBhbmltYXRpb24tZGVsYXk6IC0wLjRzO1xuICB9XG5cbiAgLnNwaW5uZXItcmluZzpudGgtY2hpbGQoMikge1xuICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMjVzO1xuICAgIHdpZHRoOiA3NSU7XG4gICAgaGVpZ2h0OiA3NSU7XG4gICAgdG9wOiAxMi41JTtcbiAgICBsZWZ0OiAxMi41JTtcbiAgfVxuXG4gIC5zcGlubmVyLXJpbmc6bnRoLWNoaWxkKDMpIHtcbiAgICBhbmltYXRpb24tZGVsYXk6IC0wLjFzO1xuICAgIHdpZHRoOiA1MCU7XG4gICAgaGVpZ2h0OiA1MCU7XG4gICAgdG9wOiAyNSU7XG4gICAgbGVmdDogMjUlO1xuICB9XG5cbiAgQGtleWZyYW1lcyBzcGluIHtcbiAgICAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICB9XG4gICAgMTAwJSB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpO1xuICAgIH1cbiAgfVxuXG4gIC5sb2FkaW5nLW1lc3NhZ2Uge1xuICAgIGZvbnQtc2l6ZTogMTNweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xuICAgIGNvbG9yOiB2YXIoLS1idi10ZXh0LXNlY29uZGFyeSwgIzY2Nik7XG4gIH1cblxuICA6Z2xvYmFsKC5ib29rLXZpZXdlci1yb290W2RhdGEtdGhlbWU9J2RhcmsnXSkgLmxvYWRpbmctbWVzc2FnZSB7XG4gICAgY29sb3I6IHZhcigtLWJ2LXRleHQtc2Vjb25kYXJ5LCAjYWFhKTtcbiAgfVxuPC9zdHlsZT5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwiaWdub3JlTGlzdCI6W119 */"};function Xa(n,t){go(new.target),ct(t,!0,Xa),Bo(n,Sa);let e=wi(t,"visible",3,!1),r=wi(t,"message",3,"ë¡œë”© ì¤‘...");var o={...vo()},i=ro(),a=ke(i),l=n=>{var t=La(),e=Ae(t),o=Ge(Ae(e),2),i=n=>{var t=_a(),e=Ae(t);Pe(()=>lo(e,r())),oo(n,t)};at(()=>ho(o,n=>{r()&&n(i)}),"if",Xa,23,6),No(1,t,()=>ka,()=>({duration:200,easing:Ga})),No(2,t,()=>ka,()=>({duration:300,easing:Ga})),oo(n,t)};return at(()=>ho(a,n=>{e()&&n(l)}),"if",Xa,11,0),oo(n,i),ut(o)}class Wa{constructor(n={}){this.splittableTags=n.splittableTags||["p"],this.minHeightRatio=n.minHeightRatio||.9}isSplittable(n){var t;const e=null==(t=n.tagName)?void 0:t.toLowerCase();if(!this.splittableTags.includes(e))return!1;return!n.querySelector("mark, strong, em, a, span[class], code")}splitElement(n,t,e){if(!this.isSplittable(n))return[n.cloneNode(!0)];const r=n.cloneNode(!0);t.innerHTML="",t.appendChild(r);return t.scrollHeight<=e?[n.cloneNode(!0)]:this._splitBySentence(n,t,e)}_splitBySentence(n,t,e){const r=n.tagName.toLowerCase(),o=n.innerText||n.textContent||"",i=this._splitIntoSentences(o);if(i.length<=1)return this._splitByWords(n,t,e);const a=[];let l=[];for(const s of i){const o=[...l,s].join(""),i=document.createElement(r);if(Array.from(n.attributes).forEach(n=>{i.setAttribute(n.name,n.value)}),i.textContent=o,t.innerHTML="",t.appendChild(i),t.scrollHeight<=e)l.push(s);else{if(l.length>0){const t=document.createElement(r);Array.from(n.attributes).forEach(n=>{t.setAttribute(n.name,n.value)}),t.textContent=l.join(""),a.push(t)}l=[s]}}if(l.length>0){const t=document.createElement(r);Array.from(n.attributes).forEach(n=>{t.setAttribute(n.name,n.value)}),t.textContent=l.join(""),a.push(t)}return a.length>0?a:[n.cloneNode(!0)]}_splitIntoSentences(n){return n.split(new RegExp("(?<=[.!?ã€‚ï¼ï¼Ÿ])\\s*")).filter(n=>n.length>0)}_splitByWords(n,t,e){const r=n.tagName.toLowerCase(),o=(n.innerText||n.textContent||"").split(/(\s+)/).filter(n=>n.length>0);if(0===o.length)return[n.cloneNode(!0)];const i=[];let a=0;for(;a<o.length;){let l=a+1,s=a+1;for(;l<=o.length;){const i=o.slice(a,l).join(""),c=document.createElement(r);if(Array.from(n.attributes).forEach(n=>{c.setAttribute(n.name,n.value)}),c.textContent=i,t.innerHTML="",t.appendChild(c),!(t.scrollHeight<=e))break;s=l,l++}const c=document.createElement(r);Array.from(n.attributes).forEach(n=>{c.setAttribute(n.name,n.value)}),c.textContent=o.slice(a,s).join(""),i.push(c),a=s}return i}static createMeasureContainer(n){const t=document.createElement("div"),e=getComputedStyle(n),r=n.closest(".book-viewer-root"),o=r?getComputedStyle(r):null,i=(null==o?void 0:o.getPropertyValue("--bv-font-size"))||e.fontSize,a=(null==o?void 0:o.getPropertyValue("--bv-line-height"))||e.lineHeight,l=(null==o?void 0:o.getPropertyValue("--bv-font-family"))||e.fontFamily;return t.className="text-content chattext",t.style.cssText=`\n      position: absolute;\n      visibility: hidden;\n      pointer-events: none;\n      width: ${n.clientWidth}px;\n      padding: ${e.padding};\n      margin: ${e.margin};\n      box-sizing: ${e.boxSizing};\n      font-size: ${i};\n      line-height: ${a};\n      font-family: ${l};\n      font-weight: ${e.fontWeight};\n      font-style: ${e.fontStyle};\n      letter-spacing: ${e.letterSpacing};\n      word-spacing: ${e.wordSpacing};\n      text-align: ${e.textAlign};\n      text-indent: ${e.textIndent};\n      text-transform: ${e.textTransform};\n      white-space: ${e.whiteSpace};\n      word-break: ${e.wordBreak};\n      word-wrap: ${e.wordWrap};\n      overflow: hidden;\n    `,r?r.appendChild(t):document.body.appendChild(t),t}}function Za(n){const t=document.createElement("div");if(t.className="text-content chattext",t.style.position="absolute",t.style.visibility="hidden",t.style.pointerEvents="none",t.style.overflow="hidden",n){const e=n.getBoundingClientRect(),r=window.getComputedStyle(n);t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.padding=r.padding,t.style.margin=r.margin,t.style.boxSizing=r.boxSizing,t.style.fontSize=r.fontSize,t.style.lineHeight=r.lineHeight,t.style.fontFamily=r.fontFamily,t.style.fontWeight=r.fontWeight,t.style.fontStyle=r.fontStyle,t.style.letterSpacing=r.letterSpacing,t.style.wordSpacing=r.wordSpacing,t.style.textAlign=r.textAlign,t.style.textIndent=r.textIndent,t.style.textTransform=r.textTransform,t.style.whiteSpace=r.whiteSpace,t.style.wordBreak=r.wordBreak,t.style.wordWrap=r.wordWrap;const o=n.closest(".book-viewer-root")||n.closest(".mobile-reader");if(o){o.appendChild(t);const n=window.getComputedStyle(o),e=n.getPropertyValue("--bv-font-size")||n.getPropertyValue("--mv-font-size")||r.fontSize,i=n.getPropertyValue("--bv-line-height")||n.getPropertyValue("--mv-line-height")||r.lineHeight,a=n.getPropertyValue("--bv-font-family")||n.getPropertyValue("--mv-font-family")||r.fontFamily;e&&(t.style.fontSize=e),i&&(t.style.lineHeight=i),a&&(t.style.fontFamily=a)}else document.body.appendChild(t)}else document.body.appendChild(t);return t}function Ma(n){const t=Array.from(n.childNodes);let e=[];const r=()=>{if(0===e.length)return;const t=e.map(n=>n.nodeType===Node.TEXT_NODE?n.textContent:n.outerHTML).join("");if(""===t.trim())return e.forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)}),void(e=[]);const r=document.createElement("p");r.innerHTML=t;const o=e[0];n.insertBefore(r,o),e.forEach(n=>{n.parentNode&&n.parentNode.removeChild(n)}),e=[]},o=["p","div","ul","ol","li","h1","h2","h3","h4","h5","h6","table","blockquote","pre","hr","details","figure","section","article","header","footer","nav","aside","title"];t.forEach(n=>{if(n.nodeType===Node.TEXT_NODE)(""!==n.textContent.trim()||e.length>0)&&e.push(n);else if(n.nodeType===Node.ELEMENT_NODE){const t=n.tagName.toLowerCase();o.includes(t)?r():e.push(n)}}),r()}function Na(n,t,e){const r=[],o=Array.from(n.children),i=t.clientHeight;let a=[];return o.forEach(n=>{const o=n.cloneNode(!0);if(t.innerHTML="",t.appendChild(o),n.querySelector("img")||"IMG"===n.tagName||"DIV"===n.tagName&&n.classList.contains("x-risu-image-container")||"DETAILS"===n.tagName)return a.length>0&&(r.push(ja(a)),a=[]),r.push(ja([n.cloneNode(!0)])),void(t.innerHTML="");t.innerHTML="",a.forEach(n=>{t.appendChild(n.cloneNode(!0))}),t.appendChild(o);const l=t.scrollHeight>t.clientHeight;if(l&&e.isSplittable(n)){a.length>0&&(r.push(ja(a)),a=[]),t.innerHTML="";return void e.splitElement(n,t,i).forEach(n=>{(n=>{const e=n.cloneNode(!0);t.appendChild(e),t.scrollHeight>t.clientHeight&&a.length>0&&(r.push(ja(a)),a=[],t.innerHTML="",t.appendChild(e)),a.push(n)})(n)})}l&&a.length>0&&(r.push(ja(a)),a=[],t.innerHTML="",t.appendChild(o)),a.push(n.cloneNode(!0))}),a.length>0&&r.push(ja(a)),r}function ja(n){const t=document.createElement("div");return n.forEach(n=>t.appendChild(n)),t.innerHTML}function Ba(n){const t={thumbnailUrl:"",name:"",chatIndex:0,buttons:[]},e=n.querySelector(".shadow-lg.bg-textcolor2.rounded-md");if(e){const n=e.getAttribute("style");if(n){const e=n.match(/background:\s*url\(['"]?([^'")\s]+)['"]?\)/);e&&e[1]&&(t.thumbnailUrl=e[1])}}const r=n.querySelector(".flexium.items-center.chat-width");if(r){const n=r.querySelector("span.chat-width");n&&(t.name=n.textContent.trim())}const o=n.querySelector(".risu-ebooklike-viewer-chat-message-bot-buttons");if(o){[".button-icon-copy",".button-icon-tts",".button-icon-edit",".button-icon-translate"].forEach(n=>{const e=o.querySelector(n);e&&t.buttons.push(e.cloneNode(!0))})}const i=n.querySelector(".risu-chat");if(i){const n=i.getAttribute("data-chat-index");n&&(t.chatIndex=parseInt(n,10))}return t}function Ya(n){if(!n)return[];const t=[],e=ea(ta.chatMessage.botButtonDiv,n);if(e){[".button-icon-copy",".button-icon-edit",".button-icon-translate",".button-icon-reroll"].forEach(n=>{const r=e.querySelector(n);r&&t.push(r)})}return t}function Ra(n){if(!n)return[];const t=n.querySelector(".chattext");if(!t)return[];const e=["button",'[role="button"]',".risu-btn","[risu-btn]",".x-risu-lb-opener",".x-risu-lb-nai-btn",".x-risu-lb-nai-opener"].join(", ");return Array.from(t.querySelectorAll(e))}function Pa(n){const t=new Map;if(!n)return t;const e=n.querySelector(".chattext");if(!e)return t;e.querySelectorAll(".x-risu-lb-module-root").forEach(n=>{const e=n.getAttribute("data-id");if(e){const r=n.querySelector(".x-risu-lb-opener")||n.querySelector(".x-risu-lb-nai-opener");r&&t.set(e,r)}});return e.querySelectorAll(".x-risu-lb-nai-btn").forEach(n=>{if(!n.closest(".x-risu-lb-module-root")){const e=n.getAttribute("risu-btn");e&&t.set(e,n)}}),t}function Oa(n){const t=[];n.querySelectorAll(".x-risu-lb-module-root").forEach(n=>{var e,r;const o=n.getAttribute("data-id")||"",i=n.querySelector(".x-risu-lb-opener span"),a=n.querySelector(".x-risu-lb-nai-opener span"),l=(null==(e=null==i?void 0:i.textContent)?void 0:e.trim())||(null==(r=null==a?void 0:a.textContent)?void 0:r.trim())||o||"LB Module";t.push({type:"module-root",dataId:o,label:l,element:n.cloneNode(!0)})});return n.querySelectorAll(".x-risu-lb-nai-btn").forEach(n=>{var e;if(!n.closest(".x-risu-lb-module-root")){const r=n.getAttribute("risu-btn")||"",o=(null==(e=n.textContent)?void 0:e.trim())||r||"NAI Button";t.push({type:"nai-btn",dataId:r,label:o,element:n.cloneNode(!0)})}}),t}function Ha(){return new Promise(n=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})})}function za(n,t=0,e=0){n.querySelectorAll("img, div.x-risu-image-container").forEach(n=>{if(n.closest(".censored-image-container"))return;if(t>0||e>0){let r=0,o=0;if("IMG"===n.tagName)o=n.height||n.naturalHeight||0,r=n.width||n.naturalWidth||0;else if(n.classList.contains("x-risu-image-container")){const t=n.getBoundingClientRect();r=t.width,o=t.height}if(r<t&&o<e)return}const r=document.createElement("div");r.className="censored-image-container";const o=document.createElement("div");o.className="censored-overlay",o.style.backgroundImage="url(data:image/webp;base64,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)",o.addEventListener("click",n=>{n.stopPropagation(),o.classList.add("vanished"),setTimeout(()=>{o.remove()},1e3)}),n.parentNode.insertBefore(r,n),r.appendChild(n),r.appendChild(o)})}function Ta(n){n.querySelectorAll(".censored-overlay").forEach(n=>n.remove());Array.from(n.querySelectorAll(".censored-image-container")).forEach(n=>{if(!n.parentNode)return;const t=n.querySelector(".censored-overlay");t&&t.remove();const e=Array.from(n.children).filter(n=>!n.classList.contains("censored-overlay"));if(e.length>0){const t=e[0];n.parentNode.insertBefore(t,n);for(let n=1;n<e.length;n++)t.parentNode.insertBefore(e[n],t.nextSibling)}n.remove()})}Da[zn]="src/ui/components/viewer/pc/BookPages.svelte";var Va=Hr(no('<div class="page-number left-page-num"> </div>'),Da[zn],[[100,8]]),Fa=Hr(no('<div class="page-number right-page-num"> </div>'),Da[zn],[[113,8]]),Ea=Hr(no('<div class="book-pages"><div class="click-area click-left"></div>  <div class="click-area click-right"></div> <div class="page page-left"><div class="page-content"><div class="text-content chattext"></div> <!></div></div> <div class="book-spine"></div> <div class="page page-right"><div class="page-content"><div class="text-content chattext"></div> <!></div></div> <!></div>'),Da[zn],[[86,0,[[90,2],[93,2],[96,2,[[97,4,[[98,6]]]]],[106,2],[109,2,[[110,4,[[111,6]]]]]]]]);function Da(n,t){go(new.target),ct(t,!0,Da);let e=wi(t,"leftContent",3,""),r=wi(t,"rightContent",3,""),o=wi(t,"leftPageNum",3,0),i=wi(t,"rightPageNum",3,0),a=wi(t,"leftContentRef",7,null);wi(t,"rightContentRef",3,null);let l=wi(t,"isLoading",3,!1),s=wi(t,"loadingMessage",3,""),c=wi(t,"liveContentButtons",19,()=>[]),u=wi(t,"imageCensored",3,!1),d=wi(t,"imageCensoredMinWidth",3,100),f=wi(t,"imageCensoredMinHeight",3,100),g=$n(ne(null),"leftTextContent"),v=$n(ne(null),"rightTextContent");je(()=>{kr(g)&&(kr(g).innerHTML=e(),c().length>0&&ya(kr(g),c()),u()?za(kr(g),d(),f()):Ta(kr(g)),kr(g).scrollTop=0)}),je(()=>{kr(v)&&(kr(v).innerHTML=r(),c().length>0&&ya(kr(v),c()),u()?za(kr(v),d(),f()):Ta(kr(v)),kr(v).scrollTop=0)}),je(()=>{kr(g)&&ve(a(),kr(g),!1)&&a(kr(g))});var p={...vo()},h=Ea(),b=Ae(h);b.__click=function(...n){Qr(()=>t.onPrevPage,this,n,Da,[90,46])};var m=Ge(b,2);m.__click=function(...n){Qr(()=>t.onNextPage,this,n,Da,[93,47])};var w=Ge(m,2),y=Ae(w),I=Ae(y);di(I,n=>ee(g,n),()=>kr(g));var C=Ge(I,2),x=n=>{var t=Va(),e=Ae(t);Pe(()=>lo(e,o())),oo(n,t)};at(()=>ho(C,n=>{o()>0&&n(x)}),"if",Da,99,6);var A=Ge(w,4),k=Ae(A),G=Ae(k);di(G,n=>ee(v,n),()=>kr(v));var _=Ge(G,2),L=n=>{var t=Fa(),e=Ae(t);Pe(()=>lo(e,i())),oo(n,t)};at(()=>ho(_,n=>{i()>0&&n(L)}),"if",Da,112,6);var S=Ge(A,2);return at(()=>Xa(S,{get visible(){return l()},get message(){return s()}}),"component",Da,119,2,{componentTag:"LoadingOverlay"}),oo(n,h),ut(p)}Ur(["click"]),Qa[zn]="src/ui/components/viewer/pc/SettingsMenu.svelte";var Ua=Hr(no("<option> </option>"),Qa[zn],[[108,10]]),Ja=Hr(no('<div class="setting-item"><label for="imageCensoredMinWidth">ê²€ì—´ ìµœì†Œ ë„ˆë¹„</label> <input type="range" id="imageCensoredMinWidth" min="0" max="500" step="10"/> <span> </span></div> <div class="setting-item"><label for="imageCensoredMinHeight">ê²€ì—´ ìµœì†Œ ë†’ì´</label> <input type="range" id="imageCensoredMinHeight" min="0" max="500" step="10"/> <span> </span></div>',1),Qa[zn],[[166,6,[[167,8],[168,8],[177,8]]],[179,6,[[180,8],[181,8],[190,8]]]]),Ka=Hr(no('<div class="dropdown-container"><div><div class="dropdown-header">ì„¤ì •</div> <div class="setting-item"><label for="fontFamily">í°íŠ¸</label> <select id="fontFamily"></select></div> <div class="setting-item"><label for="fontSize">í°íŠ¸ í¬ê¸°</label> <input type="range" id="fontSize" min="12" max="24" step="1"/> <span> </span></div> <div class="setting-item"><label for="lineHeight">ì¤„ ê°„ê²©</label> <input type="range" id="lineHeight" min="1.5" max="2.2" step="0.1"/> <span> </span></div> <div class="setting-item"><label for="theme">í…Œë§ˆ</label> <select id="theme"><option>ë¼ì´íŠ¸ í…Œë§ˆ</option><option>ì„¸í”¼ì•„</option><option>ë‹¤í¬ í…Œë§ˆ</option></select></div> <div class="setting-item toggle-item"><div class="toggle-content"><span class="toggle-label">ì´ë¯¸ì§€ ê²€ì—´</span> <span class="toggle-description">ì´ë¯¸ì§€ ìœ„ì— ì˜¤ë²„ë ˆì´ í‘œì‹œ</span></div> <label class="toggle-switch"><input type="checkbox"/> <span class="toggle-slider"></span></label></div> <!> <div class="setting-item toggle-item"><div class="toggle-content"><span class="toggle-label">ì—°ì† íŽ˜ì´ì§€ ì´ë™</span> <span class="toggle-description">ì´ì „ ì¸ë±ìŠ¤ ì´ë™ ì‹œ ë§ˆì§€ë§‰ íŽ˜ì´ì§€ë¡œ ì´ë™</span></div> <label class="toggle-switch"><input type="checkbox"/> <span class="toggle-slider"></span></label></div> <div class="setting-item"><button class="custom-css-btn">ì‚¬ìš©ìž CSS íŽ¸ì§‘</button></div></div></div>'),Qa[zn],[[96,0,[[97,2,[[98,4],[100,4,[[101,6],[102,6]]],[113,4,[[114,6],[115,6],[124,6]]],[127,4,[[128,6],[129,6],[138,6]]],[141,4,[[142,6],[143,6,[[144,8],[145,8],[146,8]]]]],[150,4,[[151,6,[[152,8],[153,8]]],[155,6,[[156,8],[161,8]]]]],[194,4,[[195,6,[[196,8],[197,8]]],[201,6,[[202,8],[207,8]]]]],[211,4,[[212,6]]]]]]]]);function Qa(n,t){go(new.target),ct(t,!0,Qa);let e=wi(t,"isOpen",3,!1),r=wi(t,"settings",19,()=>({fontSize:17,lineHeight:1.5,theme:"dark",fontFamily:"ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤",imageCensored:!1}));const o=["Pretendard","ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤","ì—ìŠ¤ì½”ì–´ë“œë¦¼","ë ˆíŽ˜ë¦¬í¬ì¸íŠ¸","í”Œë ‰ìŠ¤","ìŠ¤ìœ„íŠ¸","ì˜¤ë¥´ë¹—","ìŠ¤ì¿¨ì˜¤ë¥´ë¹—","í”„ë¦¬í‹°ë‚˜ìž‡","ì„œë¼ìš´ë“œì—ì–´","ê³ ìš´ë‹ì›€","ê³ ìš´ë°”íƒ•","ë¦¬ë””ë°”íƒ•","ë§ˆë£¨ë¶€ë¦¬","ë„ìŠ¤ê³ ë”•","ìŠ¤íƒ€ë”ìŠ¤íŠ¸","í”½ì‹œë“œì‹œìŠ¤","ë„¤ì˜¤ë‘¥ê·¼ëª¨"];function i(n){var e;const o={...r(),imageCensoredMinWidth:Number(n.target.value)};null==(e=t.onSettingsChange)||e.call(t,o)}function a(n){var e;const o={...r(),imageCensoredMinHeight:Number(n.target.value)};null==(e=t.onSettingsChange)||e.call(t,o)}var l={...vo()},s=Ka(),c=Ae(s);let u;var d,f=Ge(Ae(c),2),g=Ge(Ae(f),2);g.__change=function(n){var e;const o={...r(),fontFamily:n.target.value};null==(e=t.onSettingsChange)||e.call(t,o)},at(()=>yo(g,21,()=>o,bo,(n,t)=>{var e=Ua();let r;var o=Ae(e),i={};Pe(()=>{r=Fo(e,"",r,{"font-family":kr(t)}),lo(o,kr(t)),i!==(i=kr(t))&&(e.value=(e.__value=kr(t))??"")}),oo(n,e)}),"each",Qa,107,8),Do(g);var v=Ge(f,2),p=Ge(Ae(v),2);p.__input=function(n){var e;const o={...r(),fontSize:Number(n.target.value)};null==(e=t.onSettingsChange)||e.call(t,o)};var h=Ae(Ge(p,2)),b=Ge(v,2),m=Ge(Ae(b),2);m.__input=function(n){var e;const o={...r(),lineHeight:Number(n.target.value)};null==(e=t.onSettingsChange)||e.call(t,o)};var w=Ae(Ge(m,2)),y=Ge(b,2),I=Ge(Ae(y),2);I.__change=function(n){var e;const o={...r(),theme:n.target.value};null==(e=t.onSettingsChange)||e.call(t,o)};var C=Ae(I);C.value=C.__value="light";var x=Ge(C);x.value=x.__value="sepia";var A,k=Ge(x);k.value=k.__value="dark",Do(I);var G=Ge(y,2),_=Ge(Ae(G),2),L=Ae(_);L.__change=function(n){var e;const o={...r(),imageCensored:n.target.checked};null==(e=t.onSettingsChange)||e.call(t,o)};var S=Ge(G,2),X=n=>{var t=Ja(),e=ke(t),o=Ge(Ae(e),2);o.__input=i;var l=Ae(Ge(o,2)),s=Ge(e,2),c=Ge(Ae(s),2);c.__input=a;var u=Ae(Ge(c,2));Pe(()=>{$o(o,r().imageCensoredMinWidth??100),lo(l,`${r().imageCensoredMinWidth??100??""}px`),$o(c,r().imageCensoredMinHeight??100),lo(u,`${r().imageCensoredMinHeight??100??""}px`)}),oo(n,t)};at(()=>ho(S,n=>{r().imageCensored&&n(X)}),"if",Qa,165,4);var W=Ge(S,2),Z=Ge(Ae(W),2),M=Ae(Z);return M.__change=function(n){var e;const o={...r(),jumpToLastPageOnPrevIndex:n.target.checked};null==(e=t.onSettingsChange)||e.call(t,o)},Ae(Ge(W,2)).__click=function(...n){Qr(()=>t.onOpenCustomCss,this,n,Qa,[212,46])},Pe(n=>{u=To(c,1,"dropdown-menu",null,u,{active:e()}),d!==(d=r().fontFamily)&&(g.value=(g.__value=r().fontFamily)??"",Eo(g,r().fontFamily)),$o(p,r().fontSize),lo(h,`${r().fontSize??""}px`),$o(m,r().lineHeight),lo(w,n),A!==(A=r().theme)&&(I.value=(I.__value=r().theme)??"",Eo(I,r().theme)),ni(L,r().imageCensored),ni(M,r().jumpToLastPageOnPrevIndex??!1)},[()=>r().lineHeight.toFixed(1)]),oo(n,s),ut(l)}Ur(["change","input","click"]),tl[zn]="src/ui/components/viewer/pc/LBModuleMenu.svelte";var qa=Hr(no('<div class="lb-module-item" style="cursor: default; opacity: 0.6;">ëª¨ë“ˆì´ ì—†ìŠµë‹ˆë‹¤</div>'),tl[zn],[[30,8]]),$a=Hr(no('<div class="lb-module-item" role="button" tabindex="0"><span class="lb-module-label"> </span></div>'),tl[zn],[[35,10,[[42,12]]]]),nl=Hr(no('<div class="dropdown-container"><div><div class="dropdown-header">LB ëª¨ë“ˆ</div> <div class="lb-modules-list"><!></div></div></div>'),tl[zn],[[24,0,[[25,2,[[26,4],[28,4]]]]]]);function tl(n,t){go(new.target),ct(t,!0,tl);let e=wi(t,"isOpen",3,!1),r=wi(t,"modules",19,()=>[]);function o(n){var e;null==(e=t.onModuleClick)||e.call(t,n)}var i={...vo()},a=nl(),l=Ae(a);let s;var c=Ge(Ae(l),2),u=Ae(c),d=n=>{oo(n,qa())},f=n=>{var t=ro(),e=ke(t);at(()=>yo(e,17,r,bo,(n,t)=>{var e=$a();e.__click=()=>o(kr(t)),e.__keydown=n=>ve(n.key,"Enter")&&o(kr(t));var r=Ae(e),i=Ae(r);Pe(n=>lo(i,n),[()=>function(n,t=30){const e=n.replace(/\s+/g," ").trim();return e.length<=t?e:e.substring(0,t)+"..."}(kr(t).label)]),oo(n,e)}),"each",tl,34,8),oo(n,t)};return at(()=>ho(u,n=>{ve(r().length,0)?n(d):n(f,!1)}),"if",tl,29,6),Pe(()=>s=To(l,1,"dropdown-menu",null,s,{active:e()})),oo(n,a),ut(i)}Ur(["click","keydown"]),ol[zn]="src/ui/components/viewer/pc/NavControls.svelte";var el=Hr(no('<div class="lb-menu-container"><button><!> <span>LB</span></button> <!></div>'),ol[zn],[[103,6,[[104,8,[[119,10]]]]]]),rl=Hr(no('<nav class="nav-controls"><button class="nav-btn prev-btn" title="ì´ì „ íŽ˜ì´ì§€"><!></button> <span class="page-indicator"> </span> <button class="nav-btn next-btn" title="ë‹¤ìŒ íŽ˜ì´ì§€"><!></button> <div class="nav-right-buttons"><!> <div class="settings-menu-container"><button class="nav-icon-btn settings-btn" title="ì„¤ì •"><!></button> <!></div></div></nav>'),ol[zn],[[80,0,[[81,2],[90,2],[92,2],[101,2,[[130,4,[[131,6]]]]]]]]);function ol(n,t){go(new.target),ct(t,!0,ol);let e=wi(t,"currentSpread",3,0),r=wi(t,"totalSpreads",3,1),o=wi(t,"isFirst",3,!0),i=wi(t,"isLast",3,!0),a=wi(t,"prevDisabled",3,!1),l=wi(t,"nextDisabled",3,!1),s=wi(t,"settings",19,()=>({fontSize:17,lineHeight:1.9,theme:"light"})),c=wi(t,"lbModules",19,()=>[]),u=wi(t,"isLBLoading",3,!1),d=$n(ne(!1),"isSettingsOpen"),f=$n(ne(!1),"isLBMenuOpen");function g(){ee(d,!1),ee(f,!1)}function v(n){var e;null==(e=t.onSettingsChange)||e.call(t,n)}function p(){var n;g(),null==(n=t.onOpenCustomCss)||n.call(t)}function h(n){var e;g(),null==(e=t.onLBModuleClick)||e.call(t,n)}var b={...vo()},m=rl();Dr("click",pe,function(n){const t=n.target.closest(".settings-menu-container"),e=n.target.closest(".lb-menu-container");!t&&kr(d)&&ee(d,!1),!e&&kr(f)&&ee(f,!1)});var w=Ae(m);w.__click=function(...n){Qr(()=>t.onPrev,this,n,ol,[83,13])};var y=Ae(w);at(()=>ga(y,{size:28}),"component",ol,87,4,{componentTag:"ChevronLeft"});var I=Ge(w,2),C=Ae(I),x=Ge(I,2);x.__click=function(...n){Qr(()=>t.onNext,this,n,ol,[94,13])};var A=Ae(x);at(()=>va(A,{size:28}),"component",ol,98,4,{componentTag:"ChevronRight"});var k=Ae(Ge(x,2)),G=n=>{var t=el(),e=Ae(t);let r;e.__click=n=>{n.stopPropagation(),u()||(ee(f,!kr(f)),kr(f)&&ee(d,!1))};var o=Ae(e),i=n=>{at(()=>ha(n,{size:18}),"component",ol,115,12,{componentTag:"Loader2"})},a=n=>{at(()=>pa(n,{size:18}),"component",ol,117,12,{componentTag:"Layers"})};at(()=>ho(o,n=>{u()?n(i):n(a,!1)}),"if",ol,114,10);var l=Ge(e,2);at(()=>tl(l,{get isOpen(){return kr(f)},get modules(){return c()},onModuleClick:h,onClose:()=>ee(f,!1)}),"component",ol,121,8,{componentTag:"LBModuleMenu"}),Pe(()=>{r=To(e,1,"nav-icon-btn lb-btn",null,r,{loading:u()}),e.disabled=u(),ei(e,"title",u()?"LB ëª¨ë“ˆ ì²˜ë¦¬ ì¤‘...":"LB ëª¨ë“ˆ")}),oo(n,t)};at(()=>ho(k,n=>{(c().length>0||u())&&n(G)}),"if",ol,102,4);var _=Ae(Ge(k,2));_.__click=n=>{n.stopPropagation(),ee(d,!kr(d)),kr(d)&&ee(f,!1)};var L=Ae(_);at(()=>ba(L,{size:18}),"component",ol,139,8,{componentTag:"Settings"});var S=Ge(_,2);return at(()=>Qa(S,{get isOpen(){return kr(d)},get settings(){return s()},onSettingsChange:v,onOpenCustomCss:p,onClose:()=>ee(d,!1)}),"component",ol,141,6,{componentTag:"SettingsMenu"}),Pe(()=>{w.disabled=o()&&a(),lo(C,`${e()+1} / ${r()??""}`),x.disabled=i()&&l()}),oo(n,m),ut(b)}Ur(["click"]);const il="@font-face {\n  font-family: 'ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤';\n  src: url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.eot);\n  src:\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.eot?#iefix)\n      format('embedded-opentype'),\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.woff)\n      format('woff'),\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/NanumSquareNeo/NanumSquareNeoTTF-bRg.ttf)\n      format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n@font-face {\n  font-family: 'ì—ìŠ¤ì½”ì–´ë“œë¦¼';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/S-CoreDream-3Light.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ë ˆíŽ˜ë¦¬í¬ì¸íŠ¸';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/LeferiPoint-WhiteObliqueA.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'í”Œë ‰ìŠ¤';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_20-07@1.0/IBMPlexSansKR-Regular.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ìŠ¤ìœ„íŠ¸';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2304-2@1.0/SUITE-Regular.woff2')\n    format('woff2');\n}\n@font-face {\n  font-family: 'ì˜¤ë¥´ë¹—';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2310@1.0/Orbit-Regular.woff2')\n    format('woff2');\n}\n@font-face {\n  font-family: 'ìŠ¤ì¿¨ì˜¤ë¥´ë¹—';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2307-2@1.0/HakgyoansimWoojuR.woff2')\n    format('woff2');\n}\n@font-face {\n  font-family: 'í”„ë¦¬í‹°ë‚˜ìž‡';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.1/Cafe24Oneprettynight.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ì„œë¼ìš´ë“œì—ì–´';\n  src: url('https://gcore.jsdelivr.net/gh/projectnoonnu/noonfonts_2105_2@1.0/Cafe24SsurroundAir.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ê³ ìš´ë‹ì›€';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunDodum-Regular.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ê³ ìš´ë°”íƒ•';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2108@1.1/GowunBatang-Regular.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ë¦¬ë””ë°”íƒ•';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_twelve@1.0/RIDIBatang.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ë§ˆë£¨ë¶€ë¦¬';\n  src: url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.eot);\n  src:\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.eot?#iefix)\n      format('embedded-opentype'),\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.woff2)\n      format('woff2'),\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.woff)\n      format('woff'),\n    url(https://hangeul.pstatic.net/hangeul_static/webfont/MaruBuri/MaruBuri-Regular.ttf)\n      format('truetype');\n}\n@font-face {\n  font-family: 'ë„ìŠ¤ê³ ë”•';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_eight@1.0/DOSGothic.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ìŠ¤íƒ€ë”ìŠ¤íŠ¸';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.1/PFStardust.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'í”½ì‹œë“œì‹œìŠ¤';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_six@1.2/DungGeunMo.woff')\n    format('woff');\n}\n@font-face {\n  font-family: 'ë„¤ì˜¤ë‘¥ê·¼ëª¨';\n  src: url('https://fastly.jsdelivr.net/gh/projectnoonnu/noonfonts_2001@1.3/NeoDunggeunmo.woff')\n    format('woff');\n}\n\n/* ===== Risu Chat Styles ===== */\n.risu-chat > div {\n  padding: unset !important;\n  margin: unset !important;\n  justify-content: unset !important;\n  align-items: unset !important;\n}\n.risu-chat > div > div {\n  margin: unset !important;\n  justify-content: unset !important;\n}\n.pc-viewer-container code {\n  word-break: break-word;\n}\n/* ===== PC Book Viewer Styles ===== */\n.pc-viewer-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; /* JSì—ì„œ ë™ì ìœ¼ë¡œ ì œì–´ */\n}\n\n.pc-viewer-container > div {\n  padding: unset !important;\n  margin: unset !important;\n  justify-content: unset !important;\n  align-items: unset !important;\n}\n.pc-viewer-container > div > div {\n  margin: unset !important;\n  justify-content: unset !important;\n}\n\n/* CSS ë³€ìˆ˜ ì •ì˜ */\n.book-viewer-root {\n  /* í”„ë¦¬ë¯¸ì—„ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */\n  --bv-bg-gradient-start: #1a1f35;\n  --bv-bg-gradient-end: #2d3654;\n  --bv-page-color: #fdfbf7;\n  --bv-page-shadow: #f5f0e8;\n  --bv-text-color: #2c2c2c;\n  --bv-text-secondary: #6b6b6b;\n  --bv-accent-color: #c9a66b;\n  --bv-accent-hover: #b8935a;\n  --bv-divider-color: #e8e4dc;\n  --bv-spine-gradient: linear-gradient(\n    90deg,\n    #d4cfc4 0%,\n    hsl(41, 13%, 76%) 50%,\n    #d4cfc4 100%\n  );\n\n  /* ê·¸ë¦¼ìž ì‹œìŠ¤í…œ */\n  --bv-shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);\n  --bv-shadow-medium: 0 8px 40px rgba(0, 0, 0, 0.12);\n  --bv-shadow-strong: 0 20px 60px rgba(0, 0, 0, 0.2);\n  --bv-shadow-inner: inset 0 0 30px rgba(0, 0, 0, 0.03);\n\n  /* íƒ€ì´í¬ê·¸ëž˜í”¼ */\n  --bv-font-size: 17px;\n  --bv-line-height: 1.9;\n  --bv-font-family:\n    'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;\n  --bv-font-serif: 'Noto Serif KR', 'Crimson Text', 'Georgia', serif;\n\n  /* ì• ë‹ˆë©”ì´ì…˜ */\n  --bv-transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n  --bv-transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  --bv-transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* í°íŠ¸ ì»¬ëŸ¬ (Light) */\n  --FontColorStandard: #2c2c2c;\n  --FontColorItalic: #5a5a5a;\n  --FontColorBold: #1a1a1a;\n  --FontColorItalicBold: #5a5a5a;\n  --FontColorQuote1: #0e7490;\n  --FontColorQuote2: #c2410c;\n\n  --bv-font-color: var(--FontColorStandard);\n  --bv-mark1-color: var(--FontColorQuote1);\n  --bv-mark2-color: var(--FontColorQuote2);\n  --bv-em-color: var(--FontColorItalic);\n}\n.book-viewer-root [data-theme='light'] {\n  /* í”„ë¦¬ë¯¸ì—„ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */\n  --bv-bg-gradient-start: #1a1f35;\n  --bv-bg-gradient-end: #2d3654;\n  --bv-page-color: #fdfbf7;\n  --bv-page-shadow: #f5f0e8;\n  --bv-text-color: #2c2c2c;\n  --bv-text-secondary: #6b6b6b;\n  --bv-accent-color: #c9a66b;\n  --bv-accent-hover: #b8935a;\n  --bv-divider-color: #e8e4dc;\n  --bv-spine-gradient: linear-gradient(\n    90deg,\n    #d4cfc4 0%,\n    hsl(41, 13%, 76%) 50%,\n    #d4cfc4 100%\n  );\n\n  /* ê·¸ë¦¼ìž ì‹œìŠ¤í…œ */\n  --bv-shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.08);\n  --bv-shadow-medium: 0 8px 40px rgba(0, 0, 0, 0.12);\n  --bv-shadow-strong: 0 20px 60px rgba(0, 0, 0, 0.2);\n  --bv-shadow-inner: inset 0 0 30px rgba(0, 0, 0, 0.03);\n\n  /* íƒ€ì´í¬ê·¸ëž˜í”¼ */\n  --bv-font-size: 17px;\n  --bv-line-height: 1.9;\n  --bv-font-family:\n    'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;\n  --bv-font-serif: 'Noto Serif KR', 'Crimson Text', 'Georgia', serif;\n\n  /* ì• ë‹ˆë©”ì´ì…˜ */\n  --bv-transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);\n  --bv-transition-smooth: 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  --bv-transition-slow: 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n\n  /* í°íŠ¸ ì»¬ëŸ¬ (Light) */\n  --FontColorStandard: #2c2c2c;\n  --FontColorItalic: #5a5a5a;\n  --FontColorBold: #1a1a1a;\n  --FontColorItalicBold: #5a5a5a;\n  --FontColorQuote1: #0e7490;\n  --FontColorQuote2: #c2410c;\n\n  --bv-font-color: var(--FontColorStandard);\n  --bv-mark1-color: var(--FontColorQuote1);\n  --bv-mark2-color: var(--FontColorQuote2);\n  --bv-em-color: var(--FontColorItalic);\n}\n\n/* í…Œë§ˆ: Sepia */\n.book-viewer-root[data-theme='sepia'] {\n  --bv-bg-gradient-start: #3d3830;\n  --bv-bg-gradient-end: #4a4238;\n  --bv-page-color: #f7f0e3;\n  --bv-page-shadow: #ebe4d7;\n  --bv-text-color: #3d2e1c;\n  --bv-text-secondary: #7a6b5a;\n  --bv-accent-color: #8b7355;\n  --bv-divider-color: #d4c9b8;\n  --bv-spine-gradient: linear-gradient(\n    90deg,\n    #c4b9a8 0%,\n    #b8ad9c 50%,\n    #c4b9a8 100%\n  );\n\n  /* í°íŠ¸ ì»¬ëŸ¬ (Sepia) */\n  --FontColorBold: #2a1f10;\n  --FontColorItalicBold: #6b5a48;\n\n  --FontColorStandard: #3d2e1c;\n  --FontColorQuote1: #1a6b6b;\n  --FontColorQuote2: #a85d20;\n  --FontColorItalic: #6b5a48;\n  --bv-font-color: var(--FontColorStandard);\n  --bv-mark1-color: var(--FontColorQuote1);\n  --bv-mark2-color: var(--FontColorQuote2);\n  --bv-em-color: var(--FontColorItalic);\n}\n\n/* í…Œë§ˆ: Dark */\n.book-viewer-root[data-theme='dark'] {\n  --bv-bg-gradient-start: #0d1117;\n  --bv-bg-gradient-end: #161b22;\n  --bv-page-color: var(--risu-theme-bgcolor);\n  --bv-page-shadow: #151a20;\n  --bv-text-color: #c9d1d9;\n  --bv-text-secondary: #8b949e;\n  --bv-accent-color: #d4a574;\n  --bv-accent-hover: #e0b584;\n  --bv-divider-color: #30363d;\n  --bv-spine-gradient: linear-gradient(\n    90deg,\n    #21262d 0%,\n    #30363d 50%,\n    #21262d 100%\n  );\n  --FontColorStandard: #fafafa;\n  --FontColorItalic: #8c8d93;\n  --FontColorBold: #fafafa;\n  --FontColorItalicBold: #8c8d93;\n  --FontColorQuote1: #8be9fd;\n  --FontColorQuote2: #ffb86c;\n\n  --bv-font-color: var(--FontColorStandard);\n  --bv-mark1-color: var(--FontColorQuote1);\n  --bv-mark2-color: var(--FontColorQuote2);\n  --bv-em-color: var(--FontColorItalic);\n}\n\n/* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */\n.text-content p {\n  margin-top: 0.55em;\n}\n\n.text-content h1 {\n  font-weight: 800;\n  font-size: 2.25em;\n  line-height: 1.1111111;\n  color: var(--bv-text-color);\n}\n\n.text-content h2 {\n  font-weight: 700;\n  font-size: 1.5em;\n  line-height: 1.3333333;\n  color: var(--bv-text-color);\n}\n\n.text-content h3 {\n  font-weight: 600;\n  font-size: 1.25em;\n  line-height: 1.6;\n  color: var(--bv-text-color);\n}\n\n/* ===== ì±… ëž˜í¼ (ì „ì²´ í™”ë©´) ===== */\n.book-viewer-root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; /* JSì—ì„œ ë¶€ëª¨ ìš”ì†Œ(.risu-chat)ì˜ ë†’ì´ë¥¼ ë™ì ìœ¼ë¡œ ì œì–´ */\n  display: flex !important;\n  flex-direction: column;\n  overflow: hidden;\n  z-index: 5;\n  font-family: var(--bv-font-family);\n  background: linear-gradient(\n    135deg,\n    var(--bv-bg-gradient-start) 0%,\n    var(--bv-bg-gradient-end) 100%\n  );\n  user-select: none;\n  border-bottom: 1px solid var(--bv-divider-color);\n}\n\n/* ë°°ê²½ íŒ¨í„´ */\n.book-viewer-root::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image:\n    radial-gradient(\n      circle at 20% 80%,\n      rgba(201, 166, 107, 0.05) 0%,\n      transparent 50%\n    ),\n    radial-gradient(\n      circle at 80% 20%,\n      rgba(201, 166, 107, 0.03) 0%,\n      transparent 50%\n    );\n  pointer-events: none;\n  z-index: 0;\n}\n\n/* ===== í—¤ë” ì˜ì—­ ===== */\n.book-viewer-root .book-header {\n  display: flex !important;\n  align-items: center;\n  justify-content: space-between;\n  padding: 12px 24px;\n  background: var(--bv-page-color);\n  border-bottom: 1px solid var(--bv-divider-color);\n  flex-shrink: 0;\n  z-index: 1;\n}\n\n.book-viewer-root .header-left {\n  display: flex !important;\n  align-items: center;\n  gap: 12px;\n  min-width: 0;\n  flex: 1;\n  margin-left: 30px;\n}\n\n.book-viewer-root .header-thumbnail {\n  width: 40px;\n  height: 40px;\n  min-width: 40px;\n  border-radius: 8px;\n  background-size: cover;\n  background-position: center;\n  background-color: var(--bv-divider-color);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n.book-viewer-root .header-info {\n  display: flex !important;\n  align-items: center;\n  gap: 12px;\n  min-width: 0;\n  flex: 1;\n}\n\n.book-viewer-root .header-name {\n  font-size: 15px;\n  font-weight: 600;\n  color: var(--bv-text-color);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.book-viewer-root .header-buttons {\n  display: flex !important;\n  align-items: center;\n  gap: 4px;\n}\n\n.book-viewer-root .header-buttons button {\n  background: none;\n  border: none;\n  padding: 6px;\n  cursor: pointer;\n  color: var(--bv-text-secondary);\n  border-radius: 6px;\n  transition: all var(--bv-transition-fast);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.book-viewer-root .header-buttons button:hover {\n  background: rgba(0, 0, 0, 0.05);\n  color: var(--bv-accent-color);\n}\n\n.book-viewer-root[data-theme='dark'] .header-buttons button:hover {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.book-viewer-root .header-buttons button :global(svg) {\n  width: 18px;\n  height: 18px;\n}\n\n.book-viewer-root .header-right {\n  display: flex !important;\n  align-items: center;\n  gap: 8px;\n  flex-shrink: 0;\n}\n\n.book-viewer-root .chat-index-nav {\n  display: flex !important;\n  align-items: center;\n  gap: 4px;\n}\n\n.book-viewer-root .chat-nav-btn {\n  background: none;\n  border: none;\n  padding: 4px;\n  cursor: pointer;\n  color: var(--bv-text-secondary);\n  border-radius: 4px;\n  transition: all var(--bv-transition-fast);\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n.book-viewer-root .chat-nav-btn:hover:not(:disabled) {\n  background: rgba(0, 0, 0, 0.05);\n  color: var(--bv-accent-color);\n}\n\n.book-viewer-root .chat-nav-btn:disabled {\n  opacity: 0.3;\n  cursor: not-allowed;\n}\n\n.book-viewer-root[data-theme='dark'] .chat-nav-btn:hover:not(:disabled) {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.book-viewer-root .header-chat-index {\n  font-size: 13px;\n  font-weight: 500;\n  color: var(--bv-text-secondary);\n  background: rgba(0, 0, 0, 0.04);\n  padding: 4px 10px;\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n\n.book-viewer-root .chat-index-total {\n  font-size: 11px;\n  opacity: 0.7;\n}\n\n.book-viewer-root[data-theme='dark'] .header-chat-index {\n  background: rgba(255, 255, 255, 0.08);\n}\n\n.book-viewer-root .close-btn {\n  background: none;\n  border: none;\n  padding: 6px;\n  cursor: pointer;\n  color: var(--bv-text-secondary);\n  border-radius: 6px;\n  transition: all var(--bv-transition-fast);\n  display: flex !important;\n  align-items: center;\n  justify-content: center;\n}\n\n.book-viewer-root .close-btn:hover {\n  background: rgba(0, 0, 0, 0.05);\n  color: var(--bv-accent-color);\n}\n\n/* ===== íŽ˜ì´ì§€ ì˜ì—­ ===== */\n.book-viewer-root .book-pages {\n  position: relative;\n  display: flex !important;\n  flex: 1;\n  min-height: 0;\n  z-index: 1;\n}\n\n.book-viewer-root .page {\n  flex: 1;\n  background: var(--bv-page-color);\n  position: relative;\n  overflow: hidden;\n}\n\n/* ì¢…ì´ ì§ˆê° íš¨ê³¼ */\n.book-viewer-root .page::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background:\n    linear-gradient(\n      90deg,\n      rgba(0, 0, 0, 0.02) 0%,\n      transparent 5%,\n      transparent 95%,\n      rgba(0, 0, 0, 0.02) 100%\n    ),\n    url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E\");\n  pointer-events: none;\n  z-index: 1;\n}\n\n.book-viewer-root[data-theme='dark'] .page::before {\n  opacity: 0.5;\n}\n\n.book-viewer-root .page-left {\n  box-shadow: var(--bv-shadow-inner);\n}\n\n.book-viewer-root .page-left::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 40px;\n  height: 100%;\n  background: linear-gradient(90deg, transparent 0%, rgba(0, 0, 0, 0.03) 100%);\n  pointer-events: none;\n}\n\n.book-viewer-root .page-right {\n  box-shadow: var(--bv-shadow-inner);\n}\n\n.book-viewer-root .page-right::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 40px;\n  height: 100%;\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.03) 0%, transparent 100%);\n  pointer-events: none;\n}\n\n/* ===== ì±…ë“± (ìŠ¤íŒŒì¸) ===== */\n.book-viewer-root .book-spine {\n  width: 8px;\n  background: var(--bv-spine-gradient);\n  position: relative;\n  box-shadow:\n    inset 2px 0 4px rgba(0, 0, 0, 0.1),\n    inset -2px 0 4px rgba(0, 0, 0, 0.1);\n}\n\n.book-viewer-root .book-spine::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 1px;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.1);\n}\n\n/* ===== íŽ˜ì´ì§€ ì½˜í…ì¸  ===== */\n.book-viewer-root .page-content {\n  padding: 50px 60px 10px;\n  height: 100%;\n  display: flex !important;\n  flex-direction: column;\n  color: var(--bv-text-color);\n  position: relative;\n  z-index: 2;\n}\n\n.book-viewer-root .page-content > .chattext [class*='-image-wrapper'] {\n  max-height: 100%;\n}\n.book-viewer-root .page-content > .chattext [class*='-image-container'],\n.book-viewer-root .page-content > .chattext [class*='-image-cell'] {\n  min-height: 98%;\n  max-height: 100%;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n  height: -webkit-fill-available;\n  width: -webkit-fill-available;\n}\n.book-viewer-root .page-content > .chattext .x-risu-image-container:hover {\n}\n\n.book-viewer-root .page-content .x-risu-image-cell {\n  aspect-ratio: auto;\n}\n\n.book-viewer-root .text-content {\n  flex: 1;\n  overflow-y: auto;\n  font-size: var(--bv-font-size) !important;\n  line-height: var(--bv-line-height) !important;\n  font-family: var(--bv-font-family) !important;\n  text-align: -webkit-auto;\n  word-break: keep-all;\n  letter-spacing: -0.01em;\n  padding-right: 10px;\n  user-select: text;\n  -webkit-user-select: text;\n  cursor: text;\n}\n\n.book-viewer-root .text-content * {\n  user-select: text;\n  -webkit-user-select: text;\n}\n\n/* í—¤ë”© ìŠ¤íƒ€ì¼ */\n.book-viewer-root .text-content :global(h1),\n.book-viewer-root .text-content :global(h2),\n.book-viewer-root .text-content :global(h3) {\n  margin: 2em 0 1em;\n  text-indent: 0;\n  font-weight: 600;\n  color: #1a1a1a;\n  letter-spacing: -0.02em;\n}\n\n.book-viewer-root .text-content :global(h1) {\n  font-size: 1.8em;\n  border-bottom: 2px solid var(--bv-accent-color);\n  padding-bottom: 0.5em;\n}\n\n.book-viewer-root .text-content :global(h2) {\n  font-size: 1.4em;\n}\n\n/* Mark ìŠ¤íƒ€ì¼ */\n.book-viewer-root .text-content :global(mark),\n.book-viewer-root .text-content :global(mark[risu-mark]) {\n  display: inline;\n  background: linear-gradient(\n    120deg,\n    rgba(201, 166, 107, 0.2) 0%,\n    rgba(201, 166, 107, 0.3) 100%\n  );\n  color: inherit;\n  padding: 0.1em 0.3em;\n  border-radius: 3px;\n  flex-direction: unset;\n  align-items: unset;\n  gap: unset;\n}\n\n/* ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */\n.book-viewer-root .text-content:has(img) {\n  position: static;\n}\n\n.book-viewer-root .text-content :global(img) {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center;\n  margin: 0;\n  z-index: 10;\n}\n\n.book-viewer-root .page-content:has(img) .page-number {\n  display: none;\n}\n\n/* ===== íŽ˜ì´ì§€ ë²ˆí˜¸ ===== */\n.book-viewer-root .page-number {\n  font-size: 13px;\n  color: var(--bv-text-secondary);\n  font-weight: 500;\n  letter-spacing: 0.05em;\n}\n\n.book-viewer-root .left-page-num {\n  text-align: left;\n}\n.book-viewer-root .right-page-num {\n  text-align: right;\n}\n\n/* ===== í´ë¦­ ì˜ì—­ ===== */\n.book-viewer-root .click-area {\n  position: absolute;\n  top: 0;\n  width: 5%;\n  height: 100%;\n  z-index: 10;\n  cursor: pointer;\n}\n\n.book-viewer-root .click-left {\n  left: 0;\n  cursor:\n    url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%23c9a66b' stroke-width='2'%3E%3Cpolyline points='15 18 9 12 15 6'%3E%3C/polyline%3E%3C/svg%3E\")\n      16 16,\n    w-resize;\n}\n\n.book-viewer-root .click-right {\n  right: 0;\n  cursor:\n    url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 24 24' fill='none' stroke='%23c9a66b' stroke-width='2'%3E%3Cpolyline points='9 18 15 12 9 6'%3E%3C/polyline%3E%3C/svg%3E\")\n      16 16,\n    e-resize;\n}\n\n.book-viewer-root .click-area::after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  width: 50px;\n  height: 100px;\n  opacity: 0;\n  transition: opacity var(--bv-transition-smooth);\n  pointer-events: none;\n}\n\n.book-viewer-root .click-left::after {\n  left: 30px;\n  background: radial-gradient(\n    ellipse at left,\n    rgba(201, 166, 107, 0.15),\n    transparent 70%\n  );\n}\n\n.book-viewer-root .click-right::after {\n  right: 30px;\n  background: radial-gradient(\n    ellipse at right,\n    rgba(201, 166, 107, 0.15),\n    transparent 70%\n  );\n}\n\n.book-viewer-root .click-area:hover::after {\n  opacity: 1;\n}\n\n/* ===== ë„¤ë¹„ê²Œì´ì…˜ ì»¨íŠ¸ë¡¤ ===== */\n.book-viewer-root .nav-controls {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 32px;\n  background: var(--bv-page-color);\n  padding: 14px 40px;\n  border-top: 1px solid rgba(201, 166, 107, 0.12);\n  flex-shrink: 0;\n  z-index: 1;\n}\n\n.book-viewer-root .nav-btn {\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 10px;\n  border-radius: 50%;\n  transition: all var(--bv-transition-fast);\n  color: var(--bv-accent-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.book-viewer-root .nav-btn :global(svg) {\n  transition: transform var(--bv-transition-fast);\n}\n\n.book-viewer-root .nav-btn:hover:not(:disabled) {\n  background: rgba(201, 166, 107, 0.12);\n}\n.book-viewer-root .nav-btn:hover:not(:disabled) :global(svg) {\n  transform: scale(1.1);\n}\n.book-viewer-root .nav-btn:active:not(:disabled) {\n  background: transparent !important;\n}\n.book-viewer-root .nav-btn:active:not(:disabled) :global(svg) {\n  transform: scale(0.95);\n}\n.book-viewer-root .nav-btn:disabled {\n  opacity: 0.25;\n  cursor: not-allowed;\n}\n\n.book-viewer-root .page-indicator {\n  font-size: 14px;\n  color: var(--bv-text-color);\n  min-width: 90px;\n  text-align: center;\n  font-weight: 600;\n  letter-spacing: 0.02em;\n  font-variant-numeric: tabular-nums;\n}\n\n/* ===== ë„¤ë¹„ê²Œì´ì…˜ ìš°ì¸¡ ë²„íŠ¼ ê·¸ë£¹ ===== */\n.book-viewer-root .nav-right-buttons {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-left: auto;\n  padding-left: 20px;\n}\n\n.book-viewer-root .nav-icon-btn {\n  background: none;\n  border: 2px solid var(--bv-accent-color);\n  color: var(--bv-accent-color);\n  padding: 8px 12px;\n  cursor: pointer;\n  border-radius: 8px;\n  transition: all var(--bv-transition-fast);\n  font-size: 13px !important;\n  font-weight: 600 !important;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 4px;\n}\n\n.book-viewer-root .nav-icon-btn:hover {\n  background: var(--bv-accent-color);\n  color: white;\n}\n\n.book-viewer-root .nav-icon-btn :global(svg) {\n  width: 18px;\n  height: 18px;\n}\n\n/* ===== ì„¤ì • ì•„ì´í…œ ===== */\n.book-viewer-root .setting-item {\n  margin-bottom: 16px;\n}\n.book-viewer-root .setting-item:last-child {\n  margin-bottom: 0;\n}\n\n.book-viewer-root .setting-item label {\n  display: block;\n  margin-bottom: 8px;\n  font-size: 12px;\n  font-weight: 600;\n  color: var(--bv-text-color);\n  text-transform: uppercase;\n  letter-spacing: 0.06em;\n}\n\n.book-viewer-root .setting-item input[type='range'] {\n  width: 100%;\n  height: 5px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: #e8e4dc;\n  border-radius: 3px;\n  outline: none;\n  margin-bottom: 6px;\n}\n\n.book-viewer-root[data-theme='dark'] .setting-item input[type='range'] {\n  background: #30363d;\n}\n\n.book-viewer-root .setting-item input[type='range']::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 18px;\n  height: 18px;\n  background: var(--bv-accent-color);\n  border-radius: 50%;\n  cursor: pointer;\n  box-shadow: 0 2px 6px rgba(201, 166, 107, 0.4);\n  transition: all var(--bv-transition-fast);\n}\n\n.book-viewer-root\n  .setting-item\n  input[type='range']::-webkit-slider-thumb:hover {\n  transform: scale(1.1);\n}\n\n.book-viewer-root .setting-item input[type='range']::-moz-range-thumb {\n  width: 18px;\n  height: 18px;\n  background: var(--bv-accent-color);\n  border-radius: 50%;\n  cursor: pointer;\n  border: none;\n}\n\n.book-viewer-root .setting-item select {\n  width: 100%;\n  padding: 10px 14px;\n  border: 2px solid #e8e4dc;\n  border-radius: 10px;\n  font-size: 13px;\n  background: #fff;\n  cursor: pointer;\n  transition: all var(--bv-transition-fast);\n  appearance: none;\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23c9a66b' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n  background-position: right 10px center;\n  background-size: 16px;\n}\n.book-viewer-root .setting-item select:hover {\n  border-color: var(--bv-accent-color);\n}\n.book-viewer-root .setting-item select:focus {\n  outline: none;\n  border-color: var(--bv-accent-color);\n  box-shadow: 0 0 0 3px rgba(201, 166, 107, 0.15);\n}\n\n.book-viewer-root .setting-item span {\n  font-size: 11px;\n  color: var(--bv-text-secondary);\n  font-weight: 500;\n}\n\n.book-viewer-root .custom-css-btn {\n  width: 100%;\n  padding: 10px 16px;\n  background: var(--bv-accent-color);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 13px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all var(--bv-transition-fast);\n}\n\n.book-viewer-root .custom-css-btn:hover {\n  background: var(--bv-accent-hover);\n  transform: translateY(-1px);\n}\n\n/* ===== í† ê¸€ ìŠ¤ìœ„ì¹˜ ===== */\n.book-viewer-root .toggle-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 6px 0;\n  border-top: 1px solid rgba(201, 166, 107, 0.15);\n  border-bottom: unset;\n}\n\n.book-viewer-root .toggle-content {\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n}\n\n.book-viewer-root .toggle-label {\n  font-size: 12px;\n  font-weight: 600;\n  color: var(--bv-font-color);\n  text-transform: uppercase;\n  letter-spacing: 0.06em;\n}\n\n.book-viewer-root .toggle-description {\n  font-size: 11px;\n  color: var(--bv-text-secondary);\n  font-weight: 400;\n  text-transform: none;\n  letter-spacing: 0;\n}\n\n.book-viewer-root .toggle-switch {\n  position: relative;\n  display: inline-block;\n  width: 44px;\n  height: 24px;\n  flex-shrink: 0;\n}\n\n.book-viewer-root .toggle-switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.book-viewer-root .toggle-slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #e8e4dc;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border-radius: 24px;\n}\n\n.book-viewer-root .toggle-slider::before {\n  position: absolute;\n  content: '';\n  height: 18px;\n  width: 18px;\n  left: 3px;\n  bottom: 3px;\n  background: white;\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  border-radius: 50%;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);\n}\n\n.book-viewer-root .toggle-switch input:checked + .toggle-slider {\n  background: var(--bv-accent-color);\n  box-shadow: 0 0 10px rgba(201, 166, 107, 0.35);\n}\n\n.book-viewer-root .toggle-switch input:checked + .toggle-slider::before {\n  transform: translateX(20px);\n}\n\n.book-viewer-root .toggle-switch:hover .toggle-slider {\n  box-shadow: 0 0 0 3px rgba(201, 166, 107, 0.15);\n}\n\n/* ë‹¤í¬ í…Œë§ˆ í† ê¸€ */\n.book-viewer-root[data-theme='dark'] .toggle-slider {\n  background: #30363d;\n}\n\n.book-viewer-root[data-theme='dark'] .toggle-slider::before {\n  background: #8b949e;\n}\n\n.book-viewer-root[data-theme='dark']\n  .toggle-switch\n  input:checked\n  + .toggle-slider::before {\n  background: white;\n}\n.book-viewer-root[data-theme='dark'] .setting-item select {\n  background-color: #21262d;\n  border-color: #30363d;\n  color: var(--bv-font-color);\n}\n\n.book-viewer-root[data-theme='light'] .setting-item select {\n  color: var(--bv-font-color);\n}\n\n.book-viewer-root[data-theme='sepia'] .setting-item select {\n  color: var(--bv-font-color);\n}\n\n/* LB ë²„íŠ¼ ë¡œë”© ìƒíƒœ */\n.book-viewer-root .nav-icon-btn.loading {\n  opacity: 0.7;\n  cursor: wait;\n}\n\n.book-viewer-root .nav-icon-btn.loading svg {\n  animation: spin 1s linear infinite;\n}\n\n@keyframes spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* ===== ë“œë¡­ë‹¤ìš´ ë©”ë‰´ ===== */\n.book-viewer-root .dropdown-container {\n  position: relative;\n}\n\n.book-viewer-root .dropdown-menu {\n  display: none;\n  position: absolute;\n  bottom: calc(100% + 40px);\n  right: 0;\n  background: rgba(255, 255, 255, 0.98);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  padding: 16px;\n  border-radius: 16px;\n  box-shadow: var(--bv-shadow-strong);\n  min-width: 280px;\n  max-width: 320px;\n  border: 1px solid rgba(201, 166, 107, 0.15);\n  z-index: 200;\n}\n\n.book-viewer-root .dropdown-menu.active {\n  display: block;\n  animation: dropdownFadeIn 0.25s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n@keyframes dropdownFadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.book-viewer-root[data-theme='dark'] .dropdown-menu {\n  background: rgba(28, 33, 40, 0.98);\n}\n\n.book-viewer-root .dropdown-header {\n  font-size: 14px;\n  font-weight: 700;\n  color: var(--bv-text-color);\n  padding-bottom: 12px;\n  margin-bottom: 12px;\n  border-bottom: 1px solid var(--bv-divider-color);\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n}\n\n/* ===== LB ëª¨ë“ˆ ë¦¬ìŠ¤íŠ¸ ===== */\n.book-viewer-root .lb-modules-list {\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.book-viewer-root .lb-module-item {\n  padding: 10px 12px;\n  margin-bottom: 6px;\n  background: rgba(201, 166, 107, 0.08);\n  border-radius: 8px;\n  cursor: pointer;\n  transition: all var(--bv-transition-fast);\n  font-size: 13px;\n  color: var(--bv-text-color);\n}\n\n.book-viewer-root .lb-module-item:hover {\n  background: rgba(201, 166, 107, 0.2);\n}\n.book-viewer-root .lb-module-item:last-child {\n  margin-bottom: 0;\n}\n\n.book-viewer-root[data-theme='dark'] .lb-module-item {\n  background: rgba(212, 165, 116, 0.1);\n}\n\n.book-viewer-root[data-theme='dark'] .lb-module-item:hover {\n  background: rgba(212, 165, 116, 0.2);\n}\n\n/* ===== ëª¨ë‹¬ ===== */\n.book-viewer-root .modal-overlay {\n  display: none !important;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.6);\n  backdrop-filter: blur(4px);\n  z-index: 1100;\n  justify-content: center;\n  align-items: center;\n}\n\n.book-viewer-root .modal-overlay.active {\n  display: flex;\n  animation: modalFadeIn 0.3s ease;\n}\n\n@keyframes modalFadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n.book-viewer-root .modal-content {\n  background: var(--bv-page-color);\n  border-radius: 16px;\n  width: 90%;\n  max-width: 600px;\n  max-height: 80vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--bv-shadow-strong);\n  animation: modalSlideIn 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.book-viewer-root[data-theme='dark'] .modal-content {\n  background: #1c2128;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.book-viewer-root .modal-header {\n  display: flex !important;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20px 24px;\n  border-bottom: 1px solid var(--bv-divider-color);\n}\n\n.book-viewer-root .modal-header h3 {\n  font-size: 18px;\n  font-weight: 700;\n  color: var(--bv-text-color);\n  margin: 0;\n}\n\n.book-viewer-root .modal-close {\n  background: none;\n  border: none;\n  font-size: 24px;\n  color: var(--bv-text-secondary);\n  cursor: pointer;\n  padding: 4px 8px;\n  border-radius: 6px;\n  transition: all var(--bv-transition-fast);\n}\n\n.book-viewer-root .modal-close:hover {\n  background: rgba(0, 0, 0, 0.05);\n  color: var(--bv-text-color);\n}\n\n.book-viewer-root[data-theme='dark'] .modal-close:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n.book-viewer-root .modal-body {\n  flex: 1;\n  padding: 20px 24px;\n  overflow: auto;\n}\n\n.book-viewer-root .modal-body textarea {\n  width: 100%;\n  height: 300px;\n  padding: 16px;\n  border: 2px solid var(--bv-divider-color);\n  border-radius: 12px;\n  font-family: 'Consolas', 'Monaco', monospace;\n  font-size: 14px;\n  line-height: 1.6;\n  resize: vertical;\n  background: #fafafa;\n  color: var(--bv-text-color);\n}\n\n.book-viewer-root[data-theme='dark'] .modal-body textarea {\n  background: #0d1117;\n  border-color: #30363d;\n}\n\n.modal-body textarea:focus {\n  outline: none;\n  border-color: var(--bv-accent-color);\n  box-shadow: 0 0 0 3px rgba(201, 166, 107, 0.15);\n}\n\n.book-viewer-root .modal-footer {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  padding: 16px 24px;\n  border-top: 1px solid var(--bv-divider-color);\n}\n\n.book-viewer-root .modal-btn {\n  padding: 10px 20px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all var(--bv-transition-fast);\n}\n\n.book-viewer-root .modal-btn.primary {\n  background: var(--bv-accent-color);\n  color: white;\n  border: none;\n}\n\n.book-viewer-root .modal-btn.primary:hover {\n  background: var(--bv-accent-hover);\n}\n\n.book-viewer-root .modal-btn.secondary {\n  background: transparent;\n  color: var(--bv-text-secondary);\n  border: 2px solid var(--bv-divider-color);\n}\n\n.book-viewer-root .modal-btn.secondary:hover {\n  border-color: var(--bv-text-secondary);\n  color: var(--bv-text-color);\n}\n\n/* ===== ë°˜ì‘í˜• ===== */\n@media (max-width: 1200px) {\n  .book-viewer-root .page-content {\n    padding: 50px 40px 40px;\n  }\n  .book-viewer-root .text-content {\n    font-size: 16px;\n  }\n}\n\n@media (max-width: 900px) {\n  .book-viewer-root .book-header {\n    padding: 10px 16px;\n  }\n  .book-viewer-root .header-thumbnail {\n    width: 32px;\n    height: 32px;\n    min-width: 32px;\n    border-radius: 6px;\n  }\n  .book-viewer-root .header-name {\n    font-size: 14px;\n  }\n  .book-viewer-root .header-buttons button {\n    padding: 4px;\n  }\n  .book-viewer-root .header-buttons button :global(svg) {\n    width: 16px;\n    height: 16px;\n  }\n  .book-viewer-root .page-content {\n    padding: 40px 30px 35px;\n  }\n  .book-viewer-root .book-spine {\n    width: 4px;\n  }\n  .book-viewer-root .nav-controls {\n    padding: 12px 20px;\n    gap: 20px;\n  }\n}\n\n/* ===== Toast ===== */\n.book-viewer-root .viewer-toast {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n  width: unset !important;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.book-viewer-root .viewer-toast.showing {\n  opacity: 1;\n}\n\n/* í´ë¦­ ê°€ëŠ¥í•œ í† ìŠ¤íŠ¸ */\n.book-viewer-root .viewer-toast.clickable {\n  pointer-events: auto;\n  cursor: pointer;\n}\n\n.book-viewer-root .viewer-toast.clickable .toast-content {\n  transition:\n    transform 0.15s ease,\n    box-shadow 0.15s ease;\n}\n\n.book-viewer-root .viewer-toast.clickable:hover .toast-content {\n  transform: scale(1.02);\n  box-shadow: 0 6px 28px rgba(0, 0, 0, 0.4);\n}\n\n.book-viewer-root .viewer-toast.clickable:active .toast-content {\n  transform: scale(0.98);\n}\n\n.book-viewer-root .toast-content {\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  padding: 16px 32px;\n  border-radius: 12px;\n  font-size: 15px;\n  font-weight: 500;\n  text-align: center;\n  backdrop-filter: blur(8px);\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);\n  max-width: 400px;\n}\n\n/* PC í…Œë§ˆ ì§€ì› */\n:global(.book-viewer-root[data-theme='light']) .toast-content {\n  background: rgba(50, 50, 50, 0.9);\n}\n\n/* Mobile í…Œë§ˆ ì§€ì› */\n:global(.mobile-reader[data-theme='light']) .toast-content {\n  background: rgba(50, 50, 50, 0.9);\n}\n";ll[zn]="src/ui/components/viewer/pc/CustomCssModal.svelte";var al=Hr(no('<div><div class="modal-content"><div class="modal-header"><h3>ì‚¬ìš©ìž CSS</h3> <button class="modal-close">&times;</button></div> <div class="modal-body"><textarea placeholder="/* ì‚¬ìš©ìž ì •ì˜ CSSë¥¼ ìž…ë ¥í•˜ì„¸ìš” */"></textarea></div> <div class="modal-footer"><button class="modal-btn secondary">ì´ˆê¸°í™”</button> <button class="modal-btn primary">ì ìš©</button></div></div></div>'),ll[zn],[[44,0,[[45,2,[[46,4,[[47,6],[48,6]]],[51,4,[[52,6]]],[58,4,[[59,6],[62,6]]]]]]]]);function ll(n,t){go(new.target),ct(t,!0,ll);let e=wi(t,"isOpen",3,!1),r=wi(t,"initialCss",3,""),o=$n(ne(""),"cssValue");je(()=>{e()&&ee(o,r()||il,!0)});var i={...vo()},a=al();let l;Dr("keydown",pe,function(n){var e;ve(n.key,"Escape")&&(null==(e=t.onClose)||e.call(t))}),a.__click=function(n){var e;ve(n.target,n.currentTarget)&&(null==(e=t.onClose)||e.call(t))};var s=Ae(a),c=Ae(s);Ge(Ae(c),2).__click=function(...n){Qr(()=>t.onClose,this,n,ll,[48,43])};var u=Ge(c,2),d=Ae(u),f=Ae(Ge(u,2));return f.__click=function(){var n;ee(o,il,!0),null==(n=t.onReset)||n.call(t)},Ge(f,2).__click=function(){var n;null==(n=t.onApply)||n.call(t,kr(o))},Pe(()=>l=To(a,1,"modal-overlay",null,l,{active:e()})),li(d,function(){return kr(o)},function(n){ee(o,n)}),oo(n,a),ut(i)}Ur(["click"]),cl[zn]="src/ui/components/viewer/ViewerToast.svelte";var sl=Hr(no('<div><div class="toast-content"> </div></div>'),cl[zn],[[57,2,[[65,4]]]]);function cl(n,t){go(new.target),ct(t,!0,cl);let e=wi(t,"message",3,""),r=wi(t,"duration",3,2e3),o=wi(t,"visible",3,!1),i=wi(t,"clickable",3,!1),a=wi(t,"onClick",3,null),l=wi(t,"onHide",3,()=>{}),s=$n(ne(!1),"isShowing"),c=null;function u(){i()&&a()&&(c&&clearTimeout(c),ee(s,!1),a()(),setTimeout(()=>{l()()},100))}je(()=>{o()&&(ee(s,!0),c&&clearTimeout(c),c=setTimeout(()=>{ee(s,!1),setTimeout(()=>{l()()},300)},r()))}),Ii(()=>()=>{c&&clearTimeout(c)});var d={...vo()},f=ro(),g=ke(f),v=n=>{var t=sl();let r;t.__click=u;var o=Ae(t),a=Ae(o);Pe(()=>{r=To(t,1,"viewer-toast",null,r,{showing:kr(s),clickable:i()}),ei(t,"role",i()?"button":"status"),ei(t,"tabindex",i()?0:-1),lo(a,e())}),oo(n,t)};return at(()=>ho(g,n=>{o()&&n(v)}),"if",cl,56,0),oo(n,f),ut(d)}Ur(["click"]);const ul="bookViewerSettings",dl="bookViewerCustomCss",fl={fontSize:17,lineHeight:1.9,theme:"light",fontFamily:"ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤",imageCensored:!1,imageCensoredMinWidth:100,imageCensoredMinHeight:100,jumpToLastPageOnPrevIndex:!1};function gl(){try{const n=localStorage.getItem(ul);if(n){const t=JSON.parse(n);return{fontSize:t.fontSize??fl.fontSize,lineHeight:t.lineHeight??fl.lineHeight,theme:t.theme??fl.theme,fontFamily:t.fontFamily??fl.fontFamily,imageCensored:t.imageCensored??fl.imageCensored,imageCensoredMinWidth:t.imageCensoredMinWidth??fl.imageCensoredMinWidth,imageCensoredMinHeight:t.imageCensoredMinHeight??fl.imageCensoredMinHeight,jumpToLastPageOnPrevIndex:t.jumpToLastPageOnPrevIndex??fl.jumpToLastPageOnPrevIndex}}}catch(n){console.error("[SettingsManager] Failed to load settings:",n)}return{...fl}}function vl(n){try{const t={...gl(),...n};localStorage.setItem(ul,JSON.stringify(t))}catch(t){console.error("[SettingsManager] Failed to save settings:",t)}}function pl(){try{return localStorage.getItem(dl)||""}catch(n){return console.error("[SettingsManager] Failed to load custom CSS:",n),""}}function hl(n){try{n?localStorage.setItem(dl,n):localStorage.removeItem(dl)}catch(t){console.error("[SettingsManager] Failed to save custom CSS:",t)}}function bl(n){const t=document.getElementById("book-viewer-custom-css");if(t&&t.remove(),!n||""===n.trim())return null;const e=document.createElement("style");return e.id="book-viewer-custom-css",e.textContent=n,document.head.appendChild(e),e}function ml(){const n=document.getElementById("book-viewer-custom-css");n&&n.remove(),localStorage.removeItem(dl)}Ll[zn]="src/ui/components/viewer/mobile/MobileBookHeader.svelte";var wl=Hr(no('<div class="header-thumbnail svelte-1p1awwn"></div>'),Ll[zn],[[55,8]]),yl=Hr(no('<div class="header-thumbnail svelte-1p1awwn"></div>'),Ll[zn],[[60,8]]),Il=Hr(no('<span class="chat-position svelte-1p1awwn"> </span>'),Ll[zn],[[88,10]]),Cl=Hr(eo('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1p1awwn"><path d="M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"></path></svg>'),Ll[zn],[[139,12,[[147,14]]]]),xl=Hr(eo('<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1p1awwn"><path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path></svg>'),Ll[zn],[[152,12,[[160,14]]]]),Al=Hr(no("<button><!></button>"),Ll[zn],[[132,8]]),kl=Hr(no('<button title="LB ëª¨ë“ˆ"><!></button>'),Ll[zn],[[169,8]]),Gl=Hr(no('<header class="reader-header svelte-1p1awwn"><div class="header-row header-row-top svelte-1p1awwn"><div class="header-bot-info svelte-1p1awwn"><!> <span class="header-bot-name svelte-1p1awwn"> </span></div> <div class="header-chat-nav svelte-1p1awwn"><button class="nav-chat-btn svelte-1p1awwn" title="ì´ì „ ì±„íŒ…"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="15 18 9 12 15 6"></polyline></svg></button> <span class="header-chat-index svelte-1p1awwn"> <!></span> <button class="nav-chat-btn svelte-1p1awwn" title="ë‹¤ìŒ ì±„íŒ…"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="9 18 15 12 9 6"></polyline></svg></button></div> <button class="header-btn close-btn svelte-1p1awwn" title="ë‹«ê¸°"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" class="svelte-1p1awwn"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div> <div class="header-row header-row-bottom svelte-1p1awwn"><div class="header-action-buttons svelte-1p1awwn"></div> <div class="header-right-group svelte-1p1awwn"><!> <!> <button class="header-toggle-btn settings-btn svelte-1p1awwn" title="ì„¤ì •">ì„¤ì •</button></div></div></header>'),Ll[zn],[[50,0,[[52,2,[[53,4,[[62,6]]],[67,4,[[68,6,[[74,8,[[82,10]]]]],[85,6],[93,6,[[99,8,[[107,10]]]]]]],[112,4,[[113,6,[[121,8]]]]]]],[127,2,[[128,4],[130,4,[[184,6]]]]]]]]);const _l={hash:"svelte-1p1awwn",code:"\n  .reader-header.svelte-1p1awwn {\n    display: flex;\n    flex-direction: column;\n    background: var(--mv-header-bg, rgba(26, 31, 53, 0.97));\n    backdrop-filter: blur(20px);\n    -webkit-backdrop-filter: blur(20px);\n    border-bottom: 1px solid var(--mv-border-color, rgba(201, 166, 107, 0.2));\n    z-index: 100;\n    flex-shrink: 0;\n  }\n\n  .header-row.svelte-1p1awwn {\n    display: flex;\n    align-items: center;\n    padding: 0 12px;\n  }\n\n  .header-row-top.svelte-1p1awwn {\n    justify-content: space-between;\n    padding-top: 10px;\n    padding-bottom: 6px;\n  }\n\n  .header-row-bottom.svelte-1p1awwn {\n    justify-content: space-between;\n    padding-top: 4px;\n    padding-bottom: 10px;\n    border-top: 1px solid rgba(255, 255, 255, 0.06);\n  }\n\n  .header-btn.svelte-1p1awwn {\n    background: none;\n    border: none;\n    color: rgba(255, 255, 255, 0.85);\n    padding: 8px;\n    cursor: pointer;\n    border-radius: 10px;\n    transition: all\n      var(--mv-transition-fast, 0.15s cubic-bezier(0.4, 0, 0.2, 1));\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-shrink: 0;\n    min-width: 36px;\n    min-height: 36px;\n  }\n\n  .header-btn.svelte-1p1awwn:active {\n    background: rgba(201, 166, 107, 0.2);\n    color: var(--mv-accent-color, #c9a66b);\n    transform: scale(0.95);\n  }\n\n  .header-btn.svelte-1p1awwn svg:where(.svelte-1p1awwn) {\n    width: 18px;\n    height: 18px;\n  }\n\n  /* ë‹«ê¸° ë²„íŠ¼ */\n  .close-btn.svelte-1p1awwn {\n    background: rgba(255, 255, 255, 0.08);\n    border-radius: 50%;\n    color: rgba(255, 255, 255, 0.7);\n  }\n\n  .close-btn.svelte-1p1awwn:active {\n    background: rgba(255, 100, 100, 0.3);\n    color: #ff6b6b;\n  }\n\n  /* ë´‡ ì •ë³´ */\n  .header-bot-info.svelte-1p1awwn {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    min-width: 0;\n    flex-shrink: 1;\n  }\n\n  .header-thumbnail.svelte-1p1awwn {\n    width: 32px;\n    height: 32px;\n    min-width: 32px;\n    border-radius: 8px;\n    background-size: cover;\n    background-position: center;\n    background-color: rgba(255, 255, 255, 0.1);\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);\n  }\n\n  .header-bot-name.svelte-1p1awwn {\n    font-size: 14px;\n    font-weight: 600;\n    color: var(--mv-accent-color, #c9a66b);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    max-width: 150px;\n  }\n\n  /* ì±„íŒ… ë„¤ë¹„ê²Œì´ì…˜ */\n  .header-chat-nav.svelte-1p1awwn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 4px;\n    flex: 1;\n  }\n\n  .nav-chat-btn.svelte-1p1awwn {\n    background: none;\n    border: none;\n    color: rgba(255, 255, 255, 0.6);\n    padding: 6px;\n    cursor: pointer;\n    border-radius: 6px;\n    transition: all\n      var(--mv-transition-fast, 0.15s cubic-bezier(0.4, 0, 0.2, 1));\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 28px;\n    min-height: 28px;\n  }\n\n  .nav-chat-btn.svelte-1p1awwn:active:not(:disabled) {\n    background: rgba(201, 166, 107, 0.2);\n    color: var(--mv-accent-color, #c9a66b);\n  }\n\n  .nav-chat-btn.svelte-1p1awwn:disabled {\n    opacity: 0.3;\n    cursor: not-allowed;\n  }\n\n  .header-chat-index.svelte-1p1awwn {\n    font-size: 12px;\n    font-weight: 500;\n    color: rgba(255, 255, 255, 0.6);\n    background: rgba(255, 255, 255, 0.08);\n    padding: 4px 8px;\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n  }\n\n  .chat-position.svelte-1p1awwn {\n    font-size: 10px;\n    opacity: 0.7;\n  }\n\n  /* ì•¡ì…˜ ë²„íŠ¼ë“¤ */\n  .header-action-buttons.svelte-1p1awwn {\n    display: flex;\n    align-items: center;\n    gap: 2px;\n  }\n\n  .header-action-buttons.svelte-1p1awwn button,\n  .header-action-buttons.svelte-1p1awwn .header-action-btn {\n    background: none;\n    border: none;\n    padding: 6px;\n    cursor: pointer;\n    color: rgba(255, 255, 255, 0.6);\n    border-radius: 8px;\n    transition: all\n      var(--mv-transition-fast, 0.15s cubic-bezier(0.4, 0, 0.2, 1));\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    min-width: 36px;\n    min-height: 36px;\n  }\n\n  .header-action-buttons.svelte-1p1awwn button:active,\n  .header-action-buttons.svelte-1p1awwn .header-action-btn:active {\n    background: rgba(201, 166, 107, 0.2);\n    color: var(--mv-accent-color, #c9a66b);\n  }\n\n  .header-action-buttons.svelte-1p1awwn button svg,\n  .header-action-buttons.svelte-1p1awwn .header-action-btn svg {\n    width: 18px;\n    height: 18px;\n  }\n\n  /* ìš°ì¸¡ ê·¸ë£¹ */\n  .header-right-group.svelte-1p1awwn {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n  }\n\n  .header-toggle-btn.svelte-1p1awwn {\n    background: rgba(255, 255, 255, 0.1);\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    color: var(--mv-accent-color, #c9a66b);\n    padding: 4px 10px;\n    font-size: 11px;\n    font-weight: 700;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all\n      var(--mv-transition-fast, 0.15s cubic-bezier(0.4, 0, 0.2, 1));\n    min-height: 32px;\n  }\n\n  .header-toggle-btn.svelte-1p1awwn:active {\n    background: var(--mv-accent-color, #c9a66b);\n    color: white;\n    transform: scale(0.95);\n  }\n\n  .header-toggle-btn.active.svelte-1p1awwn {\n    background: var(--mv-accent-color, #c9a66b);\n    color: white;\n    border-color: var(--mv-accent-color, #c9a66b);\n  }\n\n  .fullscreen-btn.svelte-1p1awwn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 4px 8px;\n  }\n\n  .fullscreen-btn.svelte-1p1awwn svg:where(.svelte-1p1awwn) {\n    flex-shrink: 0;\n  }\n\n  /* LB ë²„íŠ¼ ë¡œë”© ìƒíƒœ */\n  .lb-btn.loading.svelte-1p1awwn {\n    opacity: 0.7;\n    cursor: wait;\n  }\n\n  .lb-btn.loading.svelte-1p1awwn svg {\n    animation: svelte-1p1awwn-spin 1s linear infinite;\n  }\n\n  @keyframes svelte-1p1awwn-spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  /* Safe Area */\n  @supports (padding-top: env(safe-area-inset-top)) {\n    .header-row-top.svelte-1p1awwn {\n      padding-top: max(10px, env(safe-area-inset-top));\n    }\n  }\n\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9iaWxlQm9va0hlYWRlci5zdmVsdGUiLCJzb3VyY2VzIjpbIk1vYmlsZUJvb2tIZWFkZXIuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gIC8qKlxuICAgKiBNb2JpbGVCb29rSGVhZGVyIC0g66qo67CU7J287JqpIDLspIQg7Zek642UIOy7tO2PrOuEjO2KuFxuICAgKiBSb3cgMTog7I2464Sk7J28K+ydtOumhCwg7LGE7YyFIOyduOuNseyKpCwg64ur6riwIOuyhO2KvFxuICAgKiBSb3cgMjog7JWh7IWY67KE7Yq865OkLCBMQiDthqDquIAsIOyEpOyglSDthqDquIBcbiAgICovXG4gIGltcG9ydCB7IGNsb25lQnV0dG9uc1dpdGhFdmVudERlbGVnYXRpb24gfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kb20taGVscGVyLmpzJztcbiAgaW1wb3J0IHsgUmlzdUFQSSB9IGZyb20gJy4uLy4uLy4uLy4uL2NvcmUvcmlzdS1hcGkuanMnO1xuICBpbXBvcnQgeyBvbk1vdW50IH0gZnJvbSAnc3ZlbHRlJztcbiAgaW1wb3J0IHsgTG9hZGVyMiB9IGZyb20gJ2x1Y2lkZS1zdmVsdGUnO1xuXG4gIGNvbnN0IHJpc3VBUEkgPSBSaXN1QVBJLmdldEluc3RhbmNlKCk7XG4gIGxldCB7XG4gICAgdGh1bWJuYWlsVXJsID0gJycsXG4gICAgbmFtZSA9ICcnLFxuICAgIGNoYXRJbmRleCA9IG51bGwsXG4gICAgYnV0dG9ucyA9IFtdLFxuICAgIGNoYXRJbmRleFBvc2l0aW9uID0geyBwb3NpdGlvbjogMCwgdG90YWw6IDAsIGlzRmlyc3Q6IHRydWUsIGlzTGFzdDogdHJ1ZSB9LFxuICAgIHNob3dMQkJ1dHRvbiA9IGZhbHNlLFxuICAgIGlzRnVsbHNjcmVlbiA9IGZhbHNlLFxuICAgIGlzTEJMb2FkaW5nID0gZmFsc2UsXG4gICAgb25CYWNrID0gKCkgPT4ge30sXG4gICAgb25QcmV2Q2hhdCA9ICgpID0+IHt9LFxuICAgIG9uTmV4dENoYXQgPSAoKSA9PiB7fSxcbiAgICBvbkZ1bGxzY3JlZW5Ub2dnbGUgPSAoKSA9PiB7fSxcbiAgICBvbkxCVG9nZ2xlID0gKCkgPT4ge30sXG4gICAgb25TZXR0aW5nc1RvZ2dsZSA9ICgpID0+IHt9LFxuICB9ID0gJHByb3BzKCk7XG5cbiAgbGV0IGFjdGlvbkJ1dHRvbnNSZWYgPSAkc3RhdGUobnVsbCk7XG5cbiAgLy8gaU9TIOqwkOyngFxuICBjb25zdCBpc0lPUyA9ICRkZXJpdmVkKFxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgfHxcbiAgICAgICAgKG5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxKSksXG4gICk7XG5cbiAgLy8g67KE7Yq8IOuzteygnCDrsI8g7J2067Kk7Yq4IOychOyehFxuICAkZWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aW9uQnV0dG9uc1JlZiAmJiBidXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNsb25lQnV0dG9uc1dpdGhFdmVudERlbGVnYXRpb24oYnV0dG9ucywgYWN0aW9uQnV0dG9uc1JlZiwge1xuICAgICAgICBjbGVhckNvbnRhaW5lcjogdHJ1ZSxcbiAgICAgICAgYWRkaXRpb25hbENsYXNzZXM6IFsnaGVhZGVyLWFjdGlvbi1idG4nXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG48L3NjcmlwdD5cblxuPGhlYWRlciBjbGFzcz1cInJlYWRlci1oZWFkZXJcIj5cbiAgPCEtLSBSb3cgMTog67SHIOygleuztCwg7LGE7YyFIOyduOuNseyKpCwg64ur6riwIOuyhO2KvCAtLT5cbiAgPGRpdiBjbGFzcz1cImhlYWRlci1yb3cgaGVhZGVyLXJvdy10b3BcIj5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLWJvdC1pbmZvXCI+XG4gICAgICB7I2lmIHRodW1ibmFpbFVybH1cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzPVwiaGVhZGVyLXRodW1ibmFpbFwiXG4gICAgICAgICAgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ3t0aHVtYm5haWxVcmx9JylcIlxuICAgICAgICA+PC9kaXY+XG4gICAgICB7OmVsc2V9XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXItdGh1bWJuYWlsXCI+PC9kaXY+XG4gICAgICB7L2lmfVxuICAgICAgPHNwYW4gY2xhc3M9XCJoZWFkZXItYm90LW5hbWVcIlxuICAgICAgICA+e25hbWUgfHwgcmlzdUFQSS5nZXRDaGFyKCk/Lm5hbWUgfHwgJ1Vua25vd24nfTwvc3BhblxuICAgICAgPlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cImhlYWRlci1jaGF0LW5hdlwiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cIm5hdi1jaGF0LWJ0blwiXG4gICAgICAgIG9uY2xpY2s9e29uUHJldkNoYXR9XG4gICAgICAgIGRpc2FibGVkPXtjaGF0SW5kZXhQb3NpdGlvbi5pc0ZpcnN0fVxuICAgICAgICB0aXRsZT1cIuydtOyghCDssYTtjIVcIlxuICAgICAgPlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgd2lkdGg9XCIxNFwiXG4gICAgICAgICAgaGVpZ2h0PVwiMTRcIlxuICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjIuNVwiXG4gICAgICAgID5cbiAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiMTUgMTggOSAxMiAxNSA2XCI+PC9wb2x5bGluZT5cbiAgICAgICAgPC9zdmc+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwiaGVhZGVyLWNoYXQtaW5kZXhcIj5cbiAgICAgICAgI3tjaGF0SW5kZXh9XG4gICAgICAgIHsjaWYgY2hhdEluZGV4UG9zaXRpb24udG90YWwgPiAwfVxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hhdC1wb3NpdGlvblwiXG4gICAgICAgICAgICA+KHtjaGF0SW5kZXhQb3NpdGlvbi5jdXJyZW50SW5kZXh9L3tjaGF0SW5kZXhQb3NpdGlvbi5sYXN0SW5kZXh9KTwvc3BhblxuICAgICAgICAgID5cbiAgICAgICAgey9pZn1cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3M9XCJuYXYtY2hhdC1idG5cIlxuICAgICAgICBvbmNsaWNrPXtvbk5leHRDaGF0fVxuICAgICAgICBkaXNhYmxlZD17Y2hhdEluZGV4UG9zaXRpb24uaXNMYXN0fVxuICAgICAgICB0aXRsZT1cIuuLpOydjCDssYTtjIVcIlxuICAgICAgPlxuICAgICAgICA8c3ZnXG4gICAgICAgICAgd2lkdGg9XCIxNFwiXG4gICAgICAgICAgaGVpZ2h0PVwiMTRcIlxuICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjIuNVwiXG4gICAgICAgID5cbiAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiOSAxOCAxNSAxMiA5IDZcIj48L3BvbHlsaW5lPlxuICAgICAgICA8L3N2Zz5cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuXG4gICAgPGJ1dHRvbiBjbGFzcz1cImhlYWRlci1idG4gY2xvc2UtYnRuXCIgb25jbGljaz17b25CYWNrfSB0aXRsZT1cIuuLq+q4sFwiPlxuICAgICAgPHN2Z1xuICAgICAgICB3aWR0aD1cIjE4XCJcbiAgICAgICAgaGVpZ2h0PVwiMThcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICBzdHJva2Utd2lkdGg9XCIyLjVcIlxuICAgICAgPlxuICAgICAgICA8cGF0aCBkPVwiTTE4IDZMNiAxOE02IDZsMTIgMTJcIiAvPlxuICAgICAgPC9zdmc+XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDwhLS0gUm93IDI6IOyVoeyFmCDrsoTtirzrk6QsIExCLCDshKTsoJUgLS0+XG4gIDxkaXYgY2xhc3M9XCJoZWFkZXItcm93IGhlYWRlci1yb3ctYm90dG9tXCI+XG4gICAgPGRpdiBjbGFzcz1cImhlYWRlci1hY3Rpb24tYnV0dG9uc1wiIGJpbmQ6dGhpcz17YWN0aW9uQnV0dG9uc1JlZn0+PC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyLXJpZ2h0LWdyb3VwXCI+XG4gICAgICB7I2lmICFpc0lPU31cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzPVwiaGVhZGVyLXRvZ2dsZS1idG4gZnVsbHNjcmVlbi1idG5cIlxuICAgICAgICAgIGNsYXNzOmFjdGl2ZT17aXNGdWxsc2NyZWVufVxuICAgICAgICAgIG9uY2xpY2s9e29uRnVsbHNjcmVlblRvZ2dsZX1cbiAgICAgICAgICB0aXRsZT17aXNGdWxsc2NyZWVuID8gJ+yghOyytO2ZlOuptCDtlbTsoJwnIDogJ+yghOyytO2ZlOuptCd9XG4gICAgICAgID5cbiAgICAgICAgICB7I2lmIGlzRnVsbHNjcmVlbn1cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgd2lkdGg9XCIxNlwiXG4gICAgICAgICAgICAgIGhlaWdodD1cIjE2XCJcbiAgICAgICAgICAgICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgICAgICAgICAgIGZpbGw9XCJub25lXCJcbiAgICAgICAgICAgICAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgc3Ryb2tlLXdpZHRoPVwiMlwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgZD1cIk04IDN2M2EyIDIgMCAwIDEtMiAySDNtMTggMGgtM2EyIDIgMCAwIDEtMi0yVjNtMCAxOHYtM2EyIDIgMCAwIDEgMi0yaDNNMyAxNmgzYTIgMiAwIDAgMSAyIDJ2M1wiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICB7OmVsc2V9XG4gICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgIHdpZHRoPVwiMTZcIlxuICAgICAgICAgICAgICBoZWlnaHQ9XCIxNlwiXG4gICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICAgIGQ9XCJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzbTE4IDBWNWEyIDIgMCAwIDAtMi0yaC0zbTAgMThoM2EyIDIgMCAwIDAgMi0ydi0zTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDNcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgey9pZn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICB7L2lmfVxuXG4gICAgICB7I2lmIHNob3dMQkJ1dHRvbn1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzPVwiaGVhZGVyLXRvZ2dsZS1idG4gbGItYnRuXCJcbiAgICAgICAgICBjbGFzczpsb2FkaW5nPXtpc0xCTG9hZGluZ31cbiAgICAgICAgICBvbmNsaWNrPXtvbkxCVG9nZ2xlfVxuICAgICAgICAgIHRpdGxlPVwiTEIg66qo65OIXCJcbiAgICAgICAgICBkaXNhYmxlZD17aXNMQkxvYWRpbmd9XG4gICAgICAgID5cbiAgICAgICAgICB7I2lmIGlzTEJMb2FkaW5nfVxuICAgICAgICAgICAgPExvYWRlcjIgc2l6ZT17MTR9IC8+XG4gICAgICAgICAgezplbHNlfVxuICAgICAgICAgICAgTEJcbiAgICAgICAgICB7L2lmfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIHsvaWZ9XG5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3M9XCJoZWFkZXItdG9nZ2xlLWJ0biBzZXR0aW5ncy1idG5cIlxuICAgICAgICBvbmNsaWNrPXtvblNldHRpbmdzVG9nZ2xlfVxuICAgICAgICB0aXRsZT1cIuyEpOyglVwiXG4gICAgICA+XG4gICAgICAgIOyEpOyglVxuICAgICAgPC9idXR0b24+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9oZWFkZXI+XG5cbjxzdHlsZT5cbiAgLnJlYWRlci1oZWFkZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1tdi1oZWFkZXItYmcsIHJnYmEoMjYsIDMxLCA1MywgMC45NykpO1xuICAgIGJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcbiAgICAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cigyMHB4KTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tbXYtYm9yZGVyLWNvbG9yLCByZ2JhKDIwMSwgMTY2LCAxMDcsIDAuMikpO1xuICAgIHotaW5kZXg6IDEwMDtcbiAgICBmbGV4LXNocmluazogMDtcbiAgfVxuXG4gIC5oZWFkZXItcm93IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMCAxMnB4O1xuICB9XG5cbiAgLmhlYWRlci1yb3ctdG9wIHtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgcGFkZGluZy1ib3R0b206IDZweDtcbiAgfVxuXG4gIC5oZWFkZXItcm93LWJvdHRvbSB7XG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgIHBhZGRpbmctdG9wOiA0cHg7XG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wNik7XG4gIH1cblxuICAuaGVhZGVyLWJ0biB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44NSk7XG4gICAgcGFkZGluZzogOHB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICAgIHRyYW5zaXRpb246IGFsbFxuICAgICAgdmFyKC0tbXYtdHJhbnNpdGlvbi1mYXN0LCAwLjE1cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpKTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgZmxleC1zaHJpbms6IDA7XG4gICAgbWluLXdpZHRoOiAzNnB4O1xuICAgIG1pbi1oZWlnaHQ6IDM2cHg7XG4gIH1cblxuICAuaGVhZGVyLWJ0bjphY3RpdmUge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjAxLCAxNjYsIDEwNywgMC4yKTtcbiAgICBjb2xvcjogdmFyKC0tbXYtYWNjZW50LWNvbG9yLCAjYzlhNjZiKTtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOTUpO1xuICB9XG5cbiAgLmhlYWRlci1idG4gc3ZnIHtcbiAgICB3aWR0aDogMThweDtcbiAgICBoZWlnaHQ6IDE4cHg7XG4gIH1cblxuICAvKiDri6vquLAg67KE7Yq8ICovXG4gIC5jbG9zZS1idG4ge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOCk7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyk7XG4gIH1cblxuICAuY2xvc2UtYnRuOmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDEwMCwgMTAwLCAwLjMpO1xuICAgIGNvbG9yOiAjZmY2YjZiO1xuICB9XG5cbiAgLyog67SHIOygleuztCAqL1xuICAuaGVhZGVyLWJvdC1pbmZvIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgZ2FwOiA4cHg7XG4gICAgbWluLXdpZHRoOiAwO1xuICAgIGZsZXgtc2hyaW5rOiAxO1xuICB9XG5cbiAgLmhlYWRlci10aHVtYm5haWwge1xuICAgIHdpZHRoOiAzMnB4O1xuICAgIGhlaWdodDogMzJweDtcbiAgICBtaW4td2lkdGg6IDMycHg7XG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xKTtcbiAgICBib3gtc2hhZG93OiAwIDJweCA2cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB9XG5cbiAgLmhlYWRlci1ib3QtbmFtZSB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgY29sb3I6IHZhcigtLW12LWFjY2VudC1jb2xvciwgI2M5YTY2Yik7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIG1heC13aWR0aDogMTUwcHg7XG4gIH1cblxuICAvKiDssYTtjIUg64Sk67mE6rKM7J207IWYICovXG4gIC5oZWFkZXItY2hhdC1uYXYge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBnYXA6IDRweDtcbiAgICBmbGV4OiAxO1xuICB9XG5cbiAgLm5hdi1jaGF0LWJ0biB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC42KTtcbiAgICBwYWRkaW5nOiA2cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICB0cmFuc2l0aW9uOiBhbGxcbiAgICAgIHZhcigtLW12LXRyYW5zaXRpb24tZmFzdCwgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1pbi13aWR0aDogMjhweDtcbiAgICBtaW4taGVpZ2h0OiAyOHB4O1xuICB9XG5cbiAgLm5hdi1jaGF0LWJ0bjphY3RpdmU6bm90KDpkaXNhYmxlZCkge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjAxLCAxNjYsIDEwNywgMC4yKTtcbiAgICBjb2xvcjogdmFyKC0tbXYtYWNjZW50LWNvbG9yLCAjYzlhNjZiKTtcbiAgfVxuXG4gIC5uYXYtY2hhdC1idG46ZGlzYWJsZWQge1xuICAgIG9wYWNpdHk6IDAuMztcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xuICB9XG5cbiAgLmhlYWRlci1jaGF0LWluZGV4IHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpO1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOCk7XG4gICAgcGFkZGluZzogNHB4IDhweDtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGdhcDogNHB4O1xuICB9XG5cbiAgLmNoYXQtcG9zaXRpb24ge1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICBvcGFjaXR5OiAwLjc7XG4gIH1cblxuICAvKiDslaHshZgg67KE7Yq865OkICovXG4gIC5oZWFkZXItYWN0aW9uLWJ1dHRvbnMge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDJweDtcbiAgfVxuXG4gIC5oZWFkZXItYWN0aW9uLWJ1dHRvbnMgOmdsb2JhbChidXR0b24pLFxuICAuaGVhZGVyLWFjdGlvbi1idXR0b25zIDpnbG9iYWwoLmhlYWRlci1hY3Rpb24tYnRuKSB7XG4gICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogNnB4O1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpO1xuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICB0cmFuc2l0aW9uOiBhbGxcbiAgICAgIHZhcigtLW12LXRyYW5zaXRpb24tZmFzdCwgMC4xNXMgY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKSk7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIG1pbi13aWR0aDogMzZweDtcbiAgICBtaW4taGVpZ2h0OiAzNnB4O1xuICB9XG5cbiAgLmhlYWRlci1hY3Rpb24tYnV0dG9ucyA6Z2xvYmFsKGJ1dHRvbjphY3RpdmUpLFxuICAuaGVhZGVyLWFjdGlvbi1idXR0b25zIDpnbG9iYWwoLmhlYWRlci1hY3Rpb24tYnRuOmFjdGl2ZSkge1xuICAgIGJhY2tncm91bmQ6IHJnYmEoMjAxLCAxNjYsIDEwNywgMC4yKTtcbiAgICBjb2xvcjogdmFyKC0tbXYtYWNjZW50LWNvbG9yLCAjYzlhNjZiKTtcbiAgfVxuXG4gIC5oZWFkZXItYWN0aW9uLWJ1dHRvbnMgOmdsb2JhbChidXR0b24gc3ZnKSxcbiAgLmhlYWRlci1hY3Rpb24tYnV0dG9ucyA6Z2xvYmFsKC5oZWFkZXItYWN0aW9uLWJ0biBzdmcpIHtcbiAgICB3aWR0aDogMThweDtcbiAgICBoZWlnaHQ6IDE4cHg7XG4gIH1cblxuICAvKiDsmrDsuKEg6re466O5ICovXG4gIC5oZWFkZXItcmlnaHQtZ3JvdXAge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBnYXA6IDhweDtcbiAgfVxuXG4gIC5oZWFkZXItdG9nZ2xlLWJ0biB7XG4gICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcbiAgICBjb2xvcjogdmFyKC0tbXYtYWNjZW50LWNvbG9yLCAjYzlhNjZiKTtcbiAgICBwYWRkaW5nOiA0cHggMTBweDtcbiAgICBmb250LXNpemU6IDExcHg7XG4gICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbFxuICAgICAgdmFyKC0tbXYtdHJhbnNpdGlvbi1mYXN0LCAwLjE1cyBjdWJpYy1iZXppZXIoMC40LCAwLCAwLjIsIDEpKTtcbiAgICBtaW4taGVpZ2h0OiAzMnB4O1xuICB9XG5cbiAgLmhlYWRlci10b2dnbGUtYnRuOmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tbXYtYWNjZW50LWNvbG9yLCAjYzlhNjZiKTtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk1KTtcbiAgfVxuXG4gIC5oZWFkZXItdG9nZ2xlLWJ0bi5hY3RpdmUge1xuICAgIGJhY2tncm91bmQ6IHZhcigtLW12LWFjY2VudC1jb2xvciwgI2M5YTY2Yik7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tbXYtYWNjZW50LWNvbG9yLCAjYzlhNjZiKTtcbiAgfVxuXG4gIC5mdWxsc2NyZWVuLWJ0biB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIHBhZGRpbmc6IDRweCA4cHg7XG4gIH1cblxuICAuZnVsbHNjcmVlbi1idG4gc3ZnIHtcbiAgICBmbGV4LXNocmluazogMDtcbiAgfVxuXG4gIC8qIExCIOuyhO2KvCDroZzrlKkg7IOB7YOcICovXG4gIC5sYi1idG4ubG9hZGluZyB7XG4gICAgb3BhY2l0eTogMC43O1xuICAgIGN1cnNvcjogd2FpdDtcbiAgfVxuXG4gIC5sYi1idG4ubG9hZGluZyA6Z2xvYmFsKHN2Zykge1xuICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7XG4gIH1cblxuICBAa2V5ZnJhbWVzIHNwaW4ge1xuICAgIGZyb20ge1xuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gICAgfVxuICAgIHRvIHtcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gICAgfVxuICB9XG5cbiAgLyogU2FmZSBBcmVhICovXG4gIEBzdXBwb3J0cyAocGFkZGluZy10b3A6IGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSkge1xuICAgIC5oZWFkZXItcm93LXRvcCB7XG4gICAgICBwYWRkaW5nLXRvcDogbWF4KDEwcHgsIGVudihzYWZlLWFyZWEtaW5zZXQtdG9wKSk7XG4gICAgfVxuICB9XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJpZ25vcmVMaXN0IjpbXX0= */"};function Ll(n,t){go(new.target),ct(t,!0,Ll),Bo(n,_l);const e=Gi.getInstance();let r=wi(t,"thumbnailUrl",3,""),o=wi(t,"name",3,""),i=wi(t,"chatIndex",3,null),a=wi(t,"buttons",19,()=>[]),l=wi(t,"chatIndexPosition",19,()=>({position:0,total:0,isFirst:!0,isLast:!0})),s=wi(t,"showLBButton",3,!1),c=wi(t,"isFullscreen",3,!1),u=wi(t,"isLBLoading",3,!1),d=wi(t,"onBack",3,()=>{}),f=wi(t,"onPrevChat",3,()=>{}),g=wi(t,"onNextChat",3,()=>{}),v=wi(t,"onFullscreenToggle",3,()=>{}),p=wi(t,"onLBToggle",3,()=>{}),h=wi(t,"onSettingsToggle",3,()=>{}),b=$n(ne(null),"actionButtonsRef");const m=$n(Tt(()=>ve(typeof navigator,"undefined",!1)&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||ve(navigator.platform,"MacIntel")&&navigator.maxTouchPoints>1)),"isIOS");je(()=>{kr(b)&&a().length>0&&wa(a(),kr(b),{clearContainer:!0,additionalClasses:["header-action-btn"]})});var w={...vo()},y=Gl(),I=Ae(y),C=Ae(I),x=Ae(C),A=n=>{var t=wl();Pe(()=>Fo(t,`background-image: url('${r()??""}')`)),oo(n,t)},k=n=>{oo(n,yl())};at(()=>ho(x,n=>{r()?n(A):n(k,!1)}),"if",Ll,54,6);var G=Ae(Ge(x,2)),_=Ge(C,2),L=Ae(_);L.__click=function(...n){Qr(f,this,n,Ll,[70,17])};var S=Ge(L,2),X=Ae(S),W=Ge(X),Z=n=>{var t=Il(),e=Ae(t);Pe(()=>lo(e,`(${l().currentIndex??""}/${l().lastIndex??""})`)),oo(n,t)};at(()=>ho(W,n=>{l().total>0&&n(Z)}),"if",Ll,87,8);var M=Ge(S,2);M.__click=function(...n){Qr(g,this,n,Ll,[95,17])},Ge(_,2).__click=function(...n){Qr(d,this,n,Ll,[112,50])};var N=Ae(Ge(I,2));di(N,n=>ee(b,n),()=>kr(b));var j=Ae(Ge(N,2)),B=n=>{var t=Al();let e;t.__click=function(...n){Qr(v,this,n,Ll,[135,19])};var r=Ae(t),o=n=>{oo(n,Cl())},i=n=>{oo(n,xl())};at(()=>ho(r,n=>{c()?n(o):n(i,!1)}),"if",Ll,138,10),Pe(()=>{e=To(t,1,"header-toggle-btn fullscreen-btn svelte-1p1awwn",null,e,{active:c()}),ei(t,"title",c()?"ì „ì²´í™”ë©´ í•´ì œ":"ì „ì²´í™”ë©´")}),oo(n,t)};at(()=>ho(j,n=>{kr(m)||n(B)}),"if",Ll,131,6);var Y=Ge(j,2),R=n=>{var t=kl();let e;t.__click=function(...n){Qr(p,this,n,Ll,[172,19])};var r=Ae(t),o=n=>{at(()=>ha(n,{size:14}),"component",Ll,177,12,{componentTag:"Loader2"})},i=n=>{oo(n,function(n=""){var t=Ie(n+"");return $r(t,t),t}("LB"))};at(()=>ho(r,n=>{u()?n(o):n(i,!1)}),"if",Ll,176,10),Pe(()=>{e=To(t,1,"header-toggle-btn lb-btn svelte-1p1awwn",null,e,{loading:u()}),t.disabled=u()}),oo(n,t)};return at(()=>ho(Y,n=>{s()&&n(R)}),"if",Ll,168,6),Ge(Y,2).__click=function(...n){Qr(h,this,n,Ll,[186,17])},Pe(n=>{lo(G,n),L.disabled=l().isFirst,lo(X,`#${i()??""} `),M.disabled=l().isLast},[()=>{var n;return o()||(null==(n=e.getChar())?void 0:n.name)||"Unknown"}]),oo(n,y),ut(w)}Ur(["click"]),Zl[zn]="src/ui/components/viewer/mobile/MobileBookPage.svelte";var Sl=Hr(no('<span class="page-number"> </span>'),Zl[zn],[[62,6]]),Xl=Hr(no('<div class="page-container"><div class="page-content"><div class="text-content chattext"><!></div> <!></div> <!></div>'),Zl[zn],[[55,0,[[56,2,[[57,4]]]]]]);const Wl={hash:"svelte-1slpgjp",code:"\n\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9iaWxlQm9va1BhZ2Uuc3ZlbHRlIiwic291cmNlcyI6WyJNb2JpbGVCb29rUGFnZS5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cbiAgLyoqXG4gICAqIE1vYmlsZUJvb2tQYWdlIC0g66qo67CU7J287JqpIOuLqOydvCDtjpjsnbTsp4Ag7Lu07Y+s64SM7Yq4XG4gICAqIOyKpOyZgOydtO2UhOuhnCDtjpjsnbTsp4Ag7J2064+ZXG4gICAqL1xuICBpbXBvcnQgTG9hZGluZ092ZXJsYXkgZnJvbSAnLi4vTG9hZGluZ092ZXJsYXkuc3ZlbHRlJztcbiAgaW1wb3J0IHsgZGVsZWdhdGVCdXR0b25FdmVudHMgfSBmcm9tICcuLi8uLi8uLi8uLi91dGlscy9kb20taGVscGVyLmpzJztcbiAgaW1wb3J0IHtcbiAgICBhcHBseUNlbnNvcmVkT3ZlcmxheSxcbiAgICByZW1vdmVDZW5zb3JlZE92ZXJsYXksXG4gIH0gZnJvbSAnLi4vLi4vLi4vLi4vY29yZS92aWV3ZXIvcGFnZS1tYW5hZ2VyLmpzJztcblxuICBsZXQge1xuICAgIGNvbnRlbnQgPSAnJyxcbiAgICBwYWdlTnVtID0gMCxcbiAgICBpc0xvYWRpbmcgPSBmYWxzZSxcbiAgICBsb2FkaW5nTWVzc2FnZSA9ICcnLFxuICAgIGxpdmVDb250ZW50QnV0dG9ucyA9IFtdLFxuICAgIGltYWdlQ2Vuc29yZWQgPSBmYWxzZSxcbiAgICBpbWFnZUNlbnNvcmVkTWluV2lkdGggPSAxMDAsXG4gICAgaW1hZ2VDZW5zb3JlZE1pbkhlaWdodCA9IDEwMCxcbiAgfSA9ICRwcm9wcygpO1xuXG4gIGxldCBjb250ZW50UmVmID0gJHN0YXRlKG51bGwpO1xuXG4gIC8vIOy9mO2FkOy4oOqwgCDrs4Dqsr3rkKAg65WMIOydtOuypO2KuCDsnITsnoQg7ISk7KCVIOuwjyDsiqTtgazroaQg7LSI6riw7ZmUXG4gICRlZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjb250ZW50UmVmICYmIGNvbnRlbnQpIHtcbiAgICAgIC8vIERPTSDsl4XrjbDsnbTtirgg7ZuEIOyLpO2WiVxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgLy8g7Iqk7YGs66GkIOy1nOyDgeuLqOycvOuhnFxuICAgICAgICBjb250ZW50UmVmLnNjcm9sbFRvcCA9IDA7XG5cbiAgICAgICAgLy8g7J207KCEIO2OmOydtOyngOydmCDqsoDsl7Qg7Jik67KE66CI7J20IOygnOqxsCAo7Zi57IucIOuCqOyVhOyeiOydhCDsiJgg7J6I7J2MKVxuICAgICAgICByZW1vdmVDZW5zb3JlZE92ZXJsYXkoY29udGVudFJlZik7XG5cbiAgICAgICAgLy8g7J2067Kk7Yq4IOychOyehCDshKTsoJVcbiAgICAgICAgaWYgKGxpdmVDb250ZW50QnV0dG9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZGVsZWdhdGVCdXR0b25FdmVudHMoY29udGVudFJlZiwgbGl2ZUNvbnRlbnRCdXR0b25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOydtOuvuOyngCDqsoDsl7Qg7Jik67KE66CI7J20IOyggeyaqVxuICAgICAgICBpZiAoaW1hZ2VDZW5zb3JlZCkge1xuICAgICAgICAgIGFwcGx5Q2Vuc29yZWRPdmVybGF5KFxuICAgICAgICAgICAgY29udGVudFJlZixcbiAgICAgICAgICAgIGltYWdlQ2Vuc29yZWRNaW5XaWR0aCxcbiAgICAgICAgICAgIGltYWdlQ2Vuc29yZWRNaW5IZWlnaHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPVwicGFnZS1jb250YWluZXJcIj5cbiAgPGRpdiBjbGFzcz1cInBhZ2UtY29udGVudFwiPlxuICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNvbnRlbnQgY2hhdHRleHRcIiBiaW5kOnRoaXM9e2NvbnRlbnRSZWZ9PlxuICAgICAge0BodG1sIGNvbnRlbnR9XG4gICAgPC9kaXY+XG5cbiAgICB7I2lmIHBhZ2VOdW0gPiAwfVxuICAgICAgPHNwYW4gY2xhc3M9XCJwYWdlLW51bWJlclwiPntwYWdlTnVtfTwvc3Bhbj5cbiAgICB7L2lmfVxuICA8L2Rpdj5cblxuICA8TG9hZGluZ092ZXJsYXkgdmlzaWJsZT17aXNMb2FkaW5nfSBtZXNzYWdlPXtsb2FkaW5nTWVzc2FnZX0gLz5cbjwvZGl2PlxuXG48c3R5bGU+XG48L3N0eWxlPlxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIiLCJpZ25vcmVMaXN0IjpbXX0= */"};function Zl(n,t){go(new.target),ct(t,!0,Zl),Bo(n,Wl);let e=wi(t,"content",3,""),r=wi(t,"pageNum",3,0),o=wi(t,"isLoading",3,!1),i=wi(t,"loadingMessage",3,""),a=wi(t,"liveContentButtons",19,()=>[]),l=wi(t,"imageCensored",3,!1),s=wi(t,"imageCensoredMinWidth",3,100),c=wi(t,"imageCensoredMinHeight",3,100),u=$n(ne(null),"contentRef");je(()=>{kr(u)&&e()&&requestAnimationFrame(()=>{kr(u).scrollTop=0,Ta(kr(u)),a().length>0&&ya(kr(u),a()),l()&&za(kr(u),s(),c())})});var d={...vo()},f=Xl(),g=Ae(f),v=Ae(g);!function(n,t,e=!1,r=!1){var o=n,i="";Pe(()=>{var n=ar;if(i!==(i=t()??"")&&(null!==n.nodes&&(Ee(n.nodes.start,n.nodes.end),n.nodes=null),""!==i)){var a=i+"";e?a=`<svg>${a}</svg>`:r&&(a=`<math>${a}</math>`);var l=qr(a);if((e||r)&&(l=Ce(l)),$r(Ce(l),l.lastChild),e||r)for(;Ce(l);)o.before(Ce(l));else o.before(l)}})}(Ae(v),e),di(v,n=>ee(u,n),()=>kr(u));var p=Ge(v,2),h=n=>{var t=Sl(),e=Ae(t);Pe(()=>lo(e,r())),oo(n,t)};at(()=>ho(p,n=>{r()>0&&n(h)}),"if",Zl,61,4);var b=Ge(g,2);return at(()=>Xa(b,{get visible(){return o()},get message(){return i()}}),"component",Zl,66,2,{componentTag:"LoadingOverlay"}),oo(n,f),ut(d)}Nl[zn]="src/ui/components/viewer/mobile/MobileNavFooter.svelte";var Ml=Hr(no('<footer class="reader-footer"><button class="nav-btn prev-btn" title="ì´ì „"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="15 18 9 12 15 6"></polyline></svg> <span class="btn-label">ì´ì „</span></button> <div class="page-info"><div class="progress-bar"><div class="progress-fill"></div></div> <span class="page-indicator"> </span></div> <button class="nav-btn next-btn" title="ë‹¤ìŒ"><span class="btn-label">ë‹¤ìŒ</span> <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="9 18 15 12 9 6"></polyline></svg></button></footer>'),Nl[zn],[[23,0,[[24,2,[[30,4,[[38,6]]],[40,4]]],[43,2,[[44,4,[[45,6]]],[47,4]]],[52,2,[[58,4],[59,4,[[67,6]]]]]]]]);function Nl(n,t){go(new.target),ct(t,!0,Nl);let e=wi(t,"currentPage",3,0),r=wi(t,"totalPages",3,0),o=wi(t,"isFirst",3,!0),i=wi(t,"isLast",3,!0),a=wi(t,"onPrev",3,()=>{}),l=wi(t,"onNext",3,()=>{}),s=wi(t,"prevDisabled",3,!1),c=wi(t,"nextDisabled",3,!1),u=$n(Tt(()=>r()>0?(e()+1)/r()*100:0),"progress");var d={...vo()},f=Ml(),g=Ae(f);g.__click=function(...n){Qr(a,this,n,Nl,[26,13])};var v=Ge(g,2),p=Ae(v),h=Ae(p),b=Ae(Ge(p,2)),m=Ge(v,2);return m.__click=function(...n){Qr(l,this,n,Nl,[54,13])},Pe(()=>{g.disabled=o()&&s(),Fo(h,`width: ${kr(u)??""}%`),lo(b,`${e()+1} / ${r()??""}`),m.disabled=i()&&c()}),oo(n,f),ut(d)}Ur(["click"]),Rl[zn]="src/ui/components/viewer/mobile/MobileSettingsPanel.svelte";var jl=Hr(no("<button> </button>"),Rl[zn],[[112,14]]),Bl=Hr(no('<div class="setting-item"><label for="imageCensoredMinWidth">ê²€ì—´ ìµœì†Œ ë„ˆë¹„</label> <div class="range-control"><span class="range-label">ëª¨ë“  ì´ë¯¸ì§€</span> <input type="range" name="imageCensoredMinWidth" min="0" max="500" step="10"/> <span class="range-label">500px</span></div> <span class="setting-value"> </span></div> <div class="setting-item"><label for="imageCensoredMinHeight">ê²€ì—´ ìµœì†Œ ë†’ì´</label> <div class="range-control"><span class="range-label">ëª¨ë“  ì´ë¯¸ì§€</span> <input type="range" name="imageCensoredMinHeight" min="0" max="500" step="10"/> <span class="range-label">500px</span></div> <span class="setting-value"> </span></div>',1),Rl[zn],[[213,10,[[214,12],[215,12,[[216,14],[217,14],[226,14]]],[228,12]]],[233,10,[[234,12],[235,12,[[236,14],[237,14],[246,14]]],[248,12]]]]),Yl=Hr(no('<div class="settings-panel active"><div class="panel-overlay"></div>  <div class="panel-content"><div class="panel-header"><h3>ì„¤ì •</h3> <button class="panel-close">âœ•</button></div> <div class="panel-body"><div class="setting-item"><label for="fontSelector">í°íŠ¸</label> <div class="font-selector" id="fontSelector"></div></div> <div class="setting-item"><label for="fontSize">ê¸€ìž í¬ê¸°</label> <div class="range-control"><span class="range-label">ìž‘ê²Œ</span> <input name="fontSize" type="range" min="14" max="20" step="1"/> <span class="range-label">í¬ê²Œ</span></div> <span class="setting-value"> </span></div> <div class="setting-item"><label for="lineHeight">ì¤„ ê°„ê²©</label> <div class="range-control"><span class="range-label">ì¢ê²Œ</span> <input type="range" name="lineHeight" min="1.4" max="2.2" step="0.1"/> <span class="range-label">ë„“ê²Œ</span></div> <span class="setting-value"> </span></div> <div class="setting-item"><label for="themeButtons">í…Œë§ˆ</label> <div class="theme-buttons" id="themeButtons"><button><span class="theme-preview light"></span> ë°ê²Œ</button> <button><span class="theme-preview sepia"></span> ì„¸í”¼ì•„</button> <button><span class="theme-preview dark"></span> ì–´ë‘¡ê²Œ</button></div></div> <div class="setting-item toggle-item"><div class="toggle-content"><span class="toggle-label">ì´ë¯¸ì§€ ê²€ì—´</span> <span class="toggle-description">ì´ë¯¸ì§€ ìœ„ì— ê²€ì—´ ì˜¤ë²„ë ˆì´ í‘œì‹œ</span></div> <label class="toggle-switch"><input type="checkbox"/> <span class="toggle-slider"></span></label></div> <!> <div class="setting-item toggle-item"><div class="toggle-content"><span class="toggle-label">ì—°ì† íŽ˜ì´ì§€ ì´ë™</span> <span class="toggle-description">ì´ì „ ì¸ë±ìŠ¤ ì´ë™ ì‹œ ë§ˆì§€ë§‰ íŽ˜ì´ì§€ë¡œ ì´ë™</span></div> <label class="toggle-switch"><input type="checkbox"/> <span class="toggle-slider"></span></label></div> <div class="setting-item"><button class="custom-css-btn">ì‚¬ìš©ìž CSS íŽ¸ì§‘</button></div></div></div></div>'),Rl[zn],[[94,2,[[97,4],[100,4,[[101,6,[[102,8],[103,8]]],[106,6,[[108,8,[[109,10],[110,10]]],[125,8,[[126,10],[127,10,[[128,12],[129,12],[138,12]]],[140,10]]],[144,8,[[145,10],[146,10,[[147,12],[148,12],[157,12]]],[159,10]]],[163,8,[[164,10],[165,10,[[166,12,[[171,14]]],[174,12,[[179,14]]],[182,12,[[187,14]]]]]]],[194,8,[[195,10,[[196,12],[197,12]]],[201,10,[[202,12],[207,12]]]]],[255,8,[[256,10,[[257,12],[258,12]]],[262,10,[[263,12],[268,12]]]]],[273,8,[[274,10]]]]]]]]]]);function Rl(n,t){go(new.target),ct(t,!0,Rl);let e=wi(t,"isOpen",3,!1),r=wi(t,"settings",19,()=>({fontSize:17,lineHeight:1.85,theme:"dark",fontFamily:"Pretendard",imageCensored:!1})),o=wi(t,"onSettingsChange",3,()=>{}),i=wi(t,"onOpenCustomCss",3,()=>{}),a=wi(t,"onClose",3,()=>{});const l=["Pretendard","ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤","ì—ìŠ¤ì½”ì–´ë“œë¦¼","ë ˆíŽ˜ë¦¬í¬ì¸íŠ¸","í”Œë ‰ìŠ¤","ìŠ¤ìœ„íŠ¸","ì˜¤ë¥´ë¹—","ìŠ¤ì¿¨ì˜¤ë¥´ë¹—","í”„ë¦¬í‹°ë‚˜ìž‡","ì„œë¼ìš´ë“œì—ì–´","ê³ ìš´ë‹ì›€","ê³ ìš´ë°”íƒ•","ë¦¬ë””ë°”íƒ•","ë§ˆë£¨ë¶€ë¦¬","ë„ìŠ¤ê³ ë”•","ìŠ¤íƒ€ë”ìŠ¤íŠ¸","í”½ì‹œë“œì‹œìŠ¤","ë„¤ì˜¤ë‘¥ê·¼ëª¨"];function s(n){o()({...r(),fontSize:Number(n.target.value)})}function c(n){o()({...r(),lineHeight:Number(n.target.value)})}function u(n){o()({...r(),theme:n})}function d(n){o()({...r(),imageCensored:n.target.checked})}function f(n){o()({...r(),jumpToLastPageOnPrevIndex:n.target.checked})}function g(n){o()({...r(),imageCensoredMinWidth:Number(n.target.value)})}function v(n){o()({...r(),imageCensoredMinHeight:Number(n.target.value)})}function p(){a()()}function h(n){n.stopPropagation()}var b={...vo()},m=ro(),w=ke(m),y=n=>{var t=Yl(),e=Ae(t);e.__click=p;var b=Ge(e,2);b.__click=h;var m=Ae(b);Ge(Ae(m),2).__click=function(...n){Qr(a,this,n,Rl,[103,45])};var w=Ae(Ge(m,2)),y=Ge(Ae(w),2);at(()=>yo(y,21,()=>l,bo,(n,t)=>{var e=jl();let i;e.__click=()=>{return n=kr(t),void o()({...r(),fontFamily:n});var n};var a=Ae(e);Pe(()=>{i=To(e,1,"font-option",null,i,{active:ve(r().fontFamily,kr(t))}),Fo(e,`font-family: '${kr(t)??""}'`),lo(a,kr(t))}),oo(n,e)}),"each",Rl,111,12);var I=Ge(w,2),C=Ge(Ae(I),2),x=Ge(Ae(C),2);x.__input=s;var A=Ae(Ge(C,2)),k=Ge(I,2),G=Ge(Ae(k),2),_=Ge(Ae(G),2);_.__input=c;var L=Ae(Ge(G,2)),S=Ge(k,2),X=Ge(Ae(S),2),W=Ae(X);let Z;W.__click=()=>u("light");var M=Ge(W,2);let N;M.__click=()=>u("sepia");var j=Ge(M,2);let B;j.__click=()=>u("dark");var Y=Ge(S,2),R=Ge(Ae(Y),2),P=Ae(R);P.__change=d;var O=Ge(Y,2),H=n=>{var t=Bl(),e=ke(t),o=Ge(Ae(e),2),i=Ge(Ae(o),2);i.__input=g;var a=Ae(Ge(o,2)),l=Ge(e,2),s=Ge(Ae(l),2),c=Ge(Ae(s),2);c.__input=v;var u=Ae(Ge(s,2));Pe(()=>{$o(i,r().imageCensoredMinWidth??100),lo(a,`${r().imageCensoredMinWidth??100??""}px ì´ìƒ`),$o(c,r().imageCensoredMinHeight??100),lo(u,`${r().imageCensoredMinHeight??100??""}px ì´ìƒ`)}),oo(n,t)};at(()=>ho(O,n=>{r().imageCensored&&n(H)}),"if",Rl,211,8);var z=Ge(O,2),T=Ge(Ae(z),2),V=Ae(T);V.__change=f,Ae(Ge(z,2)).__click=function(...n){Qr(i,this,n,Rl,[274,50])},Pe(n=>{$o(x,r().fontSize),lo(A,`${r().fontSize??""}px`),$o(_,r().lineHeight),lo(L,n),Z=To(W,1,"theme-btn",null,Z,{active:ve(r().theme,"light")}),N=To(M,1,"theme-btn",null,N,{active:ve(r().theme,"sepia")}),B=To(j,1,"theme-btn",null,B,{active:ve(r().theme,"dark")}),ni(P,r().imageCensored),ni(V,r().jumpToLastPageOnPrevIndex??!1)},[()=>r().lineHeight.toFixed(1)]),oo(n,t)};return at(()=>ho(w,n=>{e()&&n(y)}),"if",Rl,93,0),oo(n,m),ut(b)}Ur(["click","input","change"]),Tl[zn]="src/ui/components/viewer/mobile/MobileLBPanel.svelte";var Pl=Hr(no('<button class="lb-module-item"> </button>'),Tl[zn],[[47,14]]),Ol=Hr(no('<div class="lb-modules-list"></div>'),Tl[zn],[[45,10]]),Hl=Hr(no('<div class="lb-empty">ëª¨ë“ˆì´ ì—†ìŠµë‹ˆë‹¤</div>'),Tl[zn],[[56,10]]),zl=Hr(no('<div class="lb-panel active"><div class="panel-overlay"></div> <div class="panel-content"><div class="panel-header"><h3>LB ëª¨ë“ˆ</h3> <button class="panel-close">âœ•</button></div> <div class="panel-body"><!></div></div></div>'),Tl[zn],[[33,2,[[35,4],[37,4,[[38,6,[[39,8],[40,8]]],[43,6]]]]]]);function Tl(n,t){go(new.target),ct(t,!0,Tl);let e=wi(t,"isOpen",3,!1),r=wi(t,"modules",19,()=>[]),o=wi(t,"onModuleClick",3,()=>{}),i=wi(t,"onClose",3,()=>{});function a(){i()()}function l(n){n.stopPropagation()}var s={...vo()},c=ro(),u=ke(c),d=n=>{var t=zl(),e=Ae(t);e.__click=a;var s=Ge(e,2);s.__click=l;var c=Ae(s);Ge(Ae(c),2).__click=function(...n){Qr(i,this,n,Tl,[40,45])};var u=Ae(Ge(c,2)),d=n=>{var t=Ol();at(()=>yo(t,21,r,bo,(n,t)=>{var e=Pl();e.__click=()=>function(n){o()(n),i()()}(kr(t));var r=Ae(e);Pe(n=>lo(r,n),[()=>function(n,t=30){return n?n.length>t?n.slice(0,t)+"...":n:""}(kr(t).label)]),oo(n,e)}),"each",Tl,46,12),oo(n,t)},f=n=>{oo(n,Hl())};at(()=>ho(u,n=>{r().length>0?n(d):n(f,!1)}),"if",Tl,44,8),oo(n,t)};return at(()=>ho(u,n=>{e()&&n(d)}),"if",Tl,32,0),oo(n,c),ut(s)}Ur(["click"]),Fl[zn]="src/ui/components/viewer/mobile/MobileCustomCssModal.svelte";var Vl=Hr(no('<div class="modal-overlay" role="button" tabindex="0"><div class="modal-content" role="dialog" tabindex="-1"><div class="modal-header"><h3>ì‚¬ìš©ìž CSS íŽ¸ì§‘</h3> <button class="modal-close">&times;</button></div> <div class="modal-body"><textarea placeholder="ì—¬ê¸°ì— CSSë¥¼ ìž…ë ¥í•˜ì„¸ìš”..." spellcheck="false"></textarea></div> <div class="modal-footer"><button class="modal-btn secondary">ì´ˆê¸°í™”</button> <button class="modal-btn primary">ì ìš©</button></div></div></div>'),Fl[zn],[[52,2,[[59,4,[[66,6,[[67,8],[68,8]]],[71,6,[[72,8]]],[79,6,[[80,8],[83,8]]]]]]]]);function Fl(n,t){go(new.target),ct(t,!0,Fl);let e=wi(t,"isOpen",3,!1),r=wi(t,"initialCss",3,""),o=wi(t,"onApply",3,()=>{}),i=wi(t,"onReset",3,()=>{}),a=wi(t,"onClose",3,()=>{}),l=$n(ne(""),"cssValue");function s(){o()(kr(l)),a()()}function c(){ee(l,""),i()()}function u(){a()()}function d(n){n.stopPropagation()}je(()=>{e()&&ee(l,r())});var f={...vo()},g=ro();Dr("keydown",pe,function(n){ve(n.key,"Escape")&&a()()});var v=ke(g),p=n=>{var t=Vl();t.__click=u,t.__keydown=n=>ve(n.key,"Enter")&&u();var e=Ae(t);e.__click=d,e.__keydown=n=>n.stopPropagation();var r=Ae(e);Ge(Ae(r),2).__click=function(...n){Qr(a,this,n,Fl,[68,45])};var o=Ge(r,2),i=Ae(o),f=Ae(Ge(o,2));f.__click=c,Ge(f,2).__click=s,li(i,function(){return kr(l)},function(n){ee(l,n)}),oo(n,t)};return at(()=>ho(v,n=>{e()&&n(p)}),"if",Fl,51,0),oo(n,g),ut(f)}Ur(["click","keydown"]);class El{constructor(n={}){this.splittableTags=n.splittableTags||["p","div"],this.minHeightRatio=n.minHeightRatio||.85}isSplittable(n){var t;const e=null==(t=n.tagName)?void 0:t.toLowerCase();if(!this.splittableTags.includes(e))return!1;return!n.querySelector("mark, strong, em, a, code")}splitElement(n,t,e){if(!this.isSplittable(n))return[n.cloneNode(!0)];const r=n.cloneNode(!0);t.innerHTML="",t.appendChild(r);return t.scrollHeight<=e?[n.cloneNode(!0)]:this._splitBySentence(n,t,e)}_splitBySentence(n,t,e){console.log("splitBySentence");const r=n.tagName.toLowerCase(),o=n.innerText||n.textContent||"",i=this._splitIntoSentences(o);if(i.length<=1)return this._splitByWords(n,t,e);const a=[];let l=[];for(const s of i){const o=[...l,s].join(""),i=document.createElement(r);if(Array.from(n.attributes).forEach(n=>{i.setAttribute(n.name,n.value)}),i.textContent=o,t.innerHTML="",t.appendChild(i),t.scrollHeight<=e)l.push(s);else{if(l.length>0){const t=document.createElement(r);Array.from(n.attributes).forEach(n=>{t.setAttribute(n.name,n.value)}),t.textContent=l.join(""),a.push(t)}l=[s]}}if(l.length>0){const t=document.createElement(r);Array.from(n.attributes).forEach(n=>{t.setAttribute(n.name,n.value)}),t.textContent=l.join(""),a.push(t)}return a.length>0?a:[n.cloneNode(!0)]}_splitIntoSentences(n){return n.split(new RegExp("(?<=[.!?ã€‚ï¼ï¼Ÿ])\\s*")).filter(n=>n.length>0)}_splitByWords(n,t,e){const r=n.tagName.toLowerCase(),o=n.innerText||n.textContent||"",i=this._tokenize(o);if(0===i.length)return[n.cloneNode(!0)];const a=[];let l=0;for(;l<i.length;){let o=l+1,s=l+1;for(;o<=i.length;){const a=i.slice(l,o).join(""),c=document.createElement(r);if(Array.from(n.attributes).forEach(n=>{c.setAttribute(n.name,n.value)}),c.textContent=a,t.innerHTML="",t.appendChild(c),!(t.scrollHeight<=e))break;s=o,o++}const c=document.createElement(r);Array.from(n.attributes).forEach(n=>{c.setAttribute(n.name,n.value)}),c.textContent=i.slice(l,s).join(""),a.push(c),l=s}return a}_tokenize(n){const t=[];let e="",r=null;for(const o of n){const n=this._getCharType(o);"space"===n?(e&&(t.push(e),e=""),t.push(o)):"korean"===n?(e&&"korean"!==r&&(t.push(e),e=""),e&&t.push(e),t.push(o),e=""):(r&&r!==n&&"space"!==r&&(t.push(e),e=""),e+=o),r=n}return e&&t.push(e),t}_getCharType(n){return/\s/.test(n)?"space":/[\u3131-\uD79D]/.test(n)?"korean":/[\u3040-\u30FF]/.test(n)?"japanese":/[\u4E00-\u9FFF]/.test(n)?"chinese":/[a-zA-Z]/.test(n)?"english":/[0-9]/.test(n)?"number":"other"}static createMeasureContainer(n){const t=document.createElement("div"),e=getComputedStyle(n),r=n.closest(".mobile-reader"),o=r?getComputedStyle(r):null,i=(null==o?void 0:o.getPropertyValue("--mv-font-size"))||e.fontSize,a=(null==o?void 0:o.getPropertyValue("--mv-line-height"))||e.lineHeight,l=(null==o?void 0:o.getPropertyValue("--mv-font-family"))||e.fontFamily;return t.className="text-content chattext",t.style.cssText=`\n      position: absolute;\n      visibility: hidden;\n      pointer-events: none;\n      width: ${n.clientWidth}px;\n      padding: ${e.padding};\n      margin: ${e.margin};\n      box-sizing: ${e.boxSizing};\n      font-size: ${i};\n      line-height: ${a};\n      font-family: ${l};\n      font-weight: ${e.fontWeight};\n      font-style: ${e.fontStyle};\n      letter-spacing: ${e.letterSpacing};\n      word-spacing: ${e.wordSpacing};\n      text-align: ${e.textAlign};\n      text-indent: ${e.textIndent};\n      text-transform: ${e.textTransform};\n      white-space: ${e.whiteSpace};\n      word-break: ${e.wordBreak};\n      word-wrap: ${e.wordWrap};\n      overflow: hidden;\n    `,r?r.appendChild(t):document.body.appendChild(t),t}}Ul[zn]="src/ui/components/viewer/mobile/MobileBookViewer.svelte";var Dl=Hr(no('<div class="risu-chat"><div class="mobile-reader"><!> <!> <!> <!> <!> <!> <!></div></div>'),Ul[zn],[[727,0,[[733,2]]]]);function Ul(n,t){go(new.target),ct(t,!0,Ul);let e=wi(t,"chatHtml",7,""),r=wi(t,"chatIndex",3,0),o=wi(t,"chatPage",3,0),i=wi(t,"chaId",3,null),a=wi(t,"initialLoading",3,!1),l=wi(t,"initialPage",3,null),s=$n(ne(ce([])),"pages"),c=$n(ne(0),"currentPage"),u=$n(ne(ce({fontSize:17,lineHeight:1.85,theme:"dark",fontFamily:"Pretendard",imageCensored:!1,imageCensoredMinWidth:100,imageCensoredMinHeight:100,jumpToLastPageOnPrevIndex:!1})),"settings"),d=$n(ne(ce({thumbnailUrl:"",name:"",chatIndex:0,buttons:[]})),"headerInfo"),f=$n(ne(ce([])),"lbModules"),g=$n(ne(ce(new Map)),"liveLBModuleButtons"),v=$n(ne(ce([])),"liveContentButtons"),p=$n(ne(""),"customCss"),h=$n(ne(null),"originalContent"),b=$n(ne(""),"lastKnownHtml"),m=$n(ne(ce({position:0,total:0,isFirst:!0,isLast:!0})),"chatIndexPosition"),w=$n(ne(ce([])),"visibleChatIndices"),y=$n(ne(!1),"isSettingsOpen"),I=$n(ne(!1),"isLBPanelOpen"),C=$n(ne(!1),"isCssModalOpen"),x=$n(ne(!1),"isFullscreen"),A=$n(ne(!1),"isLoading"),k=$n(ne(""),"loadingMessage"),G=$n(ne(!1),"toastVisible"),_=$n(ne(""),"toastMessage"),L=$n(ne(!1),"toastClickable"),S=$n(ne(null),"toastOnClick"),X=$n(ne(!1),"isLBLoading");je(()=>{ee(A,a()),ee(k,a()?"Loading...":"",!0)});let W=new El({splittableTags:["p","div"]}),Z=$n(ne(null),"rootElement"),M=$n(ne("100%"),"viewerHeight"),N=null,j=null,B=null,Y=null,R=null,P=null,O=null,H=null,z=null,T=$n(Tt(()=>kr(s).length),"totalPages"),V=$n(Tt(()=>kr(s)[kr(c)]||""),"currentContent"),F=$n(Tt(()=>kr(c)+1),"pageNum");function E(){ee(w,ia(),!0),ee(m,la(r()),!0)}async function D(){if(!e())return;ee(b,e(),!0);const n=(new DOMParser).parseFromString(e(),"text/html");ee(d,Ba(n),!0),kr(d).chatIndex=r();const t=oa(r());t&&(kr(d).buttons=Ya(t),ee(v,Ra(t),!0),ee(g,Pa(t),!0)),ee(f,Oa(n),!0);const o=n.querySelector(".chattext");if(o){if(Ma(o),ee(h,o.cloneNode(!0),!0),(await Rt(Ha()))(),(await Rt(U()))(),ve(l(),null,!1)&&kr(s).length>0){let n;if(ve(l(),"last"))n=Math.max(0,kr(s).length-1);else{const t=Math.max(0,kr(s).length-1);n=Math.min(Number(l()),t)}ee(c,n,!0)}kr(A)&&setTimeout(()=>{ee(A,!1),ee(k,"")},100)}}async function U(){if(!kr(h))return;const n=document.querySelector(".mobile-reader .text-content");if(!n){(await Rt(Ha()))();if(!document.querySelector(".mobile-reader .text-content"))return}const t=Za(n||document.body);try{ee(s,Na(kr(h).cloneNode(!0),t,W),!0)}finally{t.parentNode&&t.parentNode.removeChild(t)}}function J(){R&&clearTimeout(R),R=setTimeout(()=>{!async function(){if(!kr(h))return;const n=kr(c);ee(s,[],!0),ee(c,0),(await Rt(Ha()))(),(await Rt(U()))();const t=Math.max(0,kr(s).length-1);ee(c,Math.min(n,t),!0)}()},300)}function K(){const n=oa(r());if(n){const t=n.outerHTML;ve(t,kr(b),!1)&&(ee(b,t,!0),e(t),D())}}function Q(n){ee(_,n,!0),ee(L,!1),ee(S,null),ee(G,!0)}function q(){ee(G,!1),ee(_,""),ee(L,!1),ee(S,null)}function $(n){ve(n,r(),!1)&&Ql(n,!1,!0)}function nn(){kr(c)>=kr(s).length-1?rn():ie(c)}function tn(){ve(kr(c),0)?en():ie(c,-1)}function en(){const{index:n,isFirst:t}=aa(r(),"prev");if(ve(n,null,!1)){Ql(n,!1,!0,kr(u).jumpToLastPageOnPrevIndex?"last":null)}else t&&Q("í˜„ìž¬ ì±„íŒ…ì˜ ì²« ë²ˆì§¸ íŽ˜ì´ì§€ìž…ë‹ˆë‹¤")}function rn(){const{index:n,isLast:t}=aa(r(),"next");ve(n,null,!1)?Ql(n,!1,!0):t&&Q("í˜„ìž¬ ì±„íŒ…ì˜ ë§ˆì§€ë§‰ íŽ˜ì´ì§€ìž…ë‹ˆë‹¤")}function on(n){ee(u,n,!0),vl(kr(u)),J()}function an(){ee(y,!kr(y)),kr(y)&&ee(I,!1)}function ln(){ee(I,!kr(I)),kr(I)&&ee(y,!1)}async function sn(){var n,t,e;try{document.fullscreenElement?((await Rt(null==(e=document.exitFullscreen)?void 0:e.call(document)))(),ee(x,!1)):((await Rt(null==(t=null==(n=document.documentElement)?void 0:n.requestFullscreen)?void 0:t.call(n)))(),ee(x,!0))}catch(r){console.warn(...yi("warn","[MobileViewer] Fullscreen error:",r))}}function cn(){ee(y,!1),ee(C,!0)}function un(n){ee(p,n,!0),hl(n),bl(n),ee(C,!1),J()}function dn(){ee(p,""),ml(),J()}function fn(n){const t=n.dataId||n.risuBtn;if(t&&kr(g).has(t)){const n=kr(g).get(t),e=new MouseEvent("click",{bubbles:!0,cancelable:!0});n.dispatchEvent(e)}}$n(Tt(()=>ve(kr(c),0)&&kr(m).isFirst),"prevDisabled"),$n(Tt(()=>kr(c)>=kr(T)-1&&kr(m).isLast),"nextDisabled"),je(()=>{kr(Z)&&(kr(Z).style.setProperty("--mv-font-size",`${kr(u).fontSize}px`),kr(Z).style.setProperty("--mv-line-height",String(kr(u).lineHeight)),kr(Z).style.setProperty("--mv-font-family",kr(u).fontFamily),kr(Z).style.setProperty("--risu-font-family",kr(u).fontFamily),kr(Z).setAttribute("data-theme",kr(u).theme))}),Ii(async()=>{const n=ea(ta.chatScreen.textarea);if(n){const t=n.scrollHeight+10;ee(M,`calc(100% - ${t}px)`),N=new ResizeObserver(n=>{for(const t of n){const n=t.target.scrollHeight+10;ee(M,`calc(100% - ${n}px)`)}}),N.observe(n),na.isNil(j)||(j.disconnect(),j=null),j=new MutationObserver(()=>{vn()}),j.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]})}ee(u,gl(),!0),ee(p,pl(),!0),kr(p)&&bl(kr(p)),E(),(await Rt(Ha()))(),(await Rt(D()))(),P=setInterval(K,1e3),z=function(n={}){const{onSwipeLeft:t=()=>{},onSwipeRight:e=()=>{},threshold:r=50,velocityThreshold:o=.3,maxVerticalRatio:i=.75}=n;let a=0,l=0,s=0,c=!1;return{touchStart:function(n){if(1!==n.touches.length)return;const t=n.touches[0];a=t.clientX,l=t.clientY,s=Date.now(),c=!0},touchMove:function(n){if(!c||1!==n.touches.length)return;const t=n.touches[0];t.clientX,t.clientY},touchEnd:function(n){if(!c)return;c=!1;const u=n.changedTouches[0],d=u.clientX-a,f=u.clientY-l,g=Date.now()-s;if(Math.abs(f)>Math.abs(d)*i)return;const v=Math.abs(d)/g;(Math.abs(d)>r||v>o&&Math.abs(d)>30)&&(d>0?e():t())},touchCancel:function(){c=!1}}}({onSwipeLeft:nn,onSwipeRight:tn,threshold:50}),kr(Z)&&(kr(Z).addEventListener("touchstart",z.touchStart,{passive:!0}),kr(Z).addEventListener("touchmove",z.touchMove,{passive:!0}),kr(Z).addEventListener("touchend",z.touchEnd,{passive:!0})),window.ResizeObserver?(B=new ResizeObserver(gn),B.observe(document.documentElement)):(Y=gn,window.addEventListener("resize",Y));const t=Gi.getInstance();O=t.subscribeToChar(n=>({chatPage:null==n?void 0:n.chatPage,chaId:null==n?void 0:n.chaId}),n=>{(ve(n.chatPage,o(),!1)||ve(n.chaId,i(),!1))&&(console.log("[MobileBookViewer] Chat page or character changed, reloading..."),Ql(null,!1))},500),H=t.subscribeToChar(n=>{var t,e,r;return null==(r=null==(e=null==(t=null==n?void 0:n.chats)?void 0:t[n.chatPage])?void 0:e.message)?void 0:r.length},n=>{var e,r,o;const i=ia();if(ve(i.length,kr(w).length,!1)){const l=i.filter(n=>!kr(w).includes(n));if(l.length>0){const i=t.getChar(),s=null==(o=null==(r=null==(e=null==i?void 0:i.chats)?void 0:e[i.chatPage])?void 0:r.message)?void 0:o[n-1],c=null==s?void 0:s.role,u=(null==s?void 0:s.data)||"";if(ve(c,"char"))if(u.includes("<lb-rerolling>"))ee(X,!0);else{const n=l[l.length-1];a=()=>$(n),ee(_,"ìƒˆë¡œìš´ ì‘ë‹µì´ ìˆ˜ì‹ ë˜ì—ˆìŠµë‹ˆë‹¤. í´ë¦­ ì‹œ ì´ë™í•©ë‹ˆë‹¤.",!0),ee(L,!0),ee(S,a,!0),ee(G,!0)}else if(ve(c,"user")){$(l[l.length-1])}}else kr(X)&&ee(X,!1);ee(w,i,!0),E()}var a},1e3)}),Ci(()=>{R&&clearTimeout(R),P&&clearInterval(P),N&&(N.disconnect(),N=null),j&&(j.disconnect(),j=null),B&&(B.disconnect(),B=null),Y&&(window.removeEventListener("resize",Y),Y=null),kr(Z)&&z&&(kr(Z).removeEventListener("touchstart",z.touchStart),kr(Z).removeEventListener("touchmove",z.touchMove),kr(Z).removeEventListener("touchend",z.touchEnd)),O&&O(),H&&H();const n=document.getElementById("book-viewer-custom-css");n&&n.remove()});const gn=na.debounce(()=>{as()||(ql(),ls(r(),!1,!1))},300),vn=na.debounce(function(){const n=ea(ta.setting.root);n&&(console.log(...yi("log",n)),ql())},100);var pn={...vo()},hn=Dl();Dr("keydown",pe,function(n){var e;if(kr(C))ve(n.key,"Escape")&&ee(C,!1);else if(kr(y)||kr(I))ve(n.key,"Escape")&&(ee(y,!1),ee(I,!1));else{if(ve(n.key,"Escape",!1)){const n=document.activeElement;if(n&&(ve(n.tagName,"TEXTAREA")||ve(n.tagName,"INPUT")||n.isContentEditable))return;const t=window.getSelection();if(t&&t.toString().length>0)return}ve(n.key,"ArrowRight")||ve(n.key,"PageDown")||ve(n.key," ")?(n.preventDefault(),nn()):ve(n.key,"ArrowLeft")||ve(n.key,"PageUp")?(n.preventDefault(),tn()):ve(n.key,"Escape")&&(null==(e=t.onClose)||e.call(t))}}),Dr("resize",pe,function(){J()}),Dr("fullscreenchange",he,function(){ee(x,!!document.fullscreenElement)});var bn=Ae(hn);let mn;var wn=Ae(bn);{let n=Tt(()=>kr(f).length>0);at(()=>Ll(wn,{get thumbnailUrl(){return kr(d).thumbnailUrl},get name(){return kr(d).name},get chatIndex(){return kr(d).chatIndex},get buttons(){return kr(d).buttons},get chatIndexPosition(){return kr(m)},get showLBButton(){return kr(n)},get isFullscreen(){return kr(x)},get isLBLoading(){return kr(X)},get onBack(){return t.onClose},onPrevChat:en,onNextChat:rn,onFullscreenToggle:sn,onLBToggle:ln,onSettingsToggle:an}),"component",Ul,740,4,{componentTag:"MobileBookHeader"})}var yn=Ge(wn,2);at(()=>Zl(yn,{get content(){return kr(V)},get pageNum(){return kr(F)},get isLoading(){return kr(A)},get loadingMessage(){return kr(k)},get liveContentButtons(){return kr(v)},get imageCensored(){return kr(u).imageCensored},get imageCensoredMinWidth(){return kr(u).imageCensoredMinWidth},get imageCensoredMinHeight(){return kr(u).imageCensoredMinHeight}}),"component",Ul,757,4,{componentTag:"MobileBookPage"});var In=Ge(yn,2);{let n=Tt(()=>ve(kr(c),0)),t=Tt(()=>kr(c)>=kr(T)-1);at(()=>Nl(In,{get currentPage(){return kr(c)},get totalPages(){return kr(T)},get isFirst(){return kr(m).isFirst},get isLast(){return kr(m).isLast},onPrev:tn,onNext:nn,get prevDisabled(){return kr(n)},get nextDisabled(){return kr(t)}}),"component",Ul,768,4,{componentTag:"MobileNavFooter"})}var Cn=Ge(In,2);at(()=>Rl(Cn,{get isOpen(){return kr(y)},get settings(){return kr(u)},onSettingsChange:on,onOpenCustomCss:cn,onClose:()=>ee(y,!1)}),"component",Ul,779,4,{componentTag:"MobileSettingsPanel"});var xn=Ge(Cn,2);at(()=>Tl(xn,{get isOpen(){return kr(I)},get modules(){return kr(f)},onModuleClick:fn,onClose:()=>ee(I,!1)}),"component",Ul,787,4,{componentTag:"MobileLBPanel"});var An=Ge(xn,2);at(()=>Fl(An,{get isOpen(){return kr(C)},get initialCss(){return kr(p)},onApply:un,onReset:dn,onClose:()=>ee(C,!1)}),"component",Ul,794,4,{componentTag:"MobileCustomCssModal"});var kn=Ge(An,2);return at(()=>cl(kn,{get message(){return kr(_)},get visible(){return kr(G)},duration:2e3,get clickable(){return kr(L)},get onClick(){return kr(S)},onHide:q}),"component",Ul,802,4,{componentTag:"ViewerToast"}),di(bn,n=>ee(Z,n),()=>kr(Z)),Pe(()=>{ei(hn,"data-chat-index",r()),ei(hn,"data-chat-page",o()),ei(hn,"data-char-id",i()),ei(bn,"data-theme",kr(u).theme),mn=Fo(bn,"",mn,{height:kr(M),padding:"unset !important"})}),oo(n,hn),ut(pn)}const Jl="mobile-book-viewer",Kl="mobile-viewer";function Ql(n=null,t=!0,e=!1,r=null){if(t&&Zi(Jl))return ql(),void(Zi(ts)&&is());Zi(Jl)&&Wi(Jl),Zi(ts)&&Wi(ts);const o=Gi.getInstance(),i=null!=n?Number(n):o.getLastChatIndex()-1,a=oa(i);if(!a)return void console.warn("[MobileViewer] Chat element not found for index:",i);const l=a.outerHTML,s=o.getCurrentChatPage(),c=o.getChaId(),u=ea(ta.chatScreen.displayContainer);u&&Mi(u,{overflow:"hidden"},Kl),Xi({id:Jl,component:Ul,target:document.body,props:{chatHtml:l,chatIndex:i,chatPage:s,chaId:c,onClose:ql,initialLoading:e,initialPage:r}})}async function ql(){var n;const t=ea(ta.chatScreen.displayContainer);t&&Ni(t,Kl),document.fullscreenElement&&await(null==(n=document.exitFullscreen)?void 0:n.call(document)),Wi(Jl)}ns[zn]="src/ui/components/viewer/pc/PCBookViewer.svelte";var $l=Hr(no('<div class="risu-chat pc-viewer-container"><div class="book-viewer-root chat-message-container"><!> <!> <!> <!> <!></div></div>'),ns[zn],[[639,0,[[646,2]]]]);function ns(n,t){go(new.target),ct(t,!0,ns);let e=wi(t,"chatHtml",7,""),r=wi(t,"chatIndex",3,0),o=wi(t,"chatPage",3,0),i=wi(t,"chaId",3,null),a=wi(t,"initialLoading",3,!1),l=wi(t,"initialPage",3,null),s=$n(ne(ce([])),"pages"),c=$n(ne(0),"currentPage"),u=$n(ne(ce({fontSize:17,lineHeight:1.5,theme:"dark",fontFamily:"ë‚˜ëˆ”ìŠ¤í€˜ì–´ë„¤ì˜¤",imageCensored:!1,imageCensoredMinWidth:100,imageCensoredMinHeight:100,jumpToLastPageOnPrevIndex:!1})),"settings"),d=$n(ne(ce({thumbnailUrl:"",name:"",chatIndex:0,buttons:[]})),"headerInfo"),f=$n(ne(ce([])),"lbModules"),g=$n(ne(ce(new Map)),"liveLBModuleButtons"),v=$n(ne(ce([])),"liveContentButtons"),p=$n(ne(!1),"isCssModalOpen"),h=$n(ne(""),"customCss"),b=$n(ne(null),"originalContent"),m=$n(ne(""),"lastKnownHtml"),w=$n(ne(ce({position:0,total:0,isFirst:!0,isLast:!0})),"chatIndexPosition"),y=$n(ne(ce([])),"visibleChatIndices"),I=$n(ne(!1),"isLoading"),C=$n(ne(""),"loadingMessage"),x=$n(ne(!1),"toastVisible"),A=$n(ne(""),"toastMessage"),k=$n(ne(!1),"toastClickable"),G=$n(ne(null),"toastOnClick"),_=$n(ne(!1),"isLBLoading"),L=$n(ne("100%"),"viewerHeight"),S=null,X=null,W=null;je(()=>{ee(I,a()),ee(C,a()?"Loading...":"",!0)});let Z=new Wa({splittableTags:["p"]}),M=$n(ne(null),"leftContentRef"),N=$n(ne(null),"rootElement"),j=null,B=null,Y=null,R=null,P=$n(Tt(()=>Math.ceil(kr(s).length/2)),"totalSpreads"),O=$n(Tt(()=>2*kr(c)),"leftIndex"),H=$n(Tt(()=>2*kr(c)+1),"rightIndex"),z=$n(Tt(()=>kr(s)[kr(O)]||""),"leftContent"),T=$n(Tt(()=>kr(s)[kr(H)]||""),"rightContent"),V=$n(Tt(()=>kr(s)[kr(O)]?kr(O)+1:0),"leftPageNum"),F=$n(Tt(()=>kr(s)[kr(H)]?kr(H)+1:0),"rightPageNum"),E=$n(Tt(()=>ve(kr(c),0)),"prevDisabled"),D=$n(Tt(()=>kr(H)>=kr(s).length-1),"nextDisabled");function U(){ee(y,ia(),!0),ee(w,la(r()),!0)}async function J(){if(!e())return;ee(m,e(),!0);const n=(new DOMParser).parseFromString(e(),"text/html");ee(d,Ba(n),!0),kr(d).chatIndex=r();const t=oa(r());t&&(kr(d).buttons=Ya(t),ee(v,Ra(t),!0),ee(g,Pa(t),!0)),ee(f,Oa(n),!0);const o=n.querySelector(".chattext");if(o){if(Ma(o),ee(b,o.cloneNode(!0),!0),(await Rt(Ha()))(),(await Rt(K()))(),ve(l(),null,!1)&&kr(s).length>0){let n;if(ve(l(),"last"))n=Math.max(0,Math.ceil(kr(s).length/2)-1);else{const t=Math.max(0,Math.ceil(kr(s).length/2)-1);n=Math.min(Number(l()),t)}ee(c,n,!0)}kr(I)&&setTimeout(()=>{ee(I,!1),ee(C,"")},100)}}async function K(){if(!kr(b))return;const n=document.querySelector(".book-viewer-root .text-content");if(!n){(await Rt(Ha()))();if(!document.querySelector(".book-viewer-root .text-content"))return}const t=Za(n||document.body);try{ee(s,Na(kr(b).cloneNode(!0),t,Z),!0)}finally{t.parentNode&&t.parentNode.removeChild(t)}}function Q(){j&&clearTimeout(j),j=setTimeout(()=>{!async function(){if(!kr(b))return;const n=2*kr(c);ee(s,[],!0),ee(c,0),(await Rt(Ha()))(),(await Rt(K()))();const t=Math.max(0,Math.ceil(kr(s).length/2)-1);ee(c,Math.min(Math.floor(n/2),t),!0)}()},300)}function q(){const n=oa(r());if(n){const t=n.outerHTML;ve(t,kr(m),!1)&&(ee(m,t,!0),e(t),J())}}function $(n){ee(A,n,!0),ee(k,!1),ee(G,null),ee(x,!0)}function nn(){ee(x,!1),ee(A,""),ee(k,!1),ee(G,null)}function tn(){kr(H)>=kr(s).length-1?on():ie(c)}function en(){ve(kr(c),0)?rn():ie(c,-1)}function rn(){const{index:n,isFirst:t}=aa(r(),"prev");if(ve(n,null,!1)){os(n,!1,!0,kr(u).jumpToLastPageOnPrevIndex?"last":null)}else t&&$("í˜„ìž¬ ì±„íŒ…ì˜ ì²« ë²ˆì§¸ íŽ˜ì´ì§€ìž…ë‹ˆë‹¤")}function on(){const{index:n,isLast:t}=aa(r(),"next");ve(n,null,!1)?os(n,!1,!0):t&&$("í˜„ìž¬ ì±„íŒ…ì˜ ë§ˆì§€ë§‰ íŽ˜ì´ì§€ìž…ë‹ˆë‹¤")}function an(n){ve(n,r(),!1)&&os(n,!1,!0)}function ln(n){ee(u,n,!0),vl(kr(u)),Q()}function sn(){ee(p,!0)}function cn(n){ee(h,n,!0),hl(n),bl(n),ee(p,!1),Q()}function un(){ee(h,""),ml(),Q()}function dn(n){const t=n.dataId||n.risuBtn;if(t&&kr(g).has(t)){const n=kr(g).get(t),e=new MouseEvent("click",{bubbles:!0,cancelable:!0});n.dispatchEvent(e)}}je(()=>{kr(N)&&(kr(N).style.setProperty("--bv-font-size",`${kr(u).fontSize}px`),kr(N).style.setProperty("--bv-line-height",String(kr(u).lineHeight)),kr(N).style.setProperty("--bv-font-family",kr(u).fontFamily),kr(N).style.setProperty("--risu-font-family",kr(u).fontFamily),kr(N).setAttribute("data-theme",kr(u).theme))}),Ii(async()=>{ee(u,gl(),!0),ee(h,pl(),!0),kr(h)&&bl(kr(h));const n=ea(ta.chatScreen.textarea);if(n){const t=n.scrollHeight+10;ee(L,`calc(100% - ${t}px)`),S=new ResizeObserver(n=>{for(const t of n){const n=t.target.scrollHeight+10;ee(L,`calc(100% - ${n}px)`)}}),S.observe(n)}U(),(await Rt(Ha()))(),(await Rt(J()))(),B=setInterval(q,1e3),window.ResizeObserver?(X=new ResizeObserver(fn),X.observe(document.documentElement)):(W=fn,window.addEventListener("resize",W));const t=Gi.getInstance();Y=t.subscribeToChar(n=>({chatPage:null==n?void 0:n.chatPage,chaId:null==n?void 0:n.chaId}),n=>{(ve(n.chatPage,o(),!1)||ve(n.chaId,i(),!1))&&(console.log("[PCBookViewer] Chat page or character changed, reloading..."),os(null,!1))},500),R=t.subscribeToChar(n=>{var t,e,r;return null==(r=null==(e=null==(t=null==n?void 0:n.chats)?void 0:t[n.chatPage])?void 0:e.message)?void 0:r.length},n=>{var e,r,o;const i=ia();if(ve(i.length,kr(y).length,!1)){const l=i.filter(n=>!kr(y).includes(n));if(l.length>0){console.log(...yi("log","[PCBookViewer] New chat indices detected:",l));const i=t.getChar(),s=null==(o=null==(r=null==(e=null==i?void 0:i.chats)?void 0:e[i.chatPage])?void 0:r.message)?void 0:o[n-1],c=null==s?void 0:s.role,u=(null==s?void 0:s.data)||"";if(ve(c,"char"))if(u.includes("<lb-rerolling>"))ee(_,!0),console.log("[PCBookViewer] LB module rerolling detected");else{const n=l[l.length-1];a=()=>an(n),ee(A,"ìƒˆë¡œìš´ ì‘ë‹µì´ ìˆ˜ì‹ ë˜ì—ˆìŠµë‹ˆë‹¤. í´ë¦­ ì‹œ ì´ë™í•©ë‹ˆë‹¤.",!0),ee(k,!0),ee(G,a,!0),ee(x,!0)}else if(ve(c,"user")){an(l[l.length-1])}}else kr(_)&&(ee(_,!1),console.log("[PCBookViewer] LB module processing completed"));ee(y,i,!0),U()}var a},1e3)}),Ci(()=>{j&&clearTimeout(j),B&&clearInterval(B),S&&(S.disconnect(),S=null),X&&(X.disconnect(),X=null),W&&(window.removeEventListener("resize",W),W=null),Y&&Y(),R&&R();const n=document.getElementById("book-viewer-custom-css");n&&n.remove()});const fn=na.debounce(()=>{as()&&(is(),Ql(r(),!1,!1))},300);var gn={...vo()},vn=$l();let pn;Dr("keydown",pe,function(n){var e;if(kr(p))ve(n.key,"Escape")&&ee(p,!1);else{if(ve(n.key,"Escape",!1)){const n=document.activeElement;if(n&&(ve(n.tagName,"TEXTAREA")||ve(n.tagName,"INPUT")||n.isContentEditable))return;const t=window.getSelection();if(t&&t.toString().length>0)return}ve(n.key,"ArrowRight")||ve(n.key,"PageDown")||ve(n.key," ")?(n.preventDefault(),tn()):ve(n.key,"ArrowLeft")||ve(n.key,"PageUp")?(n.preventDefault(),en()):ve(n.key,"Escape")&&(null==(e=t.onClose)||e.call(t))}}),Dr("resize",pe,function(){Q()});var hn=Ae(vn),bn=Ae(hn);at(()=>xa(bn,{get thumbnailUrl(){return kr(d).thumbnailUrl},get name(){return kr(d).name},get chatIndex(){return kr(d).chatIndex},get buttons(){return kr(d).buttons},get chatIndexPosition(){return kr(w)},onPrevChat:rn,onNextChat:on,get onClose(){return t.onClose}}),"component",ns,651,4,{componentTag:"BookHeader"});var mn=Ge(bn,2);at(()=>Da(mn,{get leftContent(){return kr(z)},get rightContent(){return kr(T)},get leftPageNum(){return kr(V)},get rightPageNum(){return kr(F)},onPrevPage:en,onNextPage:tn,get isLoading(){return kr(I)},get loadingMessage(){return kr(C)},get liveContentButtons(){return kr(v)},get imageCensored(){return kr(u).imageCensored},get imageCensoredMinWidth(){return kr(u).imageCensoredMinWidth},get imageCensoredMinHeight(){return kr(u).imageCensoredMinHeight},get leftContentRef(){return kr(M)},set leftContentRef(n){ee(M,n,!0)}}),"component",ns,662,4,{componentTag:"BookPages"});var wn=Ge(mn,2);at(()=>ol(wn,{get currentSpread(){return kr(c)},get totalSpreads(){return kr(P)},onPrev:en,onNext:tn,get isFirst(){return kr(w).isFirst},get isLast(){return kr(w).isLast},get prevDisabled(){return kr(E)},get nextDisabled(){return kr(D)},get settings(){return kr(u)},onSettingsChange:ln,onOpenCustomCss:sn,get lbModules(){return kr(f)},onLBModuleClick:dn,get isLBLoading(){return kr(_)}}),"component",ns,678,4,{componentTag:"NavControls"});var yn=Ge(wn,2);at(()=>ll(yn,{get isOpen(){return kr(p)},get initialCss(){return kr(h)},onApply:cn,onReset:un,onClose:()=>ee(p,!1)}),"component",ns,695,4,{componentTag:"CustomCssModal"});var In=Ge(yn,2);{let n=Tt(()=>kr(k)?5e3:2e3);at(()=>cl(In,{get message(){return kr(A)},get visible(){return kr(x)},get duration(){return kr(n)},get clickable(){return kr(k)},get onClick(){return kr(G)},onHide:nn}),"component",ns,703,4,{componentTag:"ViewerToast"})}return di(hn,n=>ee(N,n),()=>kr(N)),Pe(()=>{ei(vn,"data-chat-index",r()),ei(vn,"data-chat-page",o()),ei(vn,"data-char-id",i()),pn=Fo(vn,"",pn,{height:kr(L)}),ei(hn,"data-theme",kr(u).theme)}),oo(n,vn),ut(gn)}const ts="pc-book-viewer",es="pc-viewer";let rs=null;function os(n=null,t=!0,e=!1,r=null){if(Zi(ts)&&(is(),Zi(Jl)&&ql(),t))return!0;Zi(Jl)&&Wi(Jl),Zi(ts)&&Wi(ts);const o=Gi.getInstance();let i=o.getDatabase(),a=na.cloneDeep(i.theme),l=na.cloneDeep(i.customCSS);i.theme="",i.customCSS="";try{const t=null!=n?Number(n):o.getLastChatIndex()-1,s=oa(t);if(!s)return console.warn("[PCViewer] Chat element not found for index:",t),!1;const c=ea(ta.chatScreen.displayContainer);if(!c)return console.warn("[PCViewer] Display container not found"),!1;rs=c,Mi(c,{overflow:"hidden"},es);Mi(ea(ta.chatScreen.root),{overflow:"hidden"},es);const u=Xi({id:ts,component:ns,target:c,props:{chatHtml:s.outerHTML,chatIndex:t,chatPage:o.getCurrentChatPage(),chaId:o.getChaId(),onClose:is,initialLoading:e,initialPage:r},useContents:!1});return i.theme=a,i.customCSS=l,!!u}catch(s){return i.theme=a,i.customCSS=l,console.error("[PCViewer] Failed to open:",s),!1}}function is(){if(rs){Ni(rs,es);Ni(ea(ta.chatScreen.root),es),rs=null}return Wi(ts)}function as(){const n=window.innerWidth<=680,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),e="ontouchstart"in window||navigator.maxTouchPoints>0;return n&&t&&e}async function ls(n=null,t=!0,e=!1){return os(n,t,e)}cs[zn]="src/ui/components/BookButton.svelte";var ss=Hr(no('<button class="flex justify-center border-y border-darkborderc items-center text-gray-100 p-3 peer-focus:border-textcolor hover:bg-blue-500 transition-colors button-icon-ebook" title="ì´ë¶ ë¦¬ìˆ˜ ê¸°ë¦½í•˜ì‹œì˜¤"><!></button>'),cs[zn],[[45,0]]);function cs(n,t){go(new.target),ct(t,!0,cs);let e=$n(ne("44px"),"inputHeight"),r=null;Ii(()=>{const n=ea(ta.chatScreen.textarea);n&&(ee(e,`${n.scrollHeight}px`),r=new ResizeObserver(n=>{for(const t of n){const n=t.target.scrollHeight;ee(e,`${n}px`)}}),r.observe(n))}),Ci(()=>{r&&(r.disconnect(),r=null)});var o={...vo()},i=ss();let a;i.__click=async function(n){n.stopPropagation(),as()?(await Rt(Ql()))():(await Rt(ls()))()};var l=Ae(i);return at(()=>fa(l,{}),"component",cs,51,2,{componentTag:"Book"}),Pe(()=>a=Fo(i,"",a,{height:kr(e)})),oo(n,i),ut(o)}Ur(["click"]),ds[zn]="src/ui/components/SmallBookButton.svelte";var us=Hr(no('<button class="ml-2 hover:text-blue-500 transition-colors button-small-book" title="ì´ë¶ ë·°ì–´ë¡œ ë³´ê¸°"><!></button>'),ds[zn],[[18,0]]);function ds(n,t){go(new.target),ct(t,!0,ds);var e={...vo()},r=us();r.__click=async function(n){n.stopPropagation(),as()?(await Rt(Ql()))():(await Rt(ls(t.chatIndex)))()};var o=Ae(r);return at(()=>da(o,{size:20}),"component",ds,23,2,{componentTag:"BookOpen"}),oo(n,r),ut(e)}function fs(n,t){go(new.target),ct(t,!0,fs);let e=$n(ne(null),"risuAPI"),r=$n(ne(null),"observer");const o=na.debounce(function(){const n=ea(ta.chatScreen.inputContainer),t=ea(ta.chatScreen.sendButton);na.isNil(n)||Xi({id:"book-button",component:cs,target:n,anchor:t});const e=ra(ta.chatMessage.botButtonDiv);na.isNil(e)||e.forEach(n=>{Xi({id:"small-book-button",component:ds,target:n,anchor:ea(ta.chatMessage.copyButton,n),props:{chatIndex:function({node:n,maxDepth:t=10}){var e;return n&&n instanceof Node?(n instanceof Element||n.parentElement,null==(e=n.closest(".risu-chat").dataset)?void 0:e.chatIndex):null}({node:n})}})});ea(ta.chatScreen.burgerMenu)},100);return Ii(()=>{ee(e,Gi.getInstance(),!0),na.isNil(kr(e))?console.log(`[${xi}] RisuAPI is not initialized`):(!function(){na.isNil(kr(r))||kr(r).disconnect();ee(r,new MutationObserver(()=>{o()}),!0),kr(r).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}),o()}(),console.log(`[${xi}] plugin loaded`))}),Ci(()=>{na.isNil(kr(r))||kr(r).disconnect(),Wi("book-button"),o.cancel(),console.log(`${xi} ì–¸ë¡œë“œ`)}),ut({...vo()})}Ur(["click"]),fs[zn]="src/App.svelte",(async()=>{Promise.resolve().then(()=>hs).then(({initHotReload:n})=>{n(),console.log(`[${xi}] ðŸ”¥ Hot Reload enabled`)}).catch(n=>{console.warn("[App] Hot reload initialization failed:",n)});try{const n=Gi.getInstance(globalThis.__pluginApis__);if(!(await n.initialize()))return void console.error(`[${xi}] Failed to initialize RisuAPI`);Ui({silent:!0}).catch(n=>{console.warn("[App] Update check failed:",n)});const t=document.createElement("div");t.id=`${xi}-root`,document.body.appendChild(t);const e=so(fs,{target:t});console.log(`${xi} v${Ai} loaded`),n.onUnload(()=>{fo(e),t.remove()})}catch(n){console.error(`[${xi}] Initialization failed:`,n)}})();const gs="wss://ws.noelkim12.dev/ws";class vs{constructor(){this.ws=null,this.reconnectAttempts=0,this.reconnectTimeout=null,this.isIntentionallyClosed=!1,this.errorLogCount=0}connect(){if(this.ws&&this.ws.readyState===WebSocket.OPEN)console.log(`[${xi}:HotReload] Already connected`);else try{this.errorLogCount<3&&console.log(`[${xi}:HotReload] Connecting to dev server:`,gs),this.ws=new WebSocket(gs),this.ws.onopen=()=>{console.log(`[${xi}:HotReload] âœ… Connected to dev server`),this.reconnectAttempts=0,this.errorLogCount=0},this.ws.onmessage=n=>{this.handleMessage(n.data)},this.ws.onclose=n=>{this.errorLogCount<3?(console.log(`[${xi}:HotReload] Disconnected (code: ${n.code}, reason: ${n.reason||"unknown"})`),this.errorLogCount++):3===this.errorLogCount&&(console.log(`[${xi}:HotReload] Connection errors suppressed (max logs reached). Retrying silently...`),this.errorLogCount++),this.isIntentionallyClosed||this.scheduleReconnect()},this.ws.onerror=n=>{}}catch(n){this.errorLogCount<3&&this.errorLogCount++,this.scheduleReconnect()}}handleMessage(n){try{const t=JSON.parse(n);switch(t.type){case"connected":console.log(`[${xi}:HotReload] Server message:`,t.message);break;case"reload":console.log(`[${xi}:HotReload] ðŸ“¦ Update received (${t.file}, ${t.size} bytes)`),this.handleReload(t.scriptContent);break;case"pong":break;default:console.warn(`[${xi}:HotReload] Unknown message type:`,t.type)}}catch(t){console.error(`[${xi}:HotReload] Failed to parse message:`,t)}}extractPluginName(n){try{const t=/\/\/@name (.+?)\n/,e=n.match(t);return e?e[1].trim():null}catch(t){return console.error(`[${xi}:HotReload] Failed to extract plugin name:`,t),null}}async handleReload(n){var t;try{console.log(`[${xi}:HotReload] ðŸ”„ Parsing updated script...`);const e=this.extractPluginName(n),r=xi;if(!e)return console.error(`[${xi}:HotReload] âŒ Security Check Failed: No plugin name found in received script`),void this.showToast("âŒ Security Check Failed: Invalid script format","error");if(e!==r)return console.error(`[${xi}:HotReload] âŒ Security Check Failed: Plugin name mismatch\n  Expected: ${r}\n  Received: ${e}`),void this.showToast(`âŒ Security Check Failed: Wrong plugin (${e})`,"error");console.log(`[${xi}:HotReload] âœ… Security Check Passed: Plugin name verified (${r})`);const o=ji(n);console.log(`[${xi}:HotReload] ðŸ”„ Updating plugin...`);const i=await Bi(o);i.success?(console.log(`[${xi}:HotReload] âœ… Plugin updated successfully`),this.showToast("ðŸ”¥ Hot Reload Complete!","success")):(console.error(`[${xi}:HotReload] âŒ Plugin update failed:`,i.error),this.showToast(`âŒ Hot Reload Failed: ${(null==(t=i.error)?void 0:t.message)||"Unknown error"}`,"error"))}catch(e){console.error(`[${xi}:HotReload] âŒ Reload failed:`,e),this.showToast(`âŒ Hot Reload Error: ${e.message}`,"error")}}showToast(n,t="success"){const e=document.getElementById("hot-reload-toast");e&&e.remove();const r=document.createElement("div");r.id="hot-reload-toast",r.textContent=n;const o="success"===t?"#10b981":"#ef4444";Object.assign(r.style,{position:"fixed",top:"-100px",left:"50%",transform:"translateX(-50%)",backgroundColor:o,color:"white",padding:"12px 24px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06)",fontSize:"14px",fontWeight:"500",zIndex:"999999",transition:"top 0.3s ease-out",fontFamily:"system-ui, -apple-system, sans-serif"}),document.body.appendChild(r),setTimeout(()=>{r.style.top="20px"},10),setTimeout(()=>{r.style.top="-100px",setTimeout(()=>{r.remove()},300)},3e3)}scheduleReconnect(){if(this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.reconnectAttempts>=3)return void(this.errorLogCount<3&&console.log(`[${xi}:HotReload] Max reconnection attempts reached. Stopped retrying.`));const n=Math.min(1e3*Math.pow(2,this.reconnectAttempts),3e4);this.errorLogCount<3&&console.log(`[${xi}:HotReload] Reconnecting in ${n/1e3}s... (attempt ${this.reconnectAttempts+1})`),this.reconnectTimeout=setTimeout(()=>{this.reconnectAttempts++,this.connect()},n)}ping(){this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify({type:"ping",timestamp:Date.now()}))}disconnect(){this.isIntentionallyClosed=!0,this.reconnectTimeout&&clearTimeout(this.reconnectTimeout),this.ws&&(this.ws.close(1e3,"Client closed"),this.ws=null),console.log(`[${xi}:HotReload] Disconnected`)}}let ps=null;const hs=Object.freeze(Object.defineProperty({__proto__:null,initHotReload:function(){return ps?(console.log(`[${xi}:HotReload] Already initialized`),ps):(console.log(`[${xi}:HotReload] ðŸ”¥ Initializing hot reload client...`),ps=new vs,ps.connect(),setInterval(()=>{ps.ping()},3e4),ps)}},Symbol.toStringTag,{value:"Module"}))});

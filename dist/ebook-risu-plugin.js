//@name ebook-risu-plugin
//@display-name ebook-risu-plugin_v0.0.1
//@version 0.0.1
//@description Crp Svelte for RISU AI
//@arg arg1 string
//@arg arg2 int

//@link https://unpkg.com/ebook-risu-plugin@0.0.1/dist/ebook-risu-plugin.js
!function(){"use strict";try{if("undefined"!=typeof document){var d=document.createElement("style");d.appendChild(document.createTextNode('.update-dialog-module__udRoot--bWc9J{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483646;display:grid;place-items:center;background:#0006;padding:16px}.update-dialog-module__udCard---wy8T{width:min(520px,100%);max-height:90vh;border-radius:16px;padding:20px;background:var(--bg, #111);color:var(--fg, #eaeaea);box-shadow:0 10px 30px #00000059;transform:scale(.97);animation:update-dialog-module__udPop--0Vb0B .16s ease-out forwards;overflow-y:auto}.update-dialog-module__udTitle--5imsi{display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap}.update-dialog-module__udTitle--5imsi h3{margin:0;font-size:18px;font-weight:700;word-break:break-word;flex:1 1 auto;min-width:0}.update-dialog-module__udPill--leinK{font:12px/1.8 system-ui;padding:0 8px;border-radius:999px;background:#2a2a2a;color:#cfcfcf;white-space:nowrap;flex-shrink:0}.update-dialog-module__udSub--zfs1y{margin:8px 0 12px;color:#9aa0a6;font:13px/1.5 system-ui;word-break:break-word}.update-dialog-module__udList--jnFg8{margin:10px 0 16px;padding-left:18px;max-height:180px;overflow-y:auto;overflow-x:hidden}.update-dialog-module__udList--jnFg8 li{margin:6px 0;word-break:break-word;overflow-wrap:break-word}.update-dialog-module__udFeat--MSXJY::marker{content:"âœ¨ "}.update-dialog-module__udFix--18UZ3::marker{content:"ðŸ”§ "}.update-dialog-module__udPerf--bRifN::marker{content:"âš¡ "}.update-dialog-module__udBreak--jl-Bf::marker{content:"âš ï¸ "}.update-dialog-module__udActions--5tqy2{display:flex;gap:8px;justify-content:flex-end;flex-wrap:wrap}.update-dialog-module__udBtn--IHB-y{border:0;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;white-space:nowrap;flex:0 1 auto}.update-dialog-module__udBtnPrimary--ZlLFd{border:0;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;background:#4f7cff;color:#fff;white-space:nowrap;flex:0 1 auto}.update-dialog-module__udBtnGhost--Ly-cb{border:0;padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600;font-size:14px;background:transparent;color:#cfcfcf;white-space:nowrap;flex:0 1 auto}.update-dialog-module__udBtn--IHB-y:hover,.update-dialog-module__udBtnPrimary--ZlLFd:hover,.update-dialog-module__udBtnGhost--Ly-cb:hover{filter:brightness(1.05)}@media(max-width:480px){.update-dialog-module__udCard---wy8T{padding:16px;border-radius:12px}.update-dialog-module__udTitle--5imsi{gap:8px}.update-dialog-module__udTitle--5imsi h3{font-size:16px}.update-dialog-module__udPill--leinK{font-size:11px;padding:0 6px}.update-dialog-module__udSub--zfs1y{font-size:12px;margin:6px 0 10px}.update-dialog-module__udList--jnFg8{font-size:14px;max-height:150px;padding-left:16px}.update-dialog-module__udList--jnFg8 li{margin:5px 0;line-height:1.5}.update-dialog-module__udActions--5tqy2{flex-direction:column;gap:8px}.update-dialog-module__udBtn--IHB-y,.update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udBtnGhost--Ly-cb{width:100%;padding:11px 16px;font-size:14px}}@media(min-width:481px)and (max-width:600px){.update-dialog-module__udCard---wy8T{padding:18px}.update-dialog-module__udActions--5tqy2{gap:6px}.update-dialog-module__udBtn--IHB-y,.update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udBtnGhost--Ly-cb{padding:9px 11px;font-size:13px}}@media(prefers-color-scheme:light){:root{--bg: #fff;--fg: #111}.update-dialog-module__udCard---wy8T{background:#fff;color:#111}.update-dialog-module__udPill--leinK{background:#eef2ff;color:#1f3fb3}.update-dialog-module__udSub--zfs1y{color:#4b5563}}@media(prefers-reduced-motion:reduce){.update-dialog-module__udCard---wy8T{animation:none;transform:none}}@keyframes update-dialog-module__udPop--0Vb0B{to{transform:scale(1)}}.update-dialog-module__udAlert--GJ6WI{max-width:420px;text-align:center}.update-dialog-module__udAlertMessage--nJfX4{margin:16px 0 20px;font-size:16px;line-height:1.6;color:var(--fg, #eaeaea);white-space:pre-line;word-break:break-word}.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udActions--5tqy2{justify-content:center}.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtn--IHB-y,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnGhost--Ly-cb{min-width:120px}@media(max-width:480px){.update-dialog-module__udAlert--GJ6WI{max-width:100%}.update-dialog-module__udAlertMessage--nJfX4{font-size:15px;margin:12px 0 16px}.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtn--IHB-y,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnPrimary--ZlLFd,.update-dialog-module__udAlert--GJ6WI .update-dialog-module__udBtnGhost--Ly-cb{min-width:100px;padding:11px 16px}}@media(prefers-color-scheme:light){.update-dialog-module__udAlertMessage--nJfX4{color:var(--fg, #111)}}.update-dialog-module__udLoading----KQf{max-width:320px;text-align:center;padding:32px 24px}.update-dialog-module__udLoadingSpinner--0OgBH{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.update-dialog-module__udLoadingSvg--k5e0b{width:50px;height:50px;animation:update-dialog-module__udRotate--gve2C 1.4s linear infinite}.update-dialog-module__udLoadingCircle--Q78XG{stroke:#4f7cff;stroke-linecap:round;animation:update-dialog-module__udDash--TGdW5 1.4s ease-in-out infinite}.update-dialog-module__udLoadingMessage---UM99{font-size:15px;line-height:1.6;color:var(--fg, #eaeaea);font-weight:500;word-break:break-word}@media(max-width:480px){.update-dialog-module__udLoading----KQf{max-width:100%;padding:28px 20px}.update-dialog-module__udLoadingSpinner--0OgBH{margin-bottom:16px}.update-dialog-module__udLoadingSvg--k5e0b{width:44px;height:44px}.update-dialog-module__udLoadingMessage---UM99{font-size:14px}}@keyframes update-dialog-module__udRotate--gve2C{to{transform:rotate(360deg)}}@keyframes update-dialog-module__udDash--TGdW5{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}@media(prefers-color-scheme:light){.update-dialog-module__udLoadingMessage---UM99{color:var(--fg, #111)}}@media(prefers-reduced-motion:reduce){.update-dialog-module__udLoadingSvg--k5e0b{animation:none}.update-dialog-module__udLoadingCircle--Q78XG{animation:none;stroke-dasharray:90,150}}')),document.head.appendChild(d)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}}();
(t=>{"function"==typeof define&&define.amd?define(t):t()})(function(){"use strict";var t,e,n,r,i,o,a,u,l,s,c,f,h,p,v,d,g,_,y,m,w,b,x,k,A,S,j,E,$,R,M,C,O,P,W,L,I,N,z,U,D,T=Object.defineProperty,B=t=>{throw TypeError(t)},F=(t,e,n)=>((t,e,n)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n)(t,"symbol"!=typeof e?e+"":e,n),q=(t,e,n)=>e.has(t)||B("Cannot "+n),V=(t,e,n)=>(q(t,e,"read from private field"),n?n.call(t):e.get(t)),H=(t,e,n)=>e.has(t)?B("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),K=(t,e,n,r)=>(q(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),G=(t,e,n)=>(q(t,e,"access private method"),n);const Z={udRoot:"update-dialog-module__udRoot--bWc9J",udCard:"update-dialog-module__udCard---wy8T",udPop:"update-dialog-module__udPop--0Vb0B",udTitle:"update-dialog-module__udTitle--5imsi",udPill:"update-dialog-module__udPill--leinK",udSub:"update-dialog-module__udSub--zfs1y",udList:"update-dialog-module__udList--jnFg8",udFeat:"update-dialog-module__udFeat--MSXJY",udFix:"update-dialog-module__udFix--18UZ3",udPerf:"update-dialog-module__udPerf--bRifN",udBreak:"update-dialog-module__udBreak--jl-Bf",udActions:"update-dialog-module__udActions--5tqy2",udBtn:"update-dialog-module__udBtn--IHB-y",udBtnPrimary:"update-dialog-module__udBtnPrimary--ZlLFd",udBtnGhost:"update-dialog-module__udBtnGhost--Ly-cb",udAlert:"update-dialog-module__udAlert--GJ6WI",udAlertMessage:"update-dialog-module__udAlertMessage--nJfX4",udLoading:"update-dialog-module__udLoading----KQf",udLoadingSpinner:"update-dialog-module__udLoadingSpinner--0OgBH",udLoadingSvg:"update-dialog-module__udLoadingSvg--k5e0b",udRotate:"update-dialog-module__udRotate--gve2C",udLoadingCircle:"update-dialog-module__udLoadingCircle--Q78XG",udDash:"update-dialog-module__udDash--TGdW5",udLoadingMessage:"update-dialog-module__udLoadingMessage---UM99"},J=!1;var Y=Array.isArray,X=Array.prototype.indexOf,Q=Array.from,tt=Object.defineProperty,et=Object.getOwnPropertyDescriptor,nt=Object.getOwnPropertyDescriptors,rt=Object.prototype,it=Array.prototype,ot=Object.getPrototypeOf,at=Object.isExtensible;function ut(t){return"function"==typeof t}function lt(t){return t()}function st(t){for(var e=0;e<t.length;e++)t[e]()}function ct(){var t,e;return{promise:new Promise((n,r)=>{t=n,e=r}),resolve:t,reject:e}}const ft=1<<24,ht=16,pt=32,vt=64,dt=128,gt=512,_t=1024,yt=2048,mt=4096,wt=8192,bt=16384,xt=32768,kt=65536,At=1<<17,St=1<<18,jt=1<<19,Et=1<<25,$t=32768,Rt=1<<21,Mt=1<<23,Ct=Symbol("$state"),Ot=Symbol("legacy props"),Pt=Symbol(""),Wt=new class extends Error{constructor(){super(...arguments),F(this,"name","StaleReactionError"),F(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function Lt(){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}const It=Symbol();function Nt(t){return t===this.v}function zt(t){return e=t,n=this.v,!(e!=e?n==n:e!==n||null!==e&&"object"==typeof e||"function"==typeof e);var e,n}let Ut=null;function Dt(t){Ut=t}function Tt(t){Ut={p:Ut,i:!1,c:null,e:null,s:t,x:null,l:null}}function Bt(){var t=Ut,e=t.e;if(null!==e)for(var n of(t.e=null,e))Ke(n);return t.i=!0,Ut=t.p,{}}let Ft=[];function qt(t){if(0===Ft.length){var e=Ft;queueMicrotask(()=>{e===Ft&&function(){var t=Ft;Ft=[],st(t)}()})}Ft.push(t)}function Vt(t){var e=_n;if(null===e)return vn.f|=Mt,t;if(0===(e.f&xt)){if(0===(e.f&dt))throw t;e.b.error(t)}else Ht(t,e)}function Ht(t,e){for(;null!==e;){if(0!==(e.f&dt))try{return void e.b.error(t)}catch(n){t=n}e=e.parent}throw t}const Kt=new Set;let Gt=null,Zt=null,Jt=[],Yt=null,Xt=!1;t=new WeakMap,e=new WeakMap,n=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,u=new WeakSet,l=function(t,e){var n;t.f^=_t;for(var r=t.first;null!==r;){var i=r.f,a=!!(96&i),l=a&&0!==(i&_t)||0!==(i&wt)||this.skipped_effects.has(r);if(0!==(r.f&dt)&&(null==(n=r.b)?void 0:n.is_pending())&&(e={parent:e,effect:r,effects:[],render_effects:[]}),!l&&null!==r.fn){a?r.f^=_t:4&i?e.effects.push(r):Rn(r)&&(0!==(r.f&ht)&&V(this,o).add(r),Wn(r));var c=r.first;if(null!==c){r=c;continue}}var f=r.parent;for(r=r.next;null===r&&null!==f;)f===e.effect&&(G(this,u,s).call(this,e.effects),G(this,u,s).call(this,e.render_effects),e=e.parent),r=f.next,f=f.parent}},s=function(t){for(const e of t)0!==(e.f&yt)?V(this,o).add(e):0!==(e.f&mt)&&V(this,a).add(e),G(this,u,c).call(this,e.deps),Dn(e,_t)},c=function(t){if(null!==t)for(const e of t)2&e.f&&0!==(e.f&$t)&&(e.f^=$t,G(this,u,c).call(this,e.deps))},f=function(){if(0===V(this,r)){for(const e of V(this,t))e();V(this,t).clear()}0===V(this,n)&&G(this,u,h).call(this)},h=function(){var t;if(Kt.size>1){this.previous.clear();var e=Zt,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const e of Kt){if(e===this){n=!1;continue}const o=[];for(const[t,r]of this.current){if(e.current.has(t)){if(!n||r===e.current.get(t))continue;e.current.set(t,r)}o.push(t)}if(0===o.length)continue;const a=[...e.current.keys()].filter(t=>!this.current.has(t));if(a.length>0){var i=Jt;Jt=[];const n=new Set,s=new Map;for(const t of o)re(t,a,n,s);if(Jt.length>0){Gt=e,e.apply();for(const n of Jt)G(t=e,u,l).call(t,n,r);e.deactivate()}Jt=i}}Gt=null,Zt=e}this.committed=!0,Kt.delete(this)};let Qt=class c{constructor(){H(this,u),F(this,"committed",!1),F(this,"current",new Map),F(this,"previous",new Map),H(this,t,new Set),H(this,e,new Set),H(this,n,0),H(this,r,0),H(this,i,null),H(this,o,new Set),H(this,a,new Set),F(this,"skipped_effects",new Set),F(this,"is_fork",!1)}is_deferred(){return this.is_fork||V(this,r)>0}process(t){var e;Jt=[],this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)G(this,u,l).call(this,r,n);this.is_fork||G(this,u,f).call(this),this.is_deferred()?(G(this,u,s).call(this,n.effects),G(this,u,s).call(this,n.render_effects)):(Gt=null,ne(n.render_effects),ne(n.effects),null==(e=V(this,i))||e.resolve()),Zt=null}capture(t,e){this.previous.has(t)||this.previous.set(t,e),0===(t.f&Mt)&&(this.current.set(t,t.v),null==Zt||Zt.set(t,t.v))}activate(){Gt=this,this.apply()}deactivate(){Gt===this&&(Gt=null,Zt=null)}flush(){if(this.activate(),Jt.length>0){if(function(){var t=cn;Xt=!0;try{var e=0;for(fn(!0);Jt.length>0;){var n=Qt.ensure();if(e++>1e3)J,te();n.process(Jt),_e.clear()}}finally{Xt=!1,fn(t),Yt=null}}(),null!==Gt&&Gt!==this)return}else 0===V(this,n)&&this.process([]);this.deactivate()}discard(){for(const t of V(this,e))t(this);V(this,e).clear()}increment(t){K(this,n,V(this,n)+1),t&&K(this,r,V(this,r)+1)}decrement(t){K(this,n,V(this,n)-1),t&&K(this,r,V(this,r)-1),this.revive()}revive(){for(const t of V(this,o))V(this,a).delete(t),Dn(t,yt),oe(t);for(const t of V(this,a))Dn(t,mt),oe(t);this.flush()}oncommit(e){V(this,t).add(e)}ondiscard(t){V(this,e).add(t)}settled(){return(V(this,i)??K(this,i,ct())).promise}static ensure(){if(null===Gt){const t=Gt=new c;Kt.add(Gt),c.enqueue(()=>{Gt===t&&t.flush()})}return Gt}static enqueue(t){qt(t)}apply(){}};function te(){try{!function(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}()}catch(t){Ht(t,Yt)}}let ee=null;function ne(t){var e=t.length;if(0!==e){for(var n=0;n<e;){var r=t[n++];if(!(24576&r.f)&&Rn(r)&&(ee=new Set,Wn(r),null===r.deps&&null===r.first&&null===r.nodes&&(null===r.teardown&&null===r.ac?rn(r):r.fn=null),(null==ee?void 0:ee.size)>0)){_e.clear();for(const t of ee){if(24576&t.f)continue;const e=[t];let n=t.parent;for(;null!==n;)ee.has(n)&&(ee.delete(n),e.push(n)),n=n.parent;for(let t=e.length-1;t>=0;t--){const n=e[t];24576&n.f||Wn(n)}}ee.clear()}}ee=null}}function re(t,e,n,r){if(!n.has(t)&&(n.add(t),null!==t.reactions))for(const i of t.reactions){const t=i.f;2&t?re(i,e,n,r):4194320&t&&0===(t&yt)&&ie(i,e,r)&&(Dn(i,yt),oe(i))}}function ie(t,e,n){const r=n.get(t);if(void 0!==r)return r;if(null!==t.deps)for(const i of t.deps){if(e.includes(i))return!0;if(2&i.f&&ie(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function oe(t){for(var e=Yt=t;null!==e.parent;){var n=(e=e.parent).f;if(Xt&&e===_n&&0!==(n&ht)&&0===(n&St))return;if(96&n){if(0===(n&_t))return;e.f^=_t}}Jt.push(e)}class ae{constructor(t,e,n){H(this,R),F(this,"parent"),H(this,p,!1),H(this,v),H(this,d,null),H(this,g),H(this,_),H(this,y),H(this,m,null),H(this,w,null),H(this,b,null),H(this,x,null),H(this,k,null),H(this,A,0),H(this,S,0),H(this,j,!1),H(this,E,null),H(this,$,function(t){let e,n=0,r=me(0);return()=>{qe()&&(Ln(r),Ze(()=>(0===n&&(e=zn(()=>t(()=>Se(r)))),n+=1,()=>{qt(()=>{n-=1,0===n&&(null==e||e(),e=void 0,Se(r))})})))}}(()=>(K(this,E,me(V(this,A))),()=>{K(this,E,null)}))),K(this,v,t),K(this,g,e),K(this,_,n),this.parent=_n.b,K(this,p,!!V(this,g).pending),K(this,y,Ye(()=>{_n.b=this;var t=G(this,R,M).call(this);try{K(this,m,Qe(()=>n(t)))}catch(e){this.error(e)}return V(this,S)>0?G(this,R,O).call(this):K(this,p,!1),()=>{var t;null==(t=V(this,k))||t.remove()}},589952))}is_pending(){return V(this,p)||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!V(this,g).pending}update_pending_count(t){G(this,R,P).call(this,t),K(this,A,V(this,A)+t),V(this,E)&&ke(V(this,E),V(this,A))}get_effect_pending(){return V(this,$).call(this),Ln(V(this,E))}error(t){var e=V(this,g).onerror;let n=V(this,g).failed;if(V(this,j)||!e&&!n)throw t;V(this,m)&&(nn(V(this,m)),K(this,m,null)),V(this,w)&&(nn(V(this,w)),K(this,w,null)),V(this,b)&&(nn(V(this,b)),K(this,b,null));var r=!1,i=!1;const o=()=>{r?console.warn("https://svelte.dev/e/svelte_boundary_reset_noop"):(r=!0,i&&function(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}(),Qt.ensure(),K(this,A,0),null!==V(this,b)&&on(V(this,b),()=>{K(this,b,null)}),K(this,p,this.has_pending_snippet()),K(this,m,G(this,R,C).call(this,()=>(K(this,j,!1),Qe(()=>V(this,_).call(this,V(this,v)))))),V(this,S)>0?G(this,R,O).call(this):K(this,p,!1))};var a=vn;try{gn(null),i=!0,null==e||e(t,o),i=!1}catch(u){Ht(u,V(this,y)&&V(this,y).parent)}finally{gn(a)}n&&qt(()=>{K(this,b,G(this,R,C).call(this,()=>{Qt.ensure(),K(this,j,!0);try{return Qe(()=>{n(V(this,v),()=>t,()=>o)})}catch(u){return Ht(u,V(this,y).parent),null}finally{K(this,j,!1)}}))})}}function ue(t,e,n,r){const i=se;if(0!==n.length||0!==t.length){var o,a,u,l,s=Gt,c=_n,f=(o=_n,a=vn,u=Ut,l=Gt,(t=!0)=>{yn(o),gn(a),Dt(u),t&&(null==l||l.activate())});t.length>0?Promise.all(t).then(()=>{f();try{return h()}finally{null==s||s.deactivate(),le()}}):h()}else r(e.map(i));function h(){Promise.all(n.map(t=>ce(t))).then(t=>{f();try{r([...e.map(i),...t])}catch(n){0===(c.f&bt)&&Ht(n,c)}null==s||s.deactivate(),le()}).catch(t=>{Ht(t,c)})}}function le(){yn(null),gn(null),Dt(null)}function se(t){var e=null!==vn&&2&vn.f?vn:null;null!==_n&&(_n.f|=jt);return{ctx:Ut,deps:null,effects:null,equals:Nt,f:2050,fn:t,reactions:null,rv:0,v:It,wv:0,parent:e??_n,ac:null}}function ce(t){let e=_n;null===e&&function(){throw new Error("https://svelte.dev/e/async_derived_orphan")}();var n=e.b,r=void 0,i=me(It),o=!vn,a=new Map;return function(t){Fe(4718592,t,!0)}(()=>{var e,u=ct();r=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{l===Gt&&l.committed&&l.deactivate(),le()})}catch(f){u.reject(f),le()}var l=Gt;if(o){var s=!n.is_pending();n.update_pending_count(1),l.increment(s),null==(e=a.get(l))||e.reject(Wt),a.delete(l),a.set(l,u)}const c=(t,e)=>{if(l.activate(),e)e!==Wt&&(i.f|=Mt,ke(i,e));else{0!==(i.f&Mt)&&(i.f^=Mt),ke(i,t);for(const[t,e]of a){if(a.delete(t),t===l)break;e.reject(Wt)}}o&&(n.update_pending_count(-1),l.decrement(s))};u.promise.then(c,t=>c(null,t||"unknown"))}),Ve(()=>{for(const t of a.values())t.reject(Wt)}),new Promise(t=>{!function e(n){function o(){n===r?t(i):e(r)}n.then(o,o)}(r)})}function fe(t){const e=se(t);return wn(e),e}function he(t){const e=se(t);return e.equals=zt,e}function pe(t){var e=t.effects;if(null!==e){t.effects=null;for(var n=0;n<e.length;n+=1)nn(e[n])}}function ve(t){var e,n=_n;yn(function(t){for(var e=t.parent;null!==e;){if(!(2&e.f))return 0===(e.f&bt)?e:null;e=e.parent}return null}(t));try{t.f&=-32769,pe(t),e=Cn(t)}finally{yn(n)}return e}function de(t){var e=ve(t);(t.equals(e)||((null==Gt?void 0:Gt.is_fork)||(t.v=e),t.wv=$n()),hn)||(null!==Zt?(qe()||(null==Gt?void 0:Gt.is_fork))&&Zt.set(t,e):Dn(t,0===(t.f&gt)?mt:_t))}p=new WeakMap,v=new WeakMap,d=new WeakMap,g=new WeakMap,_=new WeakMap,y=new WeakMap,m=new WeakMap,w=new WeakMap,b=new WeakMap,x=new WeakMap,k=new WeakMap,A=new WeakMap,S=new WeakMap,j=new WeakMap,E=new WeakMap,$=new WeakMap,R=new WeakSet,M=function(){var t=V(this,v);return V(this,p)&&(K(this,k,We()),V(this,v).before(V(this,k)),t=V(this,k)),t},C=function(t){var e=_n,n=vn,r=Ut;yn(V(this,y)),gn(V(this,y)),Dt(V(this,y).ctx);try{return t()}catch(i){return Vt(i),null}finally{yn(e),gn(n),Dt(r)}},O=function(){const t=V(this,g).pending;null!==V(this,m)&&(K(this,x,document.createDocumentFragment()),V(this,x).append(V(this,k)),sn(V(this,m),V(this,x))),null===V(this,w)&&K(this,w,Qe(()=>t(V(this,v))))},P=function(t){var e;this.has_pending_snippet()?(K(this,S,V(this,S)+t),0===V(this,S)&&(K(this,p,!1),V(this,w)&&on(V(this,w),()=>{K(this,w,null)}),V(this,x)&&(V(this,v).before(V(this,x)),K(this,x,null)))):this.parent&&G(e=this.parent,R,P).call(e,t)};let ge=new Set;const _e=new Map;let ye=!1;function me(t){return{f:0,v:t,reactions:null,equals:Nt,rv:0,wv:0}}function we(t){const e=me(t);return wn(e),e}function be(t,e=!1){const n=me(t);return e||(n.equals=zt),n}function xe(t,e,n=!1){return null===vn||dn&&0===(vn.f&At)||!(4325394&vn.f)||(null==mn?void 0:mn.includes(t))||function(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}(),ke(t,n?Ee(e):e)}function ke(t,e){if(!t.equals(e)){var n=t.v;hn?_e.set(t,e):_e.set(t,n),t.v=e;var r=Qt.ensure();r.capture(t,n),2&t.f&&(0!==(t.f&yt)&&ve(t),Dn(t,0!==(t.f&gt)?_t:mt)),t.wv=$n(),je(t,yt),null===_n||0===(_n.f&_t)||96&_n.f||(null===kn?function(t){kn=t}([t]):kn.push(t)),!r.is_fork&&ge.size>0&&!ye&&function(){ye=!1;var t=cn;fn(!0);const e=Array.from(ge);try{for(const t of e)0!==(t.f&_t)&&Dn(t,mt),Rn(t)&&Wn(t)}finally{fn(t)}ge.clear()}()}return e}function Ae(t,e=1){var n=Ln(t),r=1===e?n++:n--;return xe(t,n),r}function Se(t){xe(t,t.v+1)}function je(t,e){var n=t.reactions;if(null!==n)for(var r=n.length,i=0;i<r;i++){var o=n[i],a=o.f,u=0===(a&yt);if(u&&Dn(o,e),2&a){var l=o;null==Zt||Zt.delete(l),0===(a&$t)&&(a&gt&&(o.f|=$t),je(l,mt))}else u&&(0!==(a&ht)&&null!==ee&&ee.add(o),oe(o))}}function Ee(t){if("object"!=typeof t||null===t||Ct in t)return t;const e=ot(t);if(e!==rt&&e!==it)return t;var n=new Map,r=Y(t),i=we(0),o=jn,a=t=>{if(jn===o)return t();var e=vn,n=jn;gn(null),En(o);var r=t();return gn(e),En(n),r};return r&&n.set("length",we(t.length)),new Proxy(t,{defineProperty(t,e,r){"value"in r&&!1!==r.configurable&&!1!==r.enumerable&&!1!==r.writable||function(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}();var i=n.get(e);return void 0===i?i=a(()=>{var t=we(r.value);return n.set(e,t),t}):xe(i,r.value,!0),!0},deleteProperty(t,e){var r=n.get(e);if(void 0===r){if(e in t){const t=a(()=>we(It));n.set(e,t),Se(i)}}else xe(r,It),Se(i);return!0},get(e,r,i){var o;if(r===Ct)return t;var u=n.get(r),l=r in e;if(void 0!==u||l&&!(null==(o=et(e,r))?void 0:o.writable)||(u=a(()=>we(Ee(l?e[r]:It))),n.set(r,u)),void 0!==u){var s=Ln(u);return s===It?void 0:s}return Reflect.get(e,r,i)},getOwnPropertyDescriptor(t,e){var r=Reflect.getOwnPropertyDescriptor(t,e);if(r&&"value"in r){var i=n.get(e);i&&(r.value=Ln(i))}else if(void 0===r){var o=n.get(e),a=null==o?void 0:o.v;if(void 0!==o&&a!==It)return{enumerable:!0,configurable:!0,value:a,writable:!0}}return r},has(t,e){var r;if(e===Ct)return!0;var i=n.get(e),o=void 0!==i&&i.v!==It||Reflect.has(t,e);if((void 0!==i||null!==_n&&(!o||(null==(r=et(t,e))?void 0:r.writable)))&&(void 0===i&&(i=a(()=>we(o?Ee(t[e]):It)),n.set(e,i)),Ln(i)===It))return!1;return o},set(t,e,o,u){var l,s=n.get(e),c=e in t;if(r&&"length"===e)for(var f=o;f<s.v;f+=1){var h=n.get(f+"");void 0!==h?xe(h,It):f in t&&(h=a(()=>we(It)),n.set(f+"",h))}void 0===s?c&&!(null==(l=et(t,e))?void 0:l.writable)||(xe(s=a(()=>we(void 0)),Ee(o)),n.set(e,s)):(c=s.v!==It,xe(s,a(()=>Ee(o))));var p=Reflect.getOwnPropertyDescriptor(t,e);if((null==p?void 0:p.set)&&p.set.call(u,o),!c){if(r&&"string"==typeof e){var v=n.get("length"),d=Number(e);Number.isInteger(d)&&d>=v.v&&xe(v,d+1)}Se(i)}return!0},ownKeys(t){Ln(i);var e=Reflect.ownKeys(t).filter(t=>{var e=n.get(t);return void 0===e||e.v!==It});for(var[r,o]of n)o.v===It||r in t||e.push(r);return e},setPrototypeOf(){!function(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}()}})}function $e(t){try{if(null!==t&&"object"==typeof t&&Ct in t)return t[Ct]}catch{}return t}function Re(t,e){return Object.is($e(t),$e(e))}var Me,Ce,Oe,Pe;function We(t=""){return document.createTextNode(t)}function Le(t){return Oe.call(t)}function Ie(t){return Pe.call(t)}function Ne(t){return Le(t)}function ze(t){var e=Le(t);return e instanceof Comment&&""===e.data?Ie(e):e}function Ue(t,e=1){let n=t;for(;e--;)n=Ie(n);return n}function De(t,e){if(e){const e=document.body;t.autofocus=!0,qt(()=>{document.activeElement===e&&t.focus()})}}function Te(t){var e=vn,n=_n;gn(null),yn(null);try{return t()}finally{gn(e),yn(n)}}function Be(){null===_n&&(null===vn&&function(){throw new Error("https://svelte.dev/e/effect_orphan")}(),function(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}()),hn&&function(){throw new Error("https://svelte.dev/e/effect_in_teardown")}()}function Fe(t,e,n){var r=_n;null!==r&&0!==(r.f&wt)&&(t|=wt);var i={ctx:Ut,deps:null,nodes:null,f:t|yt|gt,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Wn(i),i.f|=xt}catch(u){throw nn(i),u}else null!==e&&oe(i);var o=i;if(n&&null===o.deps&&null===o.teardown&&null===o.nodes&&o.first===o.last&&0===(o.f&jt)&&(o=o.first,0!==(t&ht)&&0!==(t&kt)&&null!==o&&(o.f|=kt)),null!==o&&(o.parent=r,null!==r&&function(t,e){var n=e.last;null===n?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}(o,r),null!==vn&&2&vn.f&&0===(t&vt))){var a=vn;(a.effects??(a.effects=[])).push(o)}return i}function qe(){return null!==vn&&!dn}function Ve(t){const e=Fe(8,null,!1);return Dn(e,_t),e.teardown=t,e}function He(t){Be();var e=_n.f;if(!(!vn&&0!==(e&pt)&&0===(e&xt)))return Ke(t);var n=Ut;(n.e??(n.e=[])).push(t)}function Ke(t){return Fe(1048580,t,!1)}function Ge(t){return Fe(4,t,!1)}function Ze(t,e=0){return Fe(8|e,t,!0)}function Je(t,e=[],n=[],r=[]){ue(r,e,n,e=>{Fe(8,()=>t(...e.map(Ln)),!0)})}function Ye(t,e=0){return Fe(ht|e,t,!0)}function Xe(t,e=0){return Fe(ft|e,t,!0)}function Qe(t){return Fe(524320,t,!0)}function tn(t){var e=t.teardown;if(null!==e){const t=hn,n=vn;pn(!0),gn(null);try{e.call(null)}finally{pn(t),gn(n)}}}function en(t,e=!1){var n=t.first;for(t.first=t.last=null;null!==n;){const t=n.ac;null!==t&&Te(()=>{t.abort(Wt)});var r=n.next;0!==(n.f&vt)?n.parent=null:nn(n,e),n=r}}function nn(t,e=!0){var n=!1;!e&&0===(t.f&St)||null===t.nodes||null===t.nodes.end||(!function(t,e){for(;null!==t;){var n=t===e?null:Ie(t);t.remove(),t=n}}(t.nodes.start,t.nodes.end),n=!0),en(t,e&&!n),Pn(t,0),Dn(t,bt);var r=t.nodes&&t.nodes.t;if(null!==r)for(const o of r)o.stop();tn(t);var i=t.parent;null!==i&&null!==i.first&&rn(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function rn(t){var e=t.parent,n=t.prev,r=t.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==e&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function on(t,e,n=!0){var r=[];an(t,r,!0);var i=()=>{n&&nn(t),e&&e()},o=r.length;if(o>0){var a=()=>--o||i();for(var u of r)u.out(a)}else i()}function an(t,e,n){if(0===(t.f&wt)){t.f^=wt;var r=t.nodes&&t.nodes.t;if(null!==r)for(const t of r)(t.is_global||n)&&e.push(t);for(var i=t.first;null!==i;){var o=i.next;an(i,e,!!(0!==(i.f&kt)||0!==(i.f&pt)&&0!==(t.f&ht))&&n),i=o}}}function un(t){ln(t,!0)}function ln(t,e){if(0!==(t.f&wt)){t.f^=wt,0===(t.f&_t)&&(Dn(t,yt),oe(t));for(var n=t.first;null!==n;){var r=n.next;ln(n,!!(0!==(n.f&kt)||0!==(n.f&pt))&&e),n=r}var i=t.nodes&&t.nodes.t;if(null!==i)for(const t of i)(t.is_global||e)&&t.in()}}function sn(t,e){if(t.nodes)for(var n=t.nodes.start,r=t.nodes.end;null!==n;){var i=n===r?null:Ie(n);e.append(n),n=i}}let cn=!1;function fn(t){cn=t}let hn=!1;function pn(t){hn=t}let vn=null,dn=!1;function gn(t){vn=t}let _n=null;function yn(t){_n=t}let mn=null;function wn(t){null!==vn&&(null===mn?mn=[t]:mn.push(t))}let bn=null,xn=0,kn=null;let An=1,Sn=0,jn=Sn;function En(t){jn=t}function $n(){return++An}function Rn(t){var e=t.f;if(0!==(e&yt))return!0;if(2&e&&(t.f&=-32769),0!==(e&mt)){var n=t.deps;if(null!==n)for(var r=n.length,i=0;i<r;i++){var o=n[i];if(Rn(o)&&de(o),o.wv>t.wv)return!0}0!==(e&gt)&&null===Zt&&Dn(t,_t)}return!1}function Mn(t,e,n=!0){var r=t.reactions;if(null!==r&&!(null==mn?void 0:mn.includes(t)))for(var i=0;i<r.length;i++){var o=r[i];2&o.f?Mn(o,e,!1):e===o&&(n?Dn(o,yt):0!==(o.f&_t)&&Dn(o,mt),oe(o))}}function Cn(t){var e,n=bn,r=xn,i=kn,o=vn,a=mn,u=Ut,l=dn,s=jn,c=t.f;bn=null,xn=0,kn=null,vn=96&c?null:t,mn=null,Dt(t.ctx),dn=!1,jn=++Sn,null!==t.ac&&(Te(()=>{t.ac.abort(Wt)}),t.ac=null);try{t.f|=Rt;var f=(0,t.fn)(),h=t.deps;if(null!==bn){var p;if(Pn(t,xn),null!==h&&xn>0)for(h.length=xn+bn.length,p=0;p<bn.length;p++)h[xn+p]=bn[p];else t.deps=h=bn;if(qe()&&0!==(t.f&gt))for(p=xn;p<h.length;p++)((e=h[p]).reactions??(e.reactions=[])).push(t)}else null!==h&&xn<h.length&&(Pn(t,xn),h.length=xn);if(!(null===kn||dn||null===h||6146&t.f))for(p=0;p<kn.length;p++)Mn(kn[p],t);return null!==o&&o!==t&&(Sn++,null!==kn&&(null===i?i=kn:i.push(...kn))),0!==(t.f&Mt)&&(t.f^=Mt),f}catch(v){return Vt(v)}finally{t.f^=Rt,bn=n,xn=r,kn=i,vn=o,mn=a,Dt(u),dn=l,jn=s}}function On(t,e){let n=e.reactions;if(null!==n){var r=X.call(n,t);if(-1!==r){var i=n.length-1;0===i?n=e.reactions=null:(n[r]=n[i],n.pop())}}null===n&&2&e.f&&(null===bn||!bn.includes(e))&&(Dn(e,mt),0!==(e.f&gt)&&(e.f^=gt,e.f&=-32769),pe(e),Pn(e,0))}function Pn(t,e){var n=t.deps;if(null!==n)for(var r=e;r<n.length;r++)On(t,n[r])}function Wn(t){var e=t.f;if(0===(e&bt)){Dn(t,_t);var n=_n,r=cn;_n=t,cn=!0;try{16777232&e?function(t){for(var e=t.first;null!==e;){var n=e.next;0===(e.f&pt)&&nn(e),e=n}}(t):en(t),tn(t);var i=Cn(t);t.teardown="function"==typeof i?i:null,t.wv=An}finally{cn=r,_n=n}}}function Ln(t){var e=!!(2&t.f);if(null!==vn&&!dn&&(!(null!==_n&&0!==(_n.f&bt))&&!(null==mn?void 0:mn.includes(t)))){var n=vn.deps;if(0!==(vn.f&Rt))t.rv<Sn&&(t.rv=Sn,null===bn&&null!==n&&n[xn]===t?xn++:null===bn?bn=[t]:bn.includes(t)||bn.push(t));else{(vn.deps??(vn.deps=[])).push(t);var r=t.reactions;null===r?t.reactions=[vn]:r.includes(vn)||r.push(vn)}}if(hn){if(_e.has(t))return _e.get(t);if(e){var i=t,o=i.v;return(0===(i.f&_t)&&null!==i.reactions||Nn(i))&&(o=ve(i)),_e.set(i,o),o}}else e&&(!(null==Zt?void 0:Zt.has(t))||(null==Gt?void 0:Gt.is_fork)&&!qe())&&(Rn(i=t)&&de(i),cn&&qe()&&0===(i.f&gt)&&In(i));if(null==Zt?void 0:Zt.has(t))return Zt.get(t);if(0!==(t.f&Mt))throw t.v;return t.v}function In(t){if(null!==t.deps){t.f^=gt;for(const e of t.deps)(e.reactions??(e.reactions=[])).push(t),2&e.f&&0===(e.f&gt)&&In(e)}}function Nn(t){if(t.v===It)return!0;if(null===t.deps)return!1;for(const e of t.deps){if(_e.has(e))return!0;if(2&e.f&&Nn(e))return!0}return!1}function zn(t){var e=dn;try{return dn=!0,t()}finally{dn=e}}const Un=-7169;function Dn(t,e){t.f=t.f&Un|e}function Tn(t){if("object"==typeof t&&t&&!(t instanceof EventTarget))if(Ct in t)Bn(t);else if(!Array.isArray(t))for(let e in t){const n=t[e];"object"==typeof n&&n&&Ct in n&&Bn(n)}}function Bn(t,e=new Set){if(!("object"!=typeof t||null===t||t instanceof EventTarget||e.has(t))){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Bn(t[i],e)}catch(n){}const r=ot(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const e=nt(r);for(let r in e){const i=e[r].get;if(i)try{i.call(t)}catch(n){}}}}}function Fn(t){return t.endsWith("capture")&&"gotpointercapture"!==t&&"lostpointercapture"!==t}const qn=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Vn(t){return qn.includes(t)}const Hn={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Kn(t){return t=t.toLowerCase(),Hn[t]??t}const Gn=["touchstart","touchmove"];function Zn(t){return Gn.includes(t)}const Jn=new Set,Yn=new Set;function Xn(t,e,n,r={}){function i(t){if(r.capture||er.call(e,t),!t.cancelBubble)return Te(()=>null==n?void 0:n.call(this,t))}return t.startsWith("pointer")||t.startsWith("touch")||"wheel"===t?qt(()=>{e.addEventListener(t,i,r)}):e.addEventListener(t,i,r),i}function Qn(t){for(var e=0;e<t.length;e++)Jn.add(t[e]);for(var n of Yn)n(t)}let tr=null;function er(t){var e,n=this,r=n.ownerDocument,i=t.type,o=(null==(e=t.composedPath)?void 0:e.call(t))||[],a=o[0]||t.target;tr=t;var u=0,l=tr===t&&t.__root;if(l){var s=o.indexOf(l);if(-1!==s&&(n===document||n===window))return void(t.__root=n);var c=o.indexOf(n);if(-1===c)return;s<=c&&(u=s)}if((a=o[u]||t.target)!==n){tt(t,"currentTarget",{configurable:!0,get:()=>a||r});var f=vn,h=_n;gn(null),yn(null);try{for(var p,v=[];null!==a;){var d=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+i];null==g||a.disabled&&t.target!==a||g.call(a,t)}catch(_){p?v.push(_):p=_}if(t.cancelBubble||d===n||null===d)break;a=d}if(p){for(let t of v)queueMicrotask(()=>{throw t});throw p}}finally{t.__root=n,delete t.currentTarget,gn(f),yn(h)}}}function nr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","\x3c!----\x3e"),e.content}function rr(t,e){var n=_n;null===n.nodes&&(n.nodes={start:t,end:e,a:null,t:null})}function ir(t,e){var n,r=!!(1&e),i=!!(2&e),o=!t.startsWith("<!>");return()=>{void 0===n&&(n=nr(o?t:"<!>"+t),r||(n=Le(n)));var e=i||Ce?document.importNode(n,!0):n.cloneNode(!0);r?rr(Le(e),e.lastChild):rr(e,e);return e}}function or(t,e,n="svg"){var r,i=`<${n}>${!t.startsWith("<!>")?t:"<!>"+t}</${n}>`;return()=>{if(!r){var t=nr(i);r=Le(Le(t))}var e=r.cloneNode(!0);return rr(e,e),e}}function ar(t){return or(t,0,"svg")}function ur(){var t=document.createDocumentFragment(),e=document.createComment(""),n=We();return t.append(e,n),rr(e,n),t}function lr(t,e){null!==t&&t.before(e)}function sr(t,e){var n=null==e?"":"object"==typeof e?e+"":e;n!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=n,t.nodeValue=n+"")}function cr(t,e){return function(t,{target:e,anchor:n,props:r={},events:i,context:o,intro:a=!0}){!function(){if(void 0===Me){Me=window,Ce=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;Oe=et(e,"firstChild").get,Pe=et(e,"nextSibling").get,at(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),at(n)&&(n.__t=void 0)}}();var u=new Set,l=t=>{for(var n=0;n<t.length;n++){var r=t[n];if(!u.has(r)){u.add(r);var i=Zn(r);e.addEventListener(r,er,{passive:i});var o=fr.get(r);void 0===o?(document.addEventListener(r,er,{passive:i}),fr.set(r,1)):fr.set(r,o+1)}}};l(Q(Jn)),Yn.add(l);var s=void 0,c=function(t){Qt.ensure();const e=Fe(524352,t,!0);return(t={})=>new Promise(n=>{t.outro?on(e,()=>{nn(e),n(void 0)}):(nn(e),n(void 0))})}(()=>{var a=n??e.appendChild(We());return function(t,e,n){new ae(t,e,n)}(a,{pending(){}},e=>{o&&(Tt({}),Ut.c=o);i&&(r.$$events=i),s=t(e,r)||{},o&&Bt()}),()=>{var t;for(var r of u){e.removeEventListener(r,er);var i=fr.get(r);0===--i?(document.removeEventListener(r,er),fr.delete(r)):fr.set(r,i)}Yn.delete(l),a!==n&&(null==(t=a.parentNode)||t.removeChild(a))}});return hr.set(s,c),s}(t,e)}const fr=new Map;let hr=new WeakMap;function pr(t,e){const n=hr.get(t);return n?(hr.delete(t),n(e)):Promise.resolve()}class vr{constructor(t,e=!0){F(this,"anchor"),H(this,W,new Map),H(this,L,new Map),H(this,I,new Map),H(this,N,new Set),H(this,z,!0),H(this,U,()=>{var t=Gt;if(V(this,W).has(t)){var e=V(this,W).get(t),n=V(this,L).get(e);if(n)un(n),V(this,N).delete(e);else{var r=V(this,I).get(e);r&&(V(this,L).set(e,r.effect),V(this,I).delete(e),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),n=r.effect)}for(const[e,n]of V(this,W)){if(V(this,W).delete(e),e===t)break;const r=V(this,I).get(n);r&&(nn(r.effect),V(this,I).delete(n))}for(const[t,r]of V(this,L)){if(t===e||V(this,N).has(t))continue;const i=()=>{if(Array.from(V(this,W).values()).includes(t)){var e=document.createDocumentFragment();sn(r,e),e.append(We()),V(this,I).set(t,{effect:r,fragment:e})}else nn(r);V(this,N).delete(t),V(this,L).delete(t)};V(this,z)||!n?(V(this,N).add(t),on(r,i,!1)):i()}}}),H(this,D,t=>{V(this,W).delete(t);const e=Array.from(V(this,W).values());for(const[n,r]of V(this,I))e.includes(n)||(nn(r.effect),V(this,I).delete(n))}),this.anchor=t,K(this,z,e)}ensure(t,e){var n=Gt;!e||V(this,L).has(t)||V(this,I).has(t)||V(this,L).set(t,Qe(()=>e(this.anchor)));V(this,W).set(n,t),V(this,U).call(this)}}function dr(t,e,n=!1){var r=new vr(t);function i(t,e){r.ensure(t,e)}Ye(()=>{var t=!1;e((e,n=!0)=>{t=!0,i(n,e)}),t||i(!1,null)},n?kt:0)}function gr(t,e){return e}function _r(t,e=!0){for(var n=0;n<t.length;n++)nn(t[n],e)}var yr;function mr(t,e,n,r,i,o=null){var a=t,u=new Map;!(4&e)||(a=t.appendChild(We()));var l,s=null,c=he(()=>{var t=n();return Y(t)?t:null==t?[]:Q(t)}),f=!0;function h(){p.fallback=s,function(t,e,n,r,i){var o,a,u,l,s,c,f,h,p,v,d,g,_,y,m=!!(8&r),w=e.length,b=t.items,x=t.effect.first,k=null,A=[],S=[];if(m)for(y=0;y<w;y+=1)g=i(e[y],y),0===((_=b.get(g).e).f&Et)&&(null==(a=null==(o=_.nodes)?void 0:o.a)||a.measure(),(d??(d=new Set)).add(_));for(y=0;y<w;y+=1){if(g=i(e[y],y),_=b.get(g).e,null!==t.outrogroups)for(const e of t.outrogroups)e.pending.delete(_),e.done.delete(_);if(0!==(_.f&Et)){if(_.f^=Et,_!==x){var j=k?k.next:x;_===t.effect.last&&(t.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),xr(t,k,_),xr(t,_,j),br(_,j,n),A=[],S=[],x=(k=_).next;continue}br(_,null,n)}if(0!==(_.f&wt)&&(un(_),m&&(null==(l=null==(u=_.nodes)?void 0:u.a)||l.unfix(),(d??(d=new Set)).delete(_))),_!==x){if(void 0!==v&&v.has(_)){if(A.length<S.length){var E,$=S[0];k=$.prev;var R=A[0],M=A[A.length-1];for(E=0;E<A.length;E+=1)br(A[E],$,n);for(E=0;E<S.length;E+=1)v.delete(S[E]);xr(t,R.prev,M.next),xr(t,k,R),xr(t,M,$),x=$,k=M,y-=1,A=[],S=[]}else v.delete(_),br(_,x,n),xr(t,_.prev,_.next),xr(t,_,null===k?t.effect.first:k.next),xr(t,k,_),k=_;continue}for(A=[],S=[];null!==x&&x!==_;)(v??(v=new Set)).add(x),S.push(x),x=x.next;if(null===x)continue}0===(_.f&Et)&&A.push(_),k=_,x=_.next}if(null!==t.outrogroups){for(const e of t.outrogroups)0===e.pending.size&&(_r(Q(e.done)),null==(s=t.outrogroups)||s.delete(e));0===t.outrogroups.size&&(t.outrogroups=null)}if(null!==x||void 0!==v){var C=[];if(void 0!==v)for(_ of v)0===(_.f&wt)&&C.push(_);for(;null!==x;)0===(x.f&wt)&&x!==t.fallback&&C.push(x),x=x.next;var O=C.length;if(O>0){var P=4&r&&0===w?n:null;if(m){for(y=0;y<O;y+=1)null==(f=null==(c=C[y].nodes)?void 0:c.a)||f.measure();for(y=0;y<O;y+=1)null==(p=null==(h=C[y].nodes)?void 0:h.a)||p.fix()}!function(t,e,n){for(var r,i=e.length,o=e.length,a=0;a<i;a++){let n=e[a];on(n,()=>{if(r){if(r.pending.delete(n),r.done.add(n),0===r.pending.size){var e=t.outrogroups;_r(Q(r.done)),e.delete(r),0===e.size&&(t.outrogroups=null)}}else o-=1},!1)}if(0===o){var u=null!==n;if(u){var l=n,s=l.parentNode;s.textContent="",s.append(l),t.items.clear()}_r(e,!u)}else r={pending:new Set(e),done:new Set},(t.outrogroups??(t.outrogroups=new Set)).add(r)}(t,C,P)}}m&&qt(()=>{var t,e;if(void 0!==d)for(_ of d)null==(e=null==(t=_.nodes)?void 0:t.a)||e.apply()})}(p,l,a,e,r),null!==s&&(0===l.length?0===(s.f&Et)?un(s):(s.f^=Et,br(s,null,a)):on(s,()=>{s=null}))}var p={effect:Ye(()=>{for(var t=(l=Ln(c)).length,p=new Set,v=0;v<t;v+=1){var d=l[v],g=r(d,v),_=f?null:u.get(g);_?(_.v&&ke(_.v,d),_.i&&ke(_.i,v)):(_=wr(u,f?a:yr??(yr=We()),d,g,v,i,e,n),f||(_.e.f|=Et),u.set(g,_)),p.add(g)}0===t&&o&&!s&&(f?s=Qe(()=>o(a)):(s=Qe(()=>o(yr??(yr=We())))).f|=Et),f||h(),Ln(c)}),items:u,outrogroups:null,fallback:s};f=!1}function wr(t,e,n,r,i,o,a,u){var l=1&a?16&a?me(n):be(n,!1):null,s=2&a?me(i):null;return{v:l,i:s,e:Qe(()=>(o(e,l??n,s??i,u),()=>{t.delete(r)}))}}function br(t,e,n){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end,o=e&&0===(e.f&Et)?e.nodes.start:n;null!==r;){var a=Ie(r);if(o.before(r),r===i)return;r=a}}function xr(t,e,n){null===e?t.effect.first=n:e.next=n,null===n?t.effect.last=e:n.prev=e}function kr(t,e,n,r){var i,o=null==(i=e.$$slots)?void 0:i[n],a=!1;!0===o&&(o=e.children,a=!0),void 0===o||o(t,a?()=>r:r)}function Ar(t,e){var n,r=void 0;Xe(()=>{r!==(r=e())&&(n&&(nn(n),n=null),r&&(n=Qe(()=>{Ge(()=>r(t))})))})}function Sr(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Sr(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function jr(t){return"object"==typeof t?function(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Sr(t))&&(r&&(r+=" "),r+=e);return r}(t):t??""}W=new WeakMap,L=new WeakMap,I=new WeakMap,N=new WeakMap,z=new WeakMap,U=new WeakMap,D=new WeakMap;const Er=[..." \t\n\r\fÂ \v\ufeff"];function $r(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var o=t[i];null!=o&&""!==o&&(r+=" "+i+": "+o+n)}return r}function Rr(t){return"-"!==t[0]||"-"!==t[1]?t.toLowerCase():t}function Mr(t,e,n,r,i,o){var a=t.__className;if(a!==n||void 0===a){var u=function(t,e,n){var r=null==t?"":""+t;if(n)for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var o=i.length,a=0;(a=r.indexOf(i,a))>=0;){var u=a+o;0!==a&&!Er.includes(r[a-1])||u!==r.length&&!Er.includes(r[u])?a=u:r=(0===a?"":r.substring(0,a))+r.substring(u+1)}return""===r?null:r}(n,0,o);null==u?t.removeAttribute("class"):e?t.className=u:t.setAttribute("class",u),t.__className=n}else if(o&&i!==o)for(var l in o){var s=!!o[l];null!=i&&s===!!i[l]||t.classList.toggle(l,s)}return o}function Cr(t,e={},n,r){for(var i in n){var o=n[i];e[i]!==o&&(null==n[i]?t.style.removeProperty(i):t.style.setProperty(i,o,r))}}function Or(t,e,n,r){if(t.__style!==e){var i=function(t,e){if(e){var n,r,i="";if(Array.isArray(e)?(n=e[0],r=e[1]):n=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var o=!1,a=0,u=!1,l=[];n&&l.push(...Object.keys(n).map(Rr)),r&&l.push(...Object.keys(r).map(Rr));var s=0,c=-1;const e=t.length;for(var f=0;f<e;f++){var h=t[f];if(u?"/"===h&&"*"===t[f-1]&&(u=!1):o?o===h&&(o=!1):"/"===h&&"*"===t[f+1]?u=!0:'"'===h||"'"===h?o=h:"("===h?a++:")"===h&&a--,!u&&!1===o&&0===a)if(":"===h&&-1===c)c=f;else if(";"===h||f===e-1){if(-1!==c){var p=Rr(t.substring(s,c).trim());l.includes(p)||(";"!==h&&f++,i+=" "+t.substring(s,f).trim()+";")}s=f+1,c=-1}}}return n&&(i+=$r(n)),r&&(i+=$r(r,!0)),""===(i=i.trim())?null:i}return null==t?null:String(t)}(e,r);null==i?t.removeAttribute("style"):t.style.cssText=i,t.__style=e}else r&&(Array.isArray(r)?(Cr(t,null==n?void 0:n[0],r[0]),Cr(t,null==n?void 0:n[1],r[1],"important")):Cr(t,n,r));return r}function Pr(t,e,n=!1){if(t.multiple){if(null==e)return;if(!Y(e))return void console.warn("https://svelte.dev/e/select_multiple_invalid_value");for(var r of t.options)r.selected=e.includes(Wr(r))}else{for(r of t.options){if(Re(Wr(r),e))return void(r.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}}function Wr(t){return"__value"in t?t.__value:t.value}const Lr=Symbol("class"),Ir=Symbol("style"),Nr=Symbol("is custom element"),zr=Symbol("is html");function Ur(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Dr(t,e,n){var r=Br(t);r[e]!==(r[e]=n)&&("loading"===e&&(t[Pt]=n),null==n?t.removeAttribute(e):"string"!=typeof n&&qr(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Tr(t,e,n=[],r=[],i=[]){ue(i,n,r,n=>{var r=void 0,i={},o="SELECT"===t.nodeName,a=!1;if(Xe(()=>{var u=e(...n.map(Ln)),l=function(t,e,n){var r=Br(t),i=r[Nr],o=!r[zr],a=e||{},u="OPTION"===t.tagName;for(var l in e)l in n||(n[l]=null);n.class?n.class=jr(n.class):n[Lr]&&(n.class=null),n[Ir]&&(n.style??(n.style=null));var s=qr(t);for(const d in n){let l=n[d];if(u&&"value"===d&&null==l)t.value=t.__value="",a[d]=l;else if("class"!==d)if("style"!==d){var c=a[d];if(l!==c||void 0===l&&t.hasAttribute(d)){a[d]=l;var f=d[0]+d[1];if("$$"!==f)if("on"===f){const e={},n="$$"+d;let r=d.slice(2);var h=Vn(r);if(Fn(r)&&(r=r.slice(0,-7),e.capture=!0),!h&&c){if(null!=l)continue;t.removeEventListener(r,a[n],e),a[n]=null}if(null!=l)if(h)t[`__${r}`]=l,Qn([r]);else{let i=function(t){a[d].call(this,t)};a[n]=Xn(r,t,i,e)}else h&&(t[`__${r}`]=void 0)}else if("style"===d)Dr(t,d,l);else if("autofocus"===d)De(t,Boolean(l));else if(i||"__value"!==d&&("value"!==d||null==l))if("selected"===d&&u)Ur(t,l);else{var p=d;o||(p=Kn(p));var v="defaultValue"===p||"defaultChecked"===p;if(null!=l||i||v)v||s.includes(p)&&(i||"string"!=typeof l)?(t[p]=l,p in r&&(r[p]=It)):"function"!=typeof l&&Dr(t,p,l);else if(r[d]=null,"value"===p||"checked"===p){let n=t;const r=void 0===e;if("value"===p){let t=n.defaultValue;n.removeAttribute(p),n.defaultValue=t,n.value=n.__value=r?t:null}else{let t=n.defaultChecked;n.removeAttribute(p),n.defaultChecked=t,n.checked=!!r&&t}}else t.removeAttribute(d)}else t.value=t.__value=l}}else Or(t,l,null==e?void 0:e[Ir],n[Ir]),a[d]=l,a[Ir]=n[Ir];else Mr(t,"http://www.w3.org/1999/xhtml"===t.namespaceURI,l,0,null==e?void 0:e[Lr],n[Lr]),a[d]=l,a[Lr]=n[Lr]}return a}(t,r,u);a&&o&&"value"in u&&Pr(t,u.value);for(let t of Object.getOwnPropertySymbols(i))u[t]||nn(i[t]);for(let e of Object.getOwnPropertySymbols(u)){var s=u[e];"@attach"!==e.description||r&&s===r[e]||(i[e]&&nn(i[e]),i[e]=Qe(()=>Ar(t,()=>s))),l[e]=s}r=l}),o){var u=t;Ge(()=>{Pr(u,r.value,!0),function(t){var e=new MutationObserver(()=>{Pr(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ve(()=>{e.disconnect()})}(u)})}a=!0})}function Br(t){return t.__attributes??(t.__attributes={[Nr]:t.nodeName.includes("-"),[zr]:"http://www.w3.org/1999/xhtml"===t.namespaceURI})}var Fr=new Map;function qr(t){var e,n=t.getAttribute("is")||t.nodeName,r=Fr.get(n);if(r)return r;Fr.set(n,r=[]);for(var i=t,o=Element.prototype;o!==i;){for(var a in e=nt(i))e[a].set&&r.push(a);i=ot(i)}return r}function Vr(t,e){return t===e||(null==t?void 0:t[Ct])===e}function Hr(t={},e,n){return Ge(()=>{var r,i;return Ze(()=>{r=i,i=[],zn(()=>{t!==n(...i)&&(e(t,...i),r&&Vr(n(...r),t)&&e(null,...r))})}),()=>{qt(()=>{i&&Vr(n(...i),t)&&e(null,...i)})}}),t}function Kr(t=!1){const e=Ut,n=e.l.u;if(!n)return;let r=()=>Tn(e.s);if(t){let t=0,n={};const i=se(()=>{let r=!1;const i=e.s;for(const t in i)i[t]!==n[t]&&(n[t]=i[t],r=!0);return r&&t++,t});r=()=>Ln(i)}var i;n.b.length&&(i=()=>{Gr(e,r),st(n.b)},Be(),Fe(1048584,i,!0)),He(()=>{const t=zn(()=>n.m.map(lt));return()=>{for(const e of t)"function"==typeof e&&e()}}),n.a.length&&He(()=>{Gr(e,r),st(n.a)})}function Gr(t,e){if(t.l.s)for(const n of t.l.s)Ln(n);e()}let Zr=!1;const Jr={get(t,e){if(!t.exclude.includes(e))return Ln(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,n){if(!(e in t.special)){var r=_n;try{yn(t.parent_effect),t.special[e]=Qr({get[e](){return t.props[e]}},e,4)}finally{yn(r)}}return t.special[e](n),Ae(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e))return e in t.props?{enumerable:!0,configurable:!0,value:t.props[e]}:void 0},deleteProperty:(t,e)=>(t.exclude.includes(e)||(t.exclude.push(e),Ae(t.version)),!0),has:(t,e)=>!t.exclude.includes(e)&&e in t.props,ownKeys:t=>Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))};function Yr(t,e){return new Proxy({props:t,exclude:e,special:{},version:me(0),parent_effect:_n},Jr)}const Xr={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(ut(r)&&(r=r()),"object"==typeof r&&null!==r&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let i=t.props[r];ut(i)&&(i=i());const o=et(i,e);if(o&&o.set)return o.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(ut(r)&&(r=r()),"object"==typeof r&&null!==r&&e in r){const t=et(r,e);return t&&!t.configurable&&(t.configurable=!0),t}}},has(t,e){if(e===Ct||e===Ot)return!1;for(let n of t.props)if(ut(n)&&(n=n()),null!=n&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(ut(n)&&(n=n()),n){for(const t in n)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(n))e.includes(t)||e.push(t)}return e}};function Qr(t,e,n,r){var i,o,a,u=!!(8&n),l=!!(16&n),s=r,c=!0,f=()=>(c&&(c=!1,s=l?zn(r):r),s);if(u){var h=Ct in t||Ot in t;o=(null==(i=et(t,e))?void 0:i.set)??(h&&e in t?n=>t[e]=n:void 0)}var p,v=!1;if(u?[a,v]=function(t){var e=Zr;try{return Zr=!1,[t(),Zr]}finally{Zr=e}}(()=>t[e]):a=t[e],void 0===a&&void 0!==r&&(a=f(),o&&(!function(){throw new Error("https://svelte.dev/e/props_invalid_value")}(),o(a))),p=()=>{var n=t[e];return void 0===n?f():(c=!0,n)},!(4&n))return p;if(o){var d=t.$$legacy;return function(t,e){return arguments.length>0?((!e||d||v)&&o(e?p():t),t):p()}}var g=!1,_=(1&n?se:he)(()=>(g=!1,p()));u&&Ln(_);var y=_n;return function(t,e){if(arguments.length>0){const n=e?Ln(_):u?Ee(t):t;return xe(_,n),g=!0,void 0!==s&&(s=n),t}return hn&&g||0!==(y.f&bt)?_.v:Ln(_)}}function ti(t){null===Ut&&Lt(),He(()=>{const e=zn(t);if("function"==typeof e)return e})}function ei(t){null===Ut&&Lt(),ti(()=>()=>zn(t))}const ni="ebook-risu-plugin",ri="0.0.1",ii=class t{constructor(e){if(t._instance)return console.log(`[${ni}] Returning existing RisuAPI instance`),t._instance;this._risuFetch=e.risuFetch,this._nativeFetch=e.nativeFetch,this._getArg=e.getArg,this._setArg=e.setArg,this._getChar=e.getChar,this._setChar=e.setChar,this._addProvider=e.addProvider,this._addRisuScriptHandler=e.addRisuScriptHandler,this._removeRisuScriptHandler=e.removeRisuScriptHandler,this._addRisuReplacer=e.addRisuReplacer,this._removeRisuReplacer=e.removeRisuReplacer,this._onUnload=e.onUnload,this._getDatabase=null,this._setDatabaseLite=null,t._instance=this}async initialize(){try{return this._getDatabase=getDatabase,this._setDatabaseLite=setDatabaseLite,console.log(`[${ni}] RisuAPI initialized successfully`),!0}catch(t){return console.log(`[${ni}] Failed to initialize RisuAPI:`,t),!1}}static getInstance(e=null){if(!t._instance){if(!e)throw new Error("RisuAPI instance does not exist. Provide pluginApis on first call.");t._instance=new t(e)}return t._instance}static resetInstance(){t._instance=null}risuFetch(t,e={}){return this._risuFetch(t,e)}nativeFetch(t,e={}){return this._nativeFetch(t,e)}getArg(t){return this._getArg(t)}setArg(t,e){return this._setArg(t,e)}getChar(){return this._getChar()}setChar(t){return this._setChar(t)}addProvider(t,e,n){return this._addProvider(t,e,n)}addRisuScriptHandler(t,e){return this._addRisuScriptHandler(t,e)}removeRisuScriptHandler(t,e){return this._removeRisuScriptHandler(t,e)}addRisuReplacer(t,e){return this._addRisuReplacer(t,e)}removeRisuReplacer(t,e){return this._removeRisuReplacer(t,e)}onUnload(t){return this._onUnload(t)}getDatabase(){if(!this._getDatabase)throw new Error("RisuAPI is not initialized. Call initialize() first.");return this._getDatabase()}setDatabaseLite(t){if(!this._setDatabaseLite)throw new Error("RisuAPI is not initialized. Call initialize() first.");return this._setDatabaseLite(t)}getCurrentChatPage(){const t=this._getChar();return null==t?null:t.chatPage}getAllCurrentChatMessages(){const t=this._getChar();return null==t?null:t.chats[this.getCurrentChatPage()].message}getLastChatIndex(){const t=this._getChar();return null==t?null:t.chats[this.getCurrentChatPage()].message.length}};F(ii,"_instance",null);let oi=ii;const ai=new Map;function ui(t){const e=ai.get(t);if(!e)return!1;try{const{instance:n,wrapper:r,target:i,flagKey:o}=e;return n&&pr(n),r&&r.parentElement&&r.parentElement.removeChild(r),i&&o&&i.removeAttribute(o),ai.delete(t),!0}catch(n){return console.error(`[safeUnmount] ${t} ì–¸ë§ˆìš´íŠ¸ ì‹¤íŒ¨:`,n),!1}}function li(t){const e=oi.getInstance();if(!e)throw new Error("RisuAPI is not initialized. Please ensure the plugin is loaded.");const n=e.getDatabase(),r=n.plugins.findIndex(t=>t.name===ni),i=r>=0?{...n.plugins[r]}:null;console.log("[UpdateManager] Old plugin found:",r>=0,null==i?void 0:i.name);const o=function(t,e){const n={};for(const[r,i]of Object.entries(e))n[r]=t&&r in t?t[r]:"int"===i?0:"";return n}(null==i?void 0:i.realArg,t.arguments),a={...t,realArg:o};console.log("[UpdateManager] New plugin data prepared:",a.name,a.displayName),r>=0?(n.plugins[r]=a,console.log("[UpdateManager] Replaced existing plugin at index",r)):(n.plugins.push(a),console.log("[UpdateManager] Added new plugin"));try{return e.setDatabaseLite(n),console.log("[UpdateManager] Database saved successfully"),{success:!0}}catch(u){return console.error("[UpdateManager] Database save failed:",u),i&&r>=0?(n.plugins[r]=i,console.log("[UpdateManager] Rolled back to previous plugin")):-1===r&&(n.plugins.pop(),console.log("[UpdateManager] Removed newly added plugin")),{success:!1,error:u}}}var si=ir('<div role="dialog" aria-modal="true" tabindex="-1"><div><div> </div> <div><button> </button></div></div></div>');function ci(t,e){Tt(e);let n=Qr(e,"message",3,""),r=Qr(e,"confirmText",3,"í™•ì¸"),i=we(null);function o(t){"Enter"!==t.key&&"Escape"!==t.key||a()}function a(){var t;null==(t=Ln(i))||t.dispatchEvent(new CustomEvent("confirm",{bubbles:!0,composed:!0}))}ti(()=>{document.addEventListener("keydown",o),setTimeout(()=>{var t;return null==(t=Ln(i))?void 0:t.focus()},0)}),ei(()=>{document.removeEventListener("keydown",o)});var u=si(),l=Ne(u),s=Ne(l),c=Ne(s),f=Ue(s,2),h=Ne(f);h.__click=a;var p=Ne(h);Hr(h,t=>xe(i,t),()=>Ln(i)),Je(()=>{Mr(u,1,jr(Z.udRoot)),Mr(l,1,`${Z.udCard} ${Z.udAlert}`),Mr(s,1,jr(Z.udAlertMessage)),sr(c,n()),Mr(f,1,jr(Z.udActions)),Mr(h,1,jr(Z.udBtnPrimary)),sr(p,r())}),lr(t,u),Bt()}Qn(["click"]);var fi=ir('<div role="dialog" aria-modal="true" aria-busy="true" tabindex="-1"><div><div><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4"></circle></svg></div> <div> </div></div></div>');function hi(t,e){Tt(e);let n=Qr(e,"message",3,"ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤...");var r=fi(),i=Ne(r),o=Ne(i),a=Ne(o),u=Ne(a),l=Ue(o,2),s=Ne(l);Je(()=>{Mr(r,1,jr(Z.udRoot)),Mr(i,1,`${Z.udCard} ${Z.udLoading}`),Mr(o,1,jr(Z.udLoadingSpinner)),Mr(a,0,jr(Z.udLoadingSvg)),Mr(u,0,jr(Z.udLoadingCircle)),Mr(l,1,jr(Z.udLoadingMessage)),sr(s,n())}),lr(t,r),Bt()}var pi=ir("<li> </li>"),vi=ir("<li>ì„¸ë¶€ ë³€ê²½ì‚¬í•­ì€ ë¦´ë¦¬ìŠ¤ ë…¸íŠ¸ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”</li>"),di=ir("<button> </button> <button> </button>",1),gi=ir('<div role="dialog" aria-modal="true" tabindex="-1"><div><div><h3> </h3> <span> </span></div> <div> </div> <ul aria-label="ë³€ê²½ì‚¬í•­"><!></ul> <div><!> <button> </button></div></div></div>');function _i(t,e){Tt(e);let n=Qr(e,"name",3,""),r=Qr(e,"currentVersion",3,"0.0.0"),i=Qr(e,"version",3,"0.0.0"),o=Qr(e,"releasedAt",19,()=>(new Date).toISOString()),a=Qr(e,"mandatory",3,!1),u=Qr(e,"notes",19,()=>[]),l=Qr(e,"i18n",19,()=>({title:"í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸ ì¤€ë¹„ ì™„ë£Œ",primary:"ì§€ê¸ˆ ì—…ë°ì´íŠ¸",later:"ë‚˜ì¤‘ì—",skip:"ì´ë²ˆ ë²„ì „ ê±´ë„ˆë›°ê¸°"})),s=we(null),c=fe(()=>new Date(o()).toLocaleDateString()),f=fe(()=>a()?"í•„ìˆ˜ ì—…ë°ì´íŠ¸":"ì„ íƒ ì—…ë°ì´íŠ¸");function h(t){"Escape"!==t.key||a()||p("later"),"Enter"===t.key&&p("update")}function p(t){var e;const n={action:t};"skip"===t&&(n.skipVersion=i()),null==(e=Ln(s))||e.dispatchEvent(new CustomEvent("update-action",{detail:n,bubbles:!0,composed:!0}))}ti(()=>{document.addEventListener("keydown",h),setTimeout(()=>{var t;return null==(t=Ln(s))?void 0:t.focus()},0)}),ei(()=>{document.removeEventListener("keydown",h)});var v=gi();v.__click=function(t){a()||t.target!==t.currentTarget||p("later")},v.__keydown=function(t){a()||"Escape"!==t.key&&"Enter"!==t.key||t.target===t.currentTarget&&p("later")};var d=Ne(v),g=Ne(d),_=Ne(g),y=Ne(_),m=Ue(_,2),w=Ne(m),b=Ue(g,2),x=Ne(b),k=Ue(b,2),A=Ne(k),S=t=>{var e=ur();mr(ze(e),17,()=>u().slice(0,8),gr,(t,e)=>{var n=pi(),r=Ne(n);Je(t=>{Mr(n,1,t),sr(r,Ln(e).text||"")},[()=>jr(function(t){const e=(t||"").trim(),n=e.charAt(0).toUpperCase()+e.slice(1);return Z[`ud${n}`]||""}(Ln(e).type))]),lr(t,n)}),lr(t,e)},j=t=>{lr(t,vi())};dr(A,t=>{u().length>0?t(S):t(j,!1)});var E=Ue(k,2),$=Ne(E),R=t=>{var e=di(),n=ze(e);n.__click=()=>p("later");var r=Ne(n),i=Ue(n,2);i.__click=()=>p("skip");var o=Ne(i);Je(()=>{Mr(n,1,jr(Z.udBtnGhost)),sr(r,l().later),Mr(i,1,jr(Z.udBtnGhost)),sr(o,l().skip)}),lr(t,e)};dr($,t=>{a()||t(R)});var M=Ue($,2);M.__click=()=>p("update");var C=Ne(M);Hr(M,t=>xe(s,t),()=>Ln(s)),Je(()=>{Mr(v,1,jr(Z.udRoot)),Mr(d,1,jr(Z.udCard)),Mr(g,1,jr(Z.udTitle)),sr(y,`${l().title??""}${n()?` Â· ${n()}`:""}`),Mr(m,1,jr(Z.udPill)),sr(w,`v${r()??""} â†’ v${i()??""}`),Mr(b,1,jr(Z.udSub)),sr(x,`${Ln(c)??""} Â· ${Ln(f)??""}`),Mr(k,1,jr(Z.udList)),Mr(E,1,jr(Z.udActions)),Mr(M,1,jr(Z.udBtnPrimary)),sr(C,l().primary)}),lr(t,v),Bt()}async function yi(t){try{console.log("[UpdateManager] Fetching latest script from unpkg:",t.url);const e=await fetch(t.url).then(t=>t.text());console.log("[UpdateManager] Parsing plugin script...");const n=function(t){const e=t.split("\n");let n,r="",i={},o={},a=[];for(const u of e){if(u.startsWith("//@risu-name")||u.startsWith("//@risu-display-name"))throw new Error("V1 plugin is not supported. Please use V2 plugin.");if(u.startsWith("//@name")){const t=u.slice(7).trim();if(""===t)throw new Error("Plugin name must be longer than 0");r=t}if(u.startsWith("//@display-name")){const t=u.slice(16).trim();if(""===t)throw new Error("Plugin display name must be longer than 0");n=t}if(u.startsWith("//@link")){const t=u.split(" ")[1];if(!t||""===t)throw new Error("Plugin link is empty");if(!t.startsWith("https"))throw new Error("Plugin link must start with https");const e=u.split(" ").slice(2).join(" ").trim();a.push({link:t,hoverText:e||void 0})}if(u.startsWith("//@risu-arg")||u.startsWith("//@arg")){const t=u.trim().split(" "),e=t[1];if("int"!==t[2]&&"string"!==t[2])throw new Error(`Unknown argument type: ${t[2]}`);"int"===t[2]?(i[e]="int",o[e]=0):"string"===t[2]&&(i[e]="string",o[e]="")}}if(0===r.length)throw new Error("Plugin name not found");return{name:r,script:t,realArg:o,arguments:i,displayName:n,version:2,customLink:a}}(e);return li(n)}catch(e){return console.error("[UpdateManager] Plugin update failed:",e),{success:!1,error:e}}}function mi(t,e,n){return function(t,e){const n=t.split(".").map(Number),r=e.split(".").map(Number);for(let i=0;i<Math.max(n.length,r.length);i++){const t=n[i]||0,e=r[i]||0;if(t>e)return 1;if(t<e)return-1}return 0}(t,e)<=0?(n||console.log(`[UpdateManager] Already up to date (${e})`),{available:!1,current:e,latest:t}):null}async function wi(t,e){var n;console.log("[UpdateManager] Updating to version",e);const r=await yi(t);return r.success?(console.log("[UpdateManager] Plugin script updated successfully"),await function(t="ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",e=3e3){return new Promise(n=>{const r=document.createElement("div");document.body.appendChild(r);const i=cr(hi,{target:r,props:{message:t}});setTimeout(()=>{pr(i),r.remove(),n()},e)})}("ì—…ë°ì´íŠ¸ë¥¼ ì ìš©í•˜ê³  ìžˆìŠµë‹ˆë‹¤...",4e3),await function(t,e="í™•ì¸"){return new Promise(n=>{const r=document.createElement("div");document.body.appendChild(r);const i=cr(ci,{target:r,props:{message:t,confirmText:e}});r.addEventListener("confirm",()=>{pr(i),r.remove(),n()})})}("ì—…ë°ì´íŠ¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\nì—…ë°ì´íŠ¸ëœ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì ìš©í•˜ê¸° ìœ„í•´\níŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•©ë‹ˆë‹¤."),window.location.reload(),{available:!0,action:"updated",version:e}):(console.error("[UpdateManager] Plugin update failed:",r.error),alert(`ì—…ë°ì´íŠ¸ ì‹¤íŒ¨: ${(null==(n=r.error)?void 0:n.message)||"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜"}\n\níŽ˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.`),{available:!0,action:"update_failed",error:r.error})}async function bi(t={}){const{silent:e=!1,force:n=!1,i18n:r={}}=t;try{const t=await async function(){var t,e,n;try{const i=`https://unpkg.com/${ni}@latest/dist/${ni}.js`,o=(await fetch(i,{method:"HEAD",redirect:"follow"})).url,a=o.match(/@([\d.]+)\//);if(!a)throw new Error("Version not found in resolved URL");const u=a[1],l=await fetch(o).then(t=>t.text()),s=/\/\/@name (.+?)\n\/\/@display-name (.+?)\n\/\/@version (.+?)\n\/\/@description (.+?)(?:\n|$)/,c=l.match(s),f=`https://unpkg.com/${ni}@${u}/dist/release-notes.json`;let h={};try{const t=await fetch(f);t.ok&&(h=(await t.json())[u]||{})}catch(r){console.warn("[UpdateManager] Failed to fetch release notes:",r)}return{version:u,url:o,name:(null==(t=null==c?void 0:c[1])?void 0:t.trim())||ni,displayName:(null==(e=null==c?void 0:c[2])?void 0:e.trim())||`${ni}_v${u}`,description:(null==(n=null==c?void 0:c[4])?void 0:n.trim())||"",mandatory:h.mandatory||!1,notes:h.notes||[],released_at:h.released_at||(new Date).toISOString()}}catch(r){return console.log(`[${ni}] Update check skipped: Plugin not published to npm yet`),null}}();if(!t)return{available:!1,skipped:!0};const i=ri,o=t.version,a=function(t,e,n){if(e)return null;const r=`${ni}_skip_version`;return localStorage.getItem(r)===t?(n||console.log(`[UpdateManager] Version ${t} is skipped by user`),{available:!1,skipped:!0,version:t}):null}(o,n,e);if(a)return a;const u=mi(o,i,e);if(u)return u;console.log(`[UpdateManager] New version available: ${i} â†’ ${o}`);const l=await function(t){const{name:e,currentVersion:n,manifest:r,i18n:i={},mandatory:o=!0===r.mandatory}=t,a=Object.assign({title:"í”ŒëŸ¬ê·¸ì¸ ì—…ë°ì´íŠ¸ ì¤€ë¹„ ì™„ë£Œ",primary:"ì§€ê¸ˆ ì—…ë°ì´íŠ¸",later:"ë‚˜ì¤‘ì—",skip:"ì´ë²ˆ ë²„ì „ ê±´ë„ˆë›°ê¸°"},i);return new Promise(t=>{const i=document.createElement("div");document.body.appendChild(i);const u=cr(_i,{target:i,props:{name:e||"",currentVersion:n,version:r.version,releasedAt:r.released_at||(new Date).toISOString(),mandatory:o,notes:r.notes||[],i18n:a}});i.addEventListener("update-action",e=>{const{action:n,skipVersion:o}=e.detail,a={action:n};"update"===n?a.url=r.url:"skip"===n&&(a.skipVersion=o),pr(u),i.remove(),t(a)})})}({name:ni,currentVersion:i,manifest:t,i18n:r});return await async function(t,e,n){if("update"===t.action)return await wi(e,n);if("skip"===t.action){const e=`${ni}_skip_version`;return localStorage.setItem(e,t.skipVersion),console.log("[UpdateManager] Skipped version",t.skipVersion),{available:!0,action:"skipped",version:t.skipVersion}}return console.log("[UpdateManager] Update postponed"),{available:!0,action:"later",version:n}}(l,t,o)}catch(i){return console.error("[UpdateManager] Check failed:",i),{available:!1,error:i.message}}}Qn(["click","keydown"]);var xi,ki="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ai={exports:{}},Si=Ai.exports;function ji(){return xi||(xi=1,t=Ai,e=Ai.exports,function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=32,u=128,l=256,s=1/0,c=9007199254740991,f=NaN,h=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",a],["partialRight",64],["rearg",l]],v="[object Arguments]",d="[object Array]",g="[object Boolean]",_="[object Date]",y="[object Error]",m="[object Function]",w="[object GeneratorFunction]",b="[object Map]",x="[object Number]",k="[object Object]",A="[object Promise]",S="[object RegExp]",j="[object Set]",E="[object String]",$="[object Symbol]",R="[object WeakMap]",M="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",P="[object Float64Array]",W="[object Int8Array]",L="[object Int16Array]",I="[object Int32Array]",N="[object Uint8Array]",z="[object Uint8ClampedArray]",U="[object Uint16Array]",D="[object Uint32Array]",T=/\b__p \+= '';/g,B=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,V=/[&<>"']/g,H=RegExp(q.source),K=RegExp(V.source),G=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,X=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt=/[\\^$.*+?()[\]{}|]/g,et=RegExp(tt.source),nt=/^\s+/,rt=/\s/,it=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,st=/\\(\\)?/g,ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,ht=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,dt=/^0o[0-7]+$/i,gt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,mt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",bt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",xt="\\u2700-\\u27bf",kt="a-z\\xdf-\\xf6\\xf8-\\xff",At="A-Z\\xc0-\\xd6\\xd8-\\xde",St="\\ufe0e\\ufe0f",jt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Et="['â€™]",$t="["+wt+"]",Rt="["+jt+"]",Mt="["+bt+"]",Ct="\\d+",Ot="["+xt+"]",Pt="["+kt+"]",Wt="[^"+wt+jt+Ct+xt+kt+At+"]",Lt="\\ud83c[\\udffb-\\udfff]",It="[^"+wt+"]",Nt="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ut="["+At+"]",Dt="\\u200d",Tt="(?:"+Pt+"|"+Wt+")",Bt="(?:"+Ut+"|"+Wt+")",Ft="(?:['â€™](?:d|ll|m|re|s|t|ve))?",qt="(?:['â€™](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+Mt+"|"+Lt+")?",Ht="["+St+"]?",Kt=Ht+Vt+"(?:"+Dt+"(?:"+[It,Nt,zt].join("|")+")"+Ht+Vt+")*",Gt="(?:"+[Ot,Nt,zt].join("|")+")"+Kt,Zt="(?:"+[It+Mt+"?",Mt,Nt,zt,$t].join("|")+")",Jt=RegExp(Et,"g"),Yt=RegExp(Mt,"g"),Xt=RegExp(Lt+"(?="+Lt+")|"+Zt+Kt,"g"),Qt=RegExp([Ut+"?"+Pt+"+"+Ft+"(?="+[Rt,Ut,"$"].join("|")+")",Bt+"+"+qt+"(?="+[Rt,Ut+Tt,"$"].join("|")+")",Ut+"?"+Tt+"+"+Ft,Ut+"+"+qt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ct,Gt].join("|"),"g"),te=RegExp("["+Dt+wt+bt+St+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[O]=ie[P]=ie[W]=ie[L]=ie[I]=ie[N]=ie[z]=ie[U]=ie[D]=!0,ie[v]=ie[d]=ie[M]=ie[g]=ie[C]=ie[_]=ie[y]=ie[m]=ie[b]=ie[x]=ie[k]=ie[S]=ie[j]=ie[E]=ie[R]=!1;var oe={};oe[v]=oe[d]=oe[M]=oe[C]=oe[g]=oe[_]=oe[O]=oe[P]=oe[W]=oe[L]=oe[I]=oe[b]=oe[x]=oe[k]=oe[S]=oe[j]=oe[E]=oe[$]=oe[N]=oe[z]=oe[U]=oe[D]=!0,oe[y]=oe[m]=oe[R]=!1;var ae={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ue=parseFloat,le=parseInt,se="object"==typeof ki&&ki&&ki.Object===Object&&ki,ce="object"==typeof self&&self&&self.Object===Object&&self,fe=se||ce||Function("return this")(),he=e&&!e.nodeType&&e,pe=he&&t&&!t.nodeType&&t,ve=pe&&pe.exports===he,de=ve&&se.process,ge=(()=>{try{var t=pe&&pe.require&&pe.require("util").types;return t||de&&de.binding&&de.binding("util")}catch(e){}})(),_e=ge&&ge.isArrayBuffer,ye=ge&&ge.isDate,me=ge&&ge.isMap,we=ge&&ge.isRegExp,be=ge&&ge.isSet,xe=ge&&ge.isTypedArray;function ke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ae(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function Se(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function je(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ee(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function $e(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Re(t,e){return!(null==t||!t.length)&&Ue(t,e,0)>-1}function Me(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ce(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Oe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Pe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function We(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Le(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Ie=Fe("length");function Ne(t,e,n){var r;return n(t,(t,n,i)=>{if(e(t,n,i))return r=n,!1}),r}function ze(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Ue(t,e,n){return e==e?((t,e,n)=>{for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1})(t,e,n):ze(t,Te,n)}function De(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function Te(t){return t!=t}function Be(t,e){var n=null==t?0:t.length;return n?He(t,e)/n:f}function Fe(t){return e=>null==e?n:e[t]}function qe(t){return e=>null==t?n:t[e]}function Ve(t,e,n,r,i){return i(t,(t,i,o)=>{n=r?(r=!1,t):e(n,t,i,o)}),n}function He(t,e){for(var r,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==n&&(r=r===n?a:r+a)}return r}function Ke(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function Ge(t){return t?t.slice(0,fn(t)+1).replace(nt,""):t}function Ze(t){return e=>t(e)}function Je(t,e){return Ce(e,e=>t[e])}function Ye(t,e){return t.has(e)}function Xe(t,e){for(var n=-1,r=t.length;++n<r&&Ue(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&Ue(e,t[n],0)>-1;);return n}var tn=qe({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"s"}),en=qe({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+ae[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((t,r)=>{n[++e]=[r,t]}),n}function an(t,e){return n=>t(e(n))}function un(t,e){for(var n=-1,r=t.length,i=0,a=[];++n<r;){var u=t[n];u!==e&&u!==o||(t[n]=o,a[i++]=n)}return a}function ln(t){var e=-1,n=Array(t.size);return t.forEach(t=>{n[++e]=t}),n}function sn(t){return rn(t)?(t=>{for(var e=Xt.lastIndex=0;Xt.test(t);)++e;return e})(t):Ie(t)}function cn(t){return rn(t)?(t=>t.match(Xt)||[])(t):(t=>t.split(""))(t)}function fn(t){for(var e=t.length;e--&&rt.test(t.charAt(e)););return e}var hn=qe({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),pn=function t(e){var rt,wt=(e=null==e?fe:pn.defaults(fe.Object(),e,pn.pick(fe,ne))).Array,bt=e.Date,xt=e.Error,kt=e.Function,At=e.Math,St=e.Object,jt=e.RegExp,Et=e.String,$t=e.TypeError,Rt=wt.prototype,Mt=kt.prototype,Ct=St.prototype,Ot=e["__core-js_shared__"],Pt=Mt.toString,Wt=Ct.hasOwnProperty,Lt=0,It=(rt=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+rt:"",Nt=Ct.toString,zt=Pt.call(St),Ut=fe._,Dt=jt("^"+Pt.call(Wt).replace(tt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=ve?e.Buffer:n,Bt=e.Symbol,Ft=e.Uint8Array,qt=Tt?Tt.allocUnsafe:n,Vt=an(St.getPrototypeOf,St),Ht=St.create,Kt=Ct.propertyIsEnumerable,Gt=Rt.splice,Zt=Bt?Bt.isConcatSpreadable:n,Xt=Bt?Bt.iterator:n,te=Bt?Bt.toStringTag:n,ae=(()=>{try{var t=so(St,"defineProperty");return t({},"",{}),t}catch(e){}})(),se=e.clearTimeout!==fe.clearTimeout&&e.clearTimeout,ce=bt&&bt.now!==fe.Date.now&&bt.now,he=e.setTimeout!==fe.setTimeout&&e.setTimeout,pe=At.ceil,de=At.floor,ge=St.getOwnPropertySymbols,Ie=Tt?Tt.isBuffer:n,qe=e.isFinite,vn=Rt.join,dn=an(St.keys,St),gn=At.max,_n=At.min,yn=bt.now,mn=e.parseInt,wn=At.random,bn=Rt.reverse,xn=so(e,"DataView"),kn=so(e,"Map"),An=so(e,"Promise"),Sn=so(e,"Set"),jn=so(e,"WeakMap"),En=so(St,"create"),$n=jn&&new jn,Rn={},Mn=Uo(xn),Cn=Uo(kn),On=Uo(An),Pn=Uo(Sn),Wn=Uo(jn),Ln=Bt?Bt.prototype:n,In=Ln?Ln.valueOf:n,Nn=Ln?Ln.toString:n;function zn(t){if(nu(t)&&!Va(t)&&!(t instanceof Bn)){if(t instanceof Tn)return t;if(Wt.call(t,"__wrapped__"))return Do(t)}return new Tn(t)}var Un=(()=>{function t(){}return e=>{if(!eu(e))return{};if(Ht)return Ht(e);t.prototype=e;var r=new t;return t.prototype=n,r}})();function Dn(){}function Tn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function Bn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Fn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function qn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Hn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Vn;++e<n;)this.add(t[e])}function Kn(t){var e=this.__data__=new qn(t);this.size=e.size}function Gn(t,e){var n=Va(t),r=!n&&qa(t),i=!n&&!r&&Za(t),o=!n&&!r&&!i&&cu(t),a=n||r||i||o,u=a?Ke(t.length,Et):[],l=u.length;for(var s in t)!e&&!Wt.call(t,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||_o(s,l))||u.push(s);return u}function Zn(t){var e=t.length;return e?t[Hr(0,e-1)]:n}function Jn(t,e){return Po(Ei(t),or(e,0,t.length))}function Yn(t){return Po(Ei(t))}function Xn(t,e,r){(r!==n&&!Ta(t[e],r)||r===n&&!(e in t))&&rr(t,e,r)}function Qn(t,e,r){var i=t[e];Wt.call(t,e)&&Ta(i,r)&&(r!==n||e in t)||rr(t,e,r)}function tr(t,e){for(var n=t.length;n--;)if(Ta(t[n][0],e))return n;return-1}function er(t,e,n,r){return cr(t,(t,i,o)=>{e(r,t,n(t),o)}),r}function nr(t,e){return t&&$i(e,Ou(e),t)}function rr(t,e,n){"__proto__"==e&&ae?ae(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var r=-1,i=e.length,o=wt(i),a=null==t;++r<i;)o[r]=a?n:Eu(t,e[r]);return o}function or(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function ar(t,e,r,i,o,a){var u,l=1&e,s=2&e,c=4&e;if(r&&(u=o?r(t,i,o,a):r(t)),u!==n)return u;if(!eu(t))return t;var f=Va(t);if(f){if(u=(t=>{var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Wt.call(t,"index")&&(n.index=t.index,n.input=t.input),n})(t),!l)return Ei(t,u)}else{var h=ho(t),p=h==m||h==w;if(Za(t))return bi(t,l);if(h==k||h==v||p&&!o){if(u=s||p?{}:vo(t),!l)return s?((t,e)=>$i(t,fo(t),e))(t,((t,e)=>t&&$i(e,Pu(e),t))(u,t)):((t,e)=>$i(t,co(t),e))(t,nr(u,t))}else{if(!oe[h])return o?t:{};u=((t,e,n)=>{var r,i=t.constructor;switch(e){case M:return xi(t);case g:case _:return new i(+t);case C:return((t,e)=>{var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)})(t,n);case O:case P:case W:case L:case I:case N:case z:case U:case D:return ki(t,n);case b:return new i;case x:case E:return new i(t);case S:return(t=>{var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e})(t);case j:return new i;case $:return r=t,In?St(In.call(r)):{}}})(t,h,l)}}a||(a=new Kn);var d=a.get(t);if(d)return d;a.set(t,u),uu(t)?t.forEach(n=>{u.add(ar(n,e,r,n,t,a))}):ru(t)&&t.forEach((n,i)=>{u.set(i,ar(n,e,r,i,t,a))});var y=f?n:(c?s?no:eo:s?Pu:Ou)(t);return Se(y||t,(n,i)=>{y&&(n=t[i=n]),Qn(u,i,ar(n,e,r,i,t,a))}),u}function ur(t,e,r){var i=r.length;if(null==t)return!i;for(t=St(t);i--;){var o=r[i],a=e[o],u=t[o];if(u===n&&!(o in t)||!a(u))return!1}return!0}function lr(t,e,i){if("function"!=typeof t)throw new $t(r);return Ro(()=>{t.apply(n,i)},e)}function sr(t,e,n,r){var i=-1,o=Re,a=!0,u=t.length,l=[],s=e.length;if(!u)return l;n&&(e=Ce(e,Ze(n))),r?(o=Me,a=!1):e.length>=200&&(o=Ye,a=!1,e=new Hn(e));t:for(;++i<u;){var c=t[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,a&&f==f){for(var h=s;h--;)if(e[h]===f)continue t;l.push(c)}else o(e,f,r)||l.push(c)}return l}zn.templateSettings={escape:G,evaluate:Z,interpolate:J,variable:"",imports:{_:zn}},zn.prototype=Dn.prototype,zn.prototype.constructor=zn,Tn.prototype=Un(Dn.prototype),Tn.prototype.constructor=Tn,Bn.prototype=Un(Dn.prototype),Bn.prototype.constructor=Bn,Fn.prototype.clear=function(){this.__data__=En?En(null):{},this.size=0},Fn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fn.prototype.get=function(t){var e=this.__data__;if(En){var r=e[t];return r===i?n:r}return Wt.call(e,t)?e[t]:n},Fn.prototype.has=function(t){var e=this.__data__;return En?e[t]!==n:Wt.call(e,t)},Fn.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=En&&e===n?i:e,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():Gt.call(e,n,1),--this.size,0))},qn.prototype.get=function(t){var e=this.__data__,r=tr(e,t);return r<0?n:e[r][1]},qn.prototype.has=function(t){return tr(this.__data__,t)>-1},qn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Fn,map:new(kn||qn),string:new Fn}},Vn.prototype.delete=function(t){var e=uo(this,t).delete(t);return this.size-=e?1:0,e},Vn.prototype.get=function(t){return uo(this,t).get(t)},Vn.prototype.has=function(t){return uo(this,t).has(t)},Vn.prototype.set=function(t,e){var n=uo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(t){return this.__data__.set(t,i),this},Hn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.clear=function(){this.__data__=new qn,this.size=0},Kn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Kn.prototype.get=function(t){return this.__data__.get(t)},Kn.prototype.has=function(t){return this.__data__.has(t)},Kn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!kn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(t,e),this.size=n.size,this};var cr=Ci(yr),fr=Ci(mr,!0);function hr(t,e){var n=!0;return cr(t,(t,r,i)=>n=!!e(t,r,i)),n}function pr(t,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],u=e(a);if(null!=u&&(l===n?u==u&&!su(u):r(u,l)))var l=u,s=a}return s}function vr(t,e){var n=[];return cr(t,(t,r,i)=>{e(t,r,i)&&n.push(t)}),n}function dr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=go),i||(i=[]);++o<a;){var u=t[o];e>0&&n(u)?e>1?dr(u,e-1,n,r,i):Oe(i,u):r||(i[i.length]=u)}return i}var gr=Oi(),_r=Oi(!0);function yr(t,e){return t&&gr(t,e,Ou)}function mr(t,e){return t&&_r(t,e,Ou)}function wr(t,e){return $e(e,e=>Xa(t[e]))}function br(t,e){for(var r=0,i=(e=_i(e,t)).length;null!=t&&r<i;)t=t[zo(e[r++])];return r&&r==i?t:n}function xr(t,e,n){var r=e(t);return Va(t)?r:Oe(r,n(t))}function kr(t){return null==t?t===n?"[object Undefined]":"[object Null]":te&&te in St(t)?(t=>{var e=Wt.call(t,te),r=t[te];try{t[te]=n;var i=!0}catch(a){}var o=Nt.call(t);return i&&(e?t[te]=r:delete t[te]),o})(t):(t=>Nt.call(t))(t)}function Ar(t,e){return t>e}function Sr(t,e){return null!=t&&Wt.call(t,e)}function jr(t,e){return null!=t&&e in St(t)}function Er(t,e,r){for(var i=r?Me:Re,o=t[0].length,a=t.length,u=a,l=wt(a),s=1/0,c=[];u--;){var f=t[u];u&&e&&(f=Ce(f,Ze(e))),s=_n(f.length,s),l[u]=!r&&(e||o>=120&&f.length>=120)?new Hn(u&&f):n}f=t[0];var h=-1,p=l[0];t:for(;++h<o&&c.length<s;){var v=f[h],d=e?e(v):v;if(v=r||0!==v?v:0,!(p?Ye(p,d):i(c,d,r))){for(u=a;--u;){var g=l[u];if(!(g?Ye(g,d):i(t[u],d,r)))continue t}p&&p.push(d),c.push(v)}}return c}function $r(t,e,r){var i=null==(t=jo(t,e=_i(e,t)))?t:t[zo(Yo(e))];return null==i?n:ke(i,t,r)}function Rr(t){return nu(t)&&kr(t)==v}function Mr(t,e,r,i,o){return t===e||(null==t||null==e||!nu(t)&&!nu(e)?t!=t&&e!=e:((t,e,r,i,o,a)=>{var u=Va(t),l=Va(e),s=u?d:ho(t),c=l?d:ho(e),f=(s=s==v?k:s)==k,h=(c=c==v?k:c)==k,p=s==c;if(p&&Za(t)){if(!Za(e))return!1;u=!0,f=!1}if(p&&!f)return a||(a=new Kn),u||cu(t)?Qi(t,e,r,i,o,a):((t,e,n,r,i,o,a)=>{switch(n){case C:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!o(new Ft(t),new Ft(e)));case g:case _:case x:return Ta(+t,+e);case y:return t.name==e.name&&t.message==e.message;case S:case E:return t==e+"";case b:var u=on;case j:var l=1&r;if(u||(u=ln),t.size!=e.size&&!l)return!1;var s=a.get(t);if(s)return s==e;r|=2,a.set(t,e);var c=Qi(u(t),u(e),r,i,o,a);return a.delete(t),c;case $:if(In)return In.call(t)==In.call(e)}return!1})(t,e,s,r,i,o,a);if(!(1&r)){var m=f&&Wt.call(t,"__wrapped__"),w=h&&Wt.call(e,"__wrapped__");if(m||w){var A=m?t.value():t,R=w?e.value():e;return a||(a=new Kn),o(A,R,r,i,a)}}return!!p&&(a||(a=new Kn),((t,e,r,i,o,a)=>{var u=1&r,l=eo(t),s=l.length,c=eo(e),f=c.length;if(s!=f&&!u)return!1;for(var h=s;h--;){var p=l[h];if(!(u?p in e:Wt.call(e,p)))return!1}var v=a.get(t),d=a.get(e);if(v&&d)return v==e&&d==t;var g=!0;a.set(t,e),a.set(e,t);for(var _=u;++h<s;){var y=t[p=l[h]],m=e[p];if(i)var w=u?i(m,y,p,e,t,a):i(y,m,p,t,e,a);if(!(w===n?y===m||o(y,m,r,i,a):w)){g=!1;break}_||(_="constructor"==p)}if(g&&!_){var b=t.constructor,x=e.constructor;b==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(g=!1)}return a.delete(t),a.delete(e),g})(t,e,r,i,o,a))})(t,e,r,i,Mr,o))}function Cr(t,e,r,i){var o=r.length,a=o,u=!i;if(null==t)return!a;for(t=St(t);o--;){var l=r[o];if(u&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var s=(l=r[o])[0],c=t[s],f=l[1];if(u&&l[2]){if(c===n&&!(s in t))return!1}else{var h=new Kn;if(i)var p=i(c,f,s,t,e,h);if(!(p===n?Mr(f,c,3,i,h):p))return!1}}return!0}function Or(t){return!(!eu(t)||(e=t,It&&It in e))&&(Xa(t)?Dt:vt).test(Uo(t));var e}function Pr(t){return"function"==typeof t?t:null==t?il:"object"==typeof t?Va(t)?Ur(t[0],t[1]):zr(t):pl(t)}function Wr(t){if(!xo(t))return dn(t);var e=[];for(var n in St(t))Wt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t){if(!eu(t))return(t=>{var e=[];if(null!=t)for(var n in St(t))e.push(n);return e})(t);var e=xo(t),n=[];for(var r in t)("constructor"!=r||!e&&Wt.call(t,r))&&n.push(r);return n}function Ir(t,e){return t<e}function Nr(t,e){var n=-1,r=Ka(t)?wt(t.length):[];return cr(t,(t,i,o)=>{r[++n]=e(t,i,o)}),r}function zr(t){var e=lo(t);return 1==e.length&&e[0][2]?Ao(e[0][0],e[0][1]):n=>n===t||Cr(n,t,e)}function Ur(t,e){return mo(t)&&ko(e)?Ao(zo(t),e):r=>{var i=Eu(r,t);return i===n&&i===e?$u(r,t):Mr(e,i,3)}}function Dr(t,e,r,i,o){t!==e&&gr(e,(a,u)=>{if(o||(o=new Kn),eu(a))((t,e,r,i,o,a,u)=>{var l=Eo(t,r),s=Eo(e,r),c=u.get(s);if(c)Xn(t,r,c);else{var f=a?a(l,s,r+"",t,e,u):n,h=f===n;if(h){var p=Va(s),v=!p&&Za(s),d=!p&&!v&&cu(s);f=s,p||v||d?Va(l)?f=l:Ga(l)?f=Ei(l):v?(h=!1,f=bi(s,!0)):d?(h=!1,f=ki(s,!0)):f=[]:ou(s)||qa(s)?(f=l,qa(l)?f=yu(l):eu(l)&&!Xa(l)||(f=vo(s))):h=!1}h&&(u.set(s,f),o(f,s,i,a,u),u.delete(s)),Xn(t,r,f)}})(t,e,u,r,Dr,i,o);else{var l=i?i(Eo(t,u),a,u+"",t,e,o):n;l===n&&(l=a),Xn(t,u,l)}},Pu)}function Tr(t,e){var r=t.length;if(r)return _o(e+=e<0?r:0,r)?t[e]:n}function Br(t,e,n){e=e.length?Ce(e,t=>Va(t)?e=>br(e,1===t.length?t[0]:t):t):[il];var r=-1;return e=Ce(e,Ze(ao())),((t,e)=>{var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t})(Nr(t,t=>({criteria:Ce(e,e=>e(t)),index:++r,value:t})),(t,e)=>((t,e,n)=>{for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,u=n.length;++r<a;){var l=Ai(i[r],o[r]);if(l)return r>=u?l:l*("desc"==n[r]?-1:1)}return t.index-e.index})(t,e,n))}function Fr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],u=br(t,a);n(u,a)&&Yr(o,_i(a,t),u)}return o}function qr(t,e,n,r){var i=r?De:Ue,o=-1,a=e.length,u=t;for(t===e&&(e=Ei(e)),n&&(u=Ce(t,Ze(n)));++o<a;)for(var l=0,s=e[o],c=n?n(s):s;(l=i(u,c,l,r))>-1;)u!==t&&Gt.call(u,l,1),Gt.call(t,l,1);return t}function Vr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;_o(i)?Gt.call(t,i,1):si(t,i)}}return t}function Hr(t,e){return t+de(wn()*(e-t+1))}function Kr(t,e){var n="";if(!t||e<1||e>c)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Gr(t,e){return Mo(So(t,e,il),t+"")}function Zr(t){return Zn(Tu(t))}function Jr(t,e){var n=Tu(t);return Po(n,or(e,0,n.length))}function Yr(t,e,r,i){if(!eu(t))return t;for(var o=-1,a=(e=_i(e,t)).length,u=a-1,l=t;null!=l&&++o<a;){var s=zo(e[o]),c=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;if(o!=u){var f=l[s];(c=i?i(f,s,l):n)===n&&(c=eu(f)?f:_o(e[o+1])?[]:{})}Qn(l,s,c),l=l[s]}return t}var Xr=$n?(t,e)=>($n.set(t,e),t):il,Qr=ae?(t,e)=>ae(t,"toString",{configurable:!0,enumerable:!1,value:el(e),writable:!0}):il;function ti(t){return Po(Tu(t))}function ei(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=wt(i);++r<i;)o[r]=t[r+e];return o}function ni(t,e){var n;return cr(t,(t,r,i)=>!(n=e(t,r,i))),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!su(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return ii(t,e,il,n)}function ii(t,e,r,i){var o=0,a=null==t?0:t.length;if(0===a)return 0;for(var u=(e=r(e))!=e,l=null===e,s=su(e),c=e===n;o<a;){var f=de((o+a)/2),h=r(t[f]),p=h!==n,v=null===h,d=h==h,g=su(h);if(u)var _=i||d;else _=c?d&&(i||p):l?d&&p&&(i||!v):s?d&&p&&!v&&(i||!g):!v&&!g&&(i?h<=e:h<e);_?o=f+1:a=f}return _n(a,4294967294)}function oi(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],u=e?e(a):a;if(!n||!Ta(u,l)){var l=u;o[i++]=0===a?0:a}}return o}function ai(t){return"number"==typeof t?t:su(t)?f:+t}function ui(t){if("string"==typeof t)return t;if(Va(t))return Ce(t,ui)+"";if(su(t))return Nn?Nn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function li(t,e,n){var r=-1,i=Re,o=t.length,a=!0,u=[],l=u;if(n)a=!1,i=Me;else if(o>=200){var s=e?null:Ki(t);if(s)return ln(s);a=!1,i=Ye,l=new Hn}else l=e?[]:u;t:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||0!==c?c:0,a&&f==f){for(var h=l.length;h--;)if(l[h]===f)continue t;e&&l.push(f),u.push(c)}else i(l,f,n)||(l!==u&&l.push(f),u.push(c))}return u}function si(t,e){return null==(t=jo(t,e=_i(e,t)))||delete t[zo(Yo(e))]}function ci(t,e,n,r){return Yr(t,e,n(br(t,e)),r)}function fi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ei(t,r?0:o,r?o+1:i):ei(t,r?o+1:0,r?i:o)}function hi(t,e){var n=t;return n instanceof Bn&&(n=n.value()),Pe(e,(t,e)=>e.func.apply(e.thisArg,Oe([t],e.args)),n)}function pi(t,e,n){var r=t.length;if(r<2)return r?li(t[0]):[];for(var i=-1,o=wt(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=sr(o[i]||a,t[u],e,n));return li(dr(o,1),e,n)}function vi(t,e,r){for(var i=-1,o=t.length,a=e.length,u={};++i<o;){var l=i<a?e[i]:n;r(u,t[i],l)}return u}function di(t){return Ga(t)?t:[]}function gi(t){return"function"==typeof t?t:il}function _i(t,e){return Va(t)?t:mo(t,e)?[t]:No(mu(t))}var yi=Gr;function mi(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:ei(t,e,r)}var wi=se||(t=>fe.clearTimeout(t));function bi(t,e){if(e)return t.slice();var n=t.length,r=qt?qt(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new Ft(e).set(new Ft(t)),e}function ki(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Ai(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,a=su(t),u=e!==n,l=null===e,s=e==e,c=su(e);if(!l&&!c&&!a&&t>e||a&&u&&s&&!l&&!c||i&&u&&s||!r&&s||!o)return 1;if(!i&&!a&&!c&&t<e||c&&r&&o&&!i&&!a||l&&r&&o||!u&&o||!s)return-1}return 0}function Si(t,e,n,r){for(var i=-1,o=t.length,a=n.length,u=-1,l=e.length,s=gn(o-a,0),c=wt(l+s),f=!r;++u<l;)c[u]=e[u];for(;++i<a;)(f||i<o)&&(c[n[i]]=t[i]);for(;s--;)c[u++]=t[i++];return c}function ji(t,e,n,r){for(var i=-1,o=t.length,a=-1,u=n.length,l=-1,s=e.length,c=gn(o-u,0),f=wt(c+s),h=!r;++i<c;)f[i]=t[i];for(var p=i;++l<s;)f[p+l]=e[l];for(;++a<u;)(h||i<o)&&(f[p+n[a]]=t[i++]);return f}function Ei(t,e){var n=-1,r=t.length;for(e||(e=wt(r));++n<r;)e[n]=t[n];return e}function $i(t,e,r,i){var o=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var l=e[a],s=i?i(r[l],t[l],l,r,t):n;s===n&&(s=t[l]),o?rr(r,l,s):Qn(r,l,s)}return r}function Ri(t,e){return(n,r)=>{var i=Va(n)?Ae:er,o=e?e():{};return i(n,t,ao(r,2),o)}}function Mi(t){return Gr((e,r)=>{var i=-1,o=r.length,a=o>1?r[o-1]:n,u=o>2?r[2]:n;for(a=t.length>3&&"function"==typeof a?(o--,a):n,u&&yo(r[0],r[1],u)&&(a=o<3?n:a,o=1),e=St(e);++i<o;){var l=r[i];l&&t(e,l,i,a)}return e})}function Ci(t,e){return(n,r)=>{if(null==n)return n;if(!Ka(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=St(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Oi(t){return(e,n,r)=>{for(var i=-1,o=St(e),a=r(e),u=a.length;u--;){var l=a[t?u:++i];if(!1===n(o[l],l,o))break}return e}}function Pi(t){return e=>{var r=rn(e=mu(e))?cn(e):n,i=r?r[0]:e.charAt(0),o=r?mi(r,1).join(""):e.slice(1);return i[t]()+o}}function Wi(t){return e=>Pe(Xu(qu(e).replace(Jt,"")),t,"")}function Li(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Un(t.prototype),r=t.apply(n,e);return eu(r)?r:n}}function Ii(t){return(e,r,i)=>{var o=St(e);if(!Ka(e)){var a=ao(r,3);e=Ou(e),r=t=>a(o[t],t,o)}var u=t(e,r,i);return u>-1?o[a?e[u]:u]:n}}function Ni(t){return to(function(e){var i=e.length,o=i,a=Tn.prototype.thru;for(t&&e.reverse();o--;){var u=e[o];if("function"!=typeof u)throw new $t(r);if(a&&!l&&"wrapper"==io(u))var l=new Tn([],!0)}for(o=l?o:i;++o<i;){var s=io(u=e[o]),c="wrapper"==s?ro(u):n;l=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?l[io(c[0])].apply(l,c[3]):1==u.length&&wo(u)?l[s]():l.thru(u)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&Va(n))return l.plant(n).value();for(var r=0,o=i?e[r].apply(this,t):n;++r<i;)o=e[r].call(this,o);return o}})}function zi(t,e,r,i,o,a,l,s,c,f){var h=e&u,p=1&e,v=2&e,d=24&e,g=512&e,_=v?n:Li(t);return function u(){for(var y=arguments.length,m=wt(y),w=y;w--;)m[w]=arguments[w];if(d)var b=oo(u),x=((t,e)=>{for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r})(m,b);if(i&&(m=Si(m,i,o,d)),a&&(m=ji(m,a,l,d)),y-=x,d&&y<f){var k=un(m,b);return Vi(t,e,zi,u.placeholder,r,m,k,s,c,f-y)}var A=p?r:this,S=v?A[t]:t;return y=m.length,s?m=((t,e)=>{for(var r=t.length,i=_n(e.length,r),o=Ei(t);i--;){var a=e[i];t[i]=_o(a,r)?o[a]:n}return t})(m,s):g&&y>1&&m.reverse(),h&&c<y&&(m.length=c),this&&this!==fe&&this instanceof u&&(S=_||Li(S)),S.apply(A,m)}}function Ui(t,e){return(n,r)=>((t,e,n,r)=>(yr(t,(t,i,o)=>{e(r,n(t),i,o)}),r))(n,t,e(r),{})}function Di(t,e){return(r,i)=>{var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=ui(r),i=ui(i)):(r=ai(r),i=ai(i)),o=t(r,i)}return o}}function Ti(t){return to(function(e){return e=Ce(e,Ze(ao())),Gr(function(n){var r=this;return t(e,t=>ke(t,r,n))})})}function Bi(t,e){var r=(e=e===n?" ":ui(e)).length;if(r<2)return r?Kr(e,t):e;var i=Kr(e,pe(t/sn(e)));return rn(e)?mi(cn(i),0,t).join(""):i.slice(0,t)}function Fi(t){return(e,r,i)=>(i&&"number"!=typeof i&&yo(e,r,i)&&(r=i=n),e=vu(e),r===n?(r=e,e=0):r=vu(r),((t,e,n,r)=>{for(var i=-1,o=gn(pe((e-t)/(n||1)),0),a=wt(o);o--;)a[r?o:++i]=t,t+=n;return a})(e,r,i=i===n?e<r?1:-1:vu(i),t))}function qi(t){return(e,n)=>("string"==typeof e&&"string"==typeof n||(e=_u(e),n=_u(n)),t(e,n))}function Vi(t,e,r,i,o,u,l,s,c,f){var h=8&e;e|=h?a:64,4&(e&=~(h?64:a))||(e&=-4);var p=[t,e,o,h?u:n,h?l:n,h?n:u,h?n:l,s,c,f],v=r.apply(n,p);return wo(t)&&$o(v,p),v.placeholder=i,Co(v,t,e)}function Hi(t){var e=At[t];return(t,n)=>{if(t=_u(t),(n=null==n?0:_n(du(n),292))&&qe(t)){var r=(mu(t)+"e").split("e");return+((r=(mu(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Ki=Sn&&1/ln(new Sn([,-0]))[1]==s?t=>new Sn(t):sl;function Gi(t){return e=>{var n=ho(e);return n==b?on(e):n==j?(t=>{var e=-1,n=Array(t.size);return t.forEach(t=>{n[++e]=[t,t]}),n})(e):((t,e)=>Ce(e,e=>[e,t[e]]))(e,t(e))}}function Zi(t,e,i,s,c,f,h,p){var v=2&e;if(!v&&"function"!=typeof t)throw new $t(r);var d=s?s.length:0;if(d||(e&=-97,s=c=n),h=h===n?h:gn(du(h),0),p=p===n?p:du(p),d-=c?c.length:0,64&e){var g=s,_=c;s=c=n}var y=v?n:ro(t),m=[t,e,i,s,c,g,_,f,h,p];if(y&&((t,e)=>{var n=t[1],r=e[1],i=n|r,a=i<131,s=r==u&&8==n||r==u&&n==l&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!a&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var f=t[3];t[3]=f?Si(f,c,e[4]):c,t[4]=f?un(t[3],o):e[4]}(c=e[5])&&(f=t[5],t[5]=f?ji(f,c,e[6]):c,t[6]=f?un(t[5],o):e[6]),(c=e[7])&&(t[7]=c),r&u&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i})(m,y),t=m[0],e=m[1],i=m[2],s=m[3],c=m[4],!(p=m[9]=m[9]===n?v?0:t.length:gn(m[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)w=8==e||16==e?function(t,e,r){var i=Li(t);return function o(){for(var a=arguments.length,u=wt(a),l=a,s=oo(o);l--;)u[l]=arguments[l];var c=a<3&&u[0]!==s&&u[a-1]!==s?[]:un(u,s);return(a-=c.length)<r?Vi(t,e,zi,o.placeholder,n,u,c,n,n,r-a):ke(this&&this!==fe&&this instanceof o?i:t,this,u)}}(t,e,p):e!=a&&33!=e||c.length?zi.apply(n,m):function(t,e,n,r){var i=1&e,o=Li(t);return function e(){for(var a=-1,u=arguments.length,l=-1,s=r.length,c=wt(s+u),f=this&&this!==fe&&this instanceof e?o:t;++l<s;)c[l]=r[l];for(;u--;)c[l++]=arguments[++a];return ke(f,i?n:this,c)}}(t,e,i,s);else var w=function(t,e,n){var r=1&e,i=Li(t);return function e(){return(this&&this!==fe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,i);return Co((y?Xr:$o)(w,m),t,e)}function Ji(t,e,r,i){return t===n||Ta(t,Ct[r])&&!Wt.call(i,r)?e:t}function Yi(t,e,r,i,o,a){return eu(t)&&eu(e)&&(a.set(e,t),Dr(t,e,n,Yi,a),a.delete(e)),t}function Xi(t){return ou(t)?n:t}function Qi(t,e,r,i,o,a){var u=1&r,l=t.length,s=e.length;if(l!=s&&!(u&&s>l))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var h=-1,p=!0,v=2&r?new Hn:n;for(a.set(t,e),a.set(e,t);++h<l;){var d=t[h],g=e[h];if(i)var _=u?i(g,d,h,e,t,a):i(d,g,h,t,e,a);if(_!==n){if(_)continue;p=!1;break}if(v){if(!Le(e,(t,e)=>{if(!Ye(v,e)&&(d===t||o(d,t,r,i,a)))return v.push(e)})){p=!1;break}}else if(d!==g&&!o(d,g,r,i,a)){p=!1;break}}return a.delete(t),a.delete(e),p}function to(t){return Mo(So(t,n,Ho),t+"")}function eo(t){return xr(t,Ou,co)}function no(t){return xr(t,Pu,fo)}var ro=$n?t=>$n.get(t):sl;function io(t){for(var e=t.name+"",n=Rn[e],r=Wt.call(Rn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function oo(t){return(Wt.call(zn,"placeholder")?zn:t).placeholder}function ao(){var t=zn.iteratee||ol;return t=t===ol?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function uo(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function lo(t){for(var e=Ou(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ko(i)]}return e}function so(t,e){var r=((t,e)=>null==t?n:t[e])(t,e);return Or(r)?r:n}var co=ge?t=>null==t?[]:(t=St(t),$e(ge(t),e=>Kt.call(t,e))):gl,fo=ge?t=>{for(var e=[];t;)Oe(e,co(t)),t=Vt(t);return e}:gl,ho=kr;function po(t,e,n){for(var r=-1,i=(e=_i(e,t)).length,o=!1;++r<i;){var a=zo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&tu(i)&&_o(a,i)&&(Va(t)||qa(t))}function vo(t){return"function"!=typeof t.constructor||xo(t)?{}:Un(Vt(t))}function go(t){return Va(t)||qa(t)||!!(Zt&&t&&t[Zt])}function _o(t,e){var n=typeof t;return!!(e=null==e?c:e)&&("number"==n||"symbol"!=n&&gt.test(t))&&t>-1&&t%1==0&&t<e}function yo(t,e,n){if(!eu(n))return!1;var r=typeof e;return!!("number"==r?Ka(n)&&_o(e,n.length):"string"==r&&e in n)&&Ta(n[e],t)}function mo(t,e){if(Va(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!su(t))||X.test(t)||!Y.test(t)||null!=e&&t in St(e)}function wo(t){var e=io(t),n=zn[e];if("function"!=typeof n||!(e in Bn.prototype))return!1;if(t===n)return!0;var r=ro(n);return!!r&&t===r[0]}(xn&&ho(new xn(new ArrayBuffer(1)))!=C||kn&&ho(new kn)!=b||An&&ho(An.resolve())!=A||Sn&&ho(new Sn)!=j||jn&&ho(new jn)!=R)&&(ho=t=>{var e=kr(t),r=e==k?t.constructor:n,i=r?Uo(r):"";if(i)switch(i){case Mn:return C;case Cn:return b;case On:return A;case Pn:return j;case Wn:return R}return e});var bo=Ot?Xa:_l;function xo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function ko(t){return t==t&&!eu(t)}function Ao(t,e){return r=>null!=r&&r[t]===e&&(e!==n||t in St(r))}function So(t,e,r){return e=gn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=gn(n.length-e,0),a=wt(o);++i<o;)a[i]=n[e+i];i=-1;for(var u=wt(e+1);++i<e;)u[i]=n[i];return u[e]=r(a),ke(t,this,u)}}function jo(t,e){return e.length<2?t:br(t,ei(e,0,-1))}function Eo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var $o=Oo(Xr),Ro=he||((t,e)=>fe.setTimeout(t,e)),Mo=Oo(Qr);function Co(t,e,n){var r=e+"";return Mo(t,((t,e)=>{var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(it,"{\n/* [wrapped with "+e+"] */\n")})(r,((t,e)=>(Se(p,n=>{var r="_."+n[0];e&n[1]&&!Re(t,r)&&t.push(r)}),t.sort()))((t=>{var e=t.match(ot);return e?e[1].split(at):[]})(r),n)))}function Oo(t){var e=0,r=0;return function(){var i=yn(),o=16-(i-r);if(r=i,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(n,arguments)}}function Po(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var a=Hr(r,o),u=t[a];t[a]=t[r],t[r]=u}return t.length=e,t}var Wo,Lo,Io,No=(Wo=t=>{var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Q,(t,n,r,i)=>{e.push(r?i.replace(st,"$1"):n||t)}),e},Lo=La(Wo,t=>(500===Io.size&&Io.clear(),t)),Io=Lo.cache,Lo);function zo(t){if("string"==typeof t||su(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Uo(t){if(null!=t){try{return Pt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Do(t){if(t instanceof Bn)return t.clone();var e=new Tn(t.__wrapped__,t.__chain__);return e.__actions__=Ei(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var To=Gr((t,e)=>Ga(t)?sr(t,dr(e,1,Ga,!0)):[]),Bo=Gr((t,e)=>{var r=Yo(e);return Ga(r)&&(r=n),Ga(t)?sr(t,dr(e,1,Ga,!0),ao(r,2)):[]}),Fo=Gr((t,e)=>{var r=Yo(e);return Ga(r)&&(r=n),Ga(t)?sr(t,dr(e,1,Ga,!0),n,r):[]});function qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=gn(r+i,0)),ze(t,ao(e,3),i)}function Vo(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=du(r),o=r<0?gn(i+o,0):_n(o,i-1)),ze(t,ao(e,3),o,!0)}function Ho(t){return null!=t&&t.length?dr(t,1):[]}function Ko(t){return t&&t.length?t[0]:n}var Go=Gr(t=>{var e=Ce(t,di);return e.length&&e[0]===t[0]?Er(e):[]}),Zo=Gr(t=>{var e=Yo(t),r=Ce(t,di);return e===Yo(r)?e=n:r.pop(),r.length&&r[0]===t[0]?Er(r,ao(e,2)):[]}),Jo=Gr(t=>{var e=Yo(t),r=Ce(t,di);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?Er(r,n,e):[]});function Yo(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Xo=Gr(Qo);function Qo(t,e){return t&&t.length&&e&&e.length?qr(t,e):t}var ta=to((t,e)=>{var n=null==t?0:t.length,r=ir(t,e);return Vr(t,Ce(e,t=>_o(t,n)?+t:t).sort(Ai)),r});function ea(t){return null==t?t:bn.call(t)}var na=Gr(t=>li(dr(t,1,Ga,!0))),ra=Gr(t=>{var e=Yo(t);return Ga(e)&&(e=n),li(dr(t,1,Ga,!0),ao(e,2))}),ia=Gr(t=>{var e=Yo(t);return e="function"==typeof e?e:n,li(dr(t,1,Ga,!0),n,e)});function oa(t){if(!t||!t.length)return[];var e=0;return t=$e(t,t=>{if(Ga(t))return e=gn(t.length,e),!0}),Ke(e,e=>Ce(t,Fe(e)))}function aa(t,e){if(!t||!t.length)return[];var r=oa(t);return null==e?r:Ce(r,t=>ke(e,n,t))}var ua=Gr((t,e)=>Ga(t)?sr(t,e):[]),la=Gr(t=>pi($e(t,Ga))),sa=Gr(t=>{var e=Yo(t);return Ga(e)&&(e=n),pi($e(t,Ga),ao(e,2))}),ca=Gr(t=>{var e=Yo(t);return e="function"==typeof e?e:n,pi($e(t,Ga),n,e)}),fa=Gr(oa),ha=Gr(t=>{var e=t.length,r=e>1?t[e-1]:n;return r="function"==typeof r?(t.pop(),r):n,aa(t,r)});function pa(t){var e=zn(t);return e.__chain__=!0,e}function va(t,e){return e(t)}var da=to(function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=e=>ir(e,t);return!(e>1||this.__actions__.length)&&i instanceof Bn&&_o(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:va,args:[o],thisArg:n}),new Tn(i,this.__chain__).thru(t=>(e&&!t.length&&t.push(n),t))):this.thru(o)}),ga=Ri((t,e,n)=>{Wt.call(t,n)?++t[n]:rr(t,n,1)}),_a=Ii(qo),ya=Ii(Vo);function ma(t,e){return(Va(t)?Se:cr)(t,ao(e,3))}function wa(t,e){return(Va(t)?je:fr)(t,ao(e,3))}var ba=Ri((t,e,n)=>{Wt.call(t,n)?t[n].push(e):rr(t,n,[e])}),xa=Gr((t,e,n)=>{var r=-1,i="function"==typeof e,o=Ka(t)?wt(t.length):[];return cr(t,t=>{o[++r]=i?ke(e,t,n):$r(t,e,n)}),o}),ka=Ri((t,e,n)=>{rr(t,n,e)});function Aa(t,e){return(Va(t)?Ce:Nr)(t,ao(e,3))}var Sa=Ri((t,e,n)=>{t[n?0:1].push(e)},()=>[[],[]]),ja=Gr((t,e)=>{if(null==t)return[];var n=e.length;return n>1&&yo(t,e[0],e[1])?e=[]:n>2&&yo(e[0],e[1],e[2])&&(e=[e[0]]),Br(t,dr(e,1),[])}),Ea=ce||(()=>fe.Date.now());function $a(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Zi(t,u,n,n,n,n,e)}function Ra(t,e){var i;if("function"!=typeof e)throw new $t(r);return t=du(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=n),i}}var Ma=Gr((t,e,n)=>{var r=1;if(n.length){var i=un(n,oo(Ma));r|=a}return Zi(t,r,e,n,i)}),Ca=Gr((t,e,n)=>{var r=3;if(n.length){var i=un(n,oo(Ca));r|=a}return Zi(e,r,t,n,i)});function Oa(t,e,i){var o,a,u,l,s,c,f=0,h=!1,p=!1,v=!0;if("function"!=typeof t)throw new $t(r);function d(e){var r=o,i=a;return o=a=n,f=e,l=t.apply(i,r)}function g(t){var r=t-c;return c===n||r>=e||r<0||p&&t-f>=u}function _(){var t=Ea();if(g(t))return y(t);s=Ro(_,(t=>{var n=e-(t-c);return p?_n(n,u-(t-f)):n})(t))}function y(t){return s=n,v&&o?d(t):(o=a=n,l)}function m(){var t=Ea(),r=g(t);if(o=arguments,a=this,c=t,r){if(s===n)return(t=>(f=t,s=Ro(_,e),h?d(t):l))(c);if(p)return wi(s),s=Ro(_,e),d(c)}return s===n&&(s=Ro(_,e)),l}return e=_u(e)||0,eu(i)&&(h=!!i.leading,u=(p="maxWait"in i)?gn(_u(i.maxWait)||0,e):u,v="trailing"in i?!!i.trailing:v),m.cancel=()=>{s!==n&&wi(s),f=0,o=c=a=s=n},m.flush=()=>s===n?l:y(Ea()),m}var Pa=Gr((t,e)=>lr(t,1,e)),Wa=Gr((t,e,n)=>lr(t,_u(e)||0,n));function La(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new $t(r);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(La.Cache||Vn),n}function Ia(t){if("function"!=typeof t)throw new $t(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}La.Cache=Vn;var Na=yi(function(t,e){var n=(e=1==e.length&&Va(e[0])?Ce(e[0],Ze(ao())):Ce(dr(e,1),Ze(ao()))).length;return Gr(function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return ke(t,this,r)})}),za=Gr((t,e)=>{var r=un(e,oo(za));return Zi(t,a,n,e,r)}),Ua=Gr((t,e)=>{var r=un(e,oo(Ua));return Zi(t,64,n,e,r)}),Da=to((t,e)=>Zi(t,l,n,n,n,e));function Ta(t,e){return t===e||t!=t&&e!=e}var Ba=qi(Ar),Fa=qi((t,e)=>t>=e),qa=Rr(function(){return arguments}())?Rr:t=>nu(t)&&Wt.call(t,"callee")&&!Kt.call(t,"callee"),Va=wt.isArray,Ha=_e?Ze(_e):t=>nu(t)&&kr(t)==M;function Ka(t){return null!=t&&tu(t.length)&&!Xa(t)}function Ga(t){return nu(t)&&Ka(t)}var Za=Ie||_l,Ja=ye?Ze(ye):t=>nu(t)&&kr(t)==_;function Ya(t){if(!nu(t))return!1;var e=kr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ou(t)}function Xa(t){if(!eu(t))return!1;var e=kr(t);return e==m||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qa(t){return"number"==typeof t&&t==du(t)}function tu(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function eu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function nu(t){return null!=t&&"object"==typeof t}var ru=me?Ze(me):t=>nu(t)&&ho(t)==b;function iu(t){return"number"==typeof t||nu(t)&&kr(t)==x}function ou(t){if(!nu(t)||kr(t)!=k)return!1;var e=Vt(t);if(null===e)return!0;var n=Wt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Pt.call(n)==zt}var au=we?Ze(we):t=>nu(t)&&kr(t)==S,uu=be?Ze(be):t=>nu(t)&&ho(t)==j;function lu(t){return"string"==typeof t||!Va(t)&&nu(t)&&kr(t)==E}function su(t){return"symbol"==typeof t||nu(t)&&kr(t)==$}var cu=xe?Ze(xe):t=>nu(t)&&tu(t.length)&&!!ie[kr(t)],fu=qi(Ir),hu=qi((t,e)=>t<=e);function pu(t){if(!t)return[];if(Ka(t))return lu(t)?cn(t):Ei(t);if(Xt&&t[Xt])return(t=>{for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n})(t[Xt]());var e=ho(t);return(e==b?on:e==j?ln:Tu)(t)}function vu(t){return t?(t=_u(t))===s||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function du(t){var e=vu(t),n=e%1;return e==e?n?e-n:e:0}function gu(t){return t?or(du(t),0,h):0}function _u(t){if("number"==typeof t)return t;if(su(t))return f;if(eu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=eu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ge(t);var n=pt.test(t);return n||dt.test(t)?le(t.slice(2),n?2:8):ht.test(t)?f:+t}function yu(t){return $i(t,Pu(t))}function mu(t){return null==t?"":ui(t)}var wu=Mi((t,e)=>{if(xo(e)||Ka(e))$i(e,Ou(e),t);else for(var n in e)Wt.call(e,n)&&Qn(t,n,e[n])}),bu=Mi((t,e)=>{$i(e,Pu(e),t)}),xu=Mi((t,e,n,r)=>{$i(e,Pu(e),t,r)}),ku=Mi((t,e,n,r)=>{$i(e,Ou(e),t,r)}),Au=to(ir),Su=Gr((t,e)=>{t=St(t);var r=-1,i=e.length,o=i>2?e[2]:n;for(o&&yo(e[0],e[1],o)&&(i=1);++r<i;)for(var a=e[r],u=Pu(a),l=-1,s=u.length;++l<s;){var c=u[l],f=t[c];(f===n||Ta(f,Ct[c])&&!Wt.call(t,c))&&(t[c]=a[c])}return t}),ju=Gr(t=>(t.push(n,Yi),ke(Lu,n,t)));function Eu(t,e,r){var i=null==t?n:br(t,e);return i===n?r:i}function $u(t,e){return null!=t&&po(t,e,jr)}var Ru=Ui((t,e,n)=>{null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=n},el(il)),Mu=Ui((t,e,n)=>{null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),Wt.call(t,e)?t[e].push(n):t[e]=[n]},ao),Cu=Gr($r);function Ou(t){return Ka(t)?Gn(t):Wr(t)}function Pu(t){return Ka(t)?Gn(t,!0):Lr(t)}var Wu=Mi((t,e,n)=>{Dr(t,e,n)}),Lu=Mi((t,e,n,r)=>{Dr(t,e,n,r)}),Iu=to((t,e)=>{var n={};if(null==t)return n;var r=!1;e=Ce(e,e=>(e=_i(e,t),r||(r=e.length>1),e)),$i(t,no(t),n),r&&(n=ar(n,7,Xi));for(var i=e.length;i--;)si(n,e[i]);return n}),Nu=to((t,e)=>null==t?{}:((t,e)=>Fr(t,e,(e,n)=>$u(t,n)))(t,e));function zu(t,e){if(null==t)return{};var n=Ce(no(t),t=>[t]);return e=ao(e),Fr(t,n,(t,n)=>e(t,n[0]))}var Uu=Gi(Ou),Du=Gi(Pu);function Tu(t){return null==t?[]:Je(t,Ou(t))}var Bu=Wi((t,e,n)=>(e=e.toLowerCase(),t+(n?Fu(e):e)));function Fu(t){return Yu(mu(t).toLowerCase())}function qu(t){return(t=mu(t))&&t.replace(_t,tn).replace(Yt,"")}var Vu=Wi((t,e,n)=>t+(n?"-":"")+e.toLowerCase()),Hu=Wi((t,e,n)=>t+(n?" ":"")+e.toLowerCase()),Ku=Pi("toLowerCase"),Gu=Wi((t,e,n)=>t+(n?"_":"")+e.toLowerCase()),Zu=Wi((t,e,n)=>t+(n?" ":"")+Yu(e)),Ju=Wi((t,e,n)=>t+(n?" ":"")+e.toUpperCase()),Yu=Pi("toUpperCase");function Xu(t,e,r){return t=mu(t),(e=r?n:e)===n?(t=>ee.test(t))(t)?(t=>t.match(Qt)||[])(t):(t=>t.match(ut)||[])(t):t.match(e)||[]}var Qu=Gr((t,e)=>{try{return ke(t,n,e)}catch(r){return Ya(r)?r:new xt(r)}}),tl=to((t,e)=>(Se(e,e=>{e=zo(e),rr(t,e,Ma(t[e],t))}),t));function el(t){return()=>t}var nl=Ni(),rl=Ni(!0);function il(t){return t}function ol(t){return Pr("function"==typeof t?t:ar(t,1))}var al=Gr((t,e)=>n=>$r(n,t,e)),ul=Gr((t,e)=>n=>$r(t,n,e));function ll(t,e,n){var r=Ou(e),i=wr(e,r);null!=n||eu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Ou(e)));var o=!(eu(n)&&"chain"in n&&!n.chain),a=Xa(t);return Se(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ei(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Oe([this.value()],arguments))})}),t}function sl(){}var cl=Ti(Ce),fl=Ti(Ee),hl=Ti(Le);function pl(t){return mo(t)?Fe(zo(t)):(t=>e=>br(e,t))(t)}var vl=Fi(),dl=Fi(!0);function gl(){return[]}function _l(){return!1}var yl,ml=Di((t,e)=>t+e,0),wl=Hi("ceil"),bl=Di((t,e)=>t/e,1),xl=Hi("floor"),kl=Di((t,e)=>t*e,1),Al=Hi("round"),Sl=Di((t,e)=>t-e,0);return zn.after=function(t,e){if("function"!=typeof e)throw new $t(r);return t=du(t),function(){if(--t<1)return e.apply(this,arguments)}},zn.ary=$a,zn.assign=wu,zn.assignIn=bu,zn.assignInWith=xu,zn.assignWith=ku,zn.at=Au,zn.before=Ra,zn.bind=Ma,zn.bindAll=tl,zn.bindKey=Ca,zn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Va(t)?t:[t]},zn.chain=pa,zn.chunk=(t,e,r)=>{e=(r?yo(t,e,r):e===n)?1:gn(du(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,u=wt(pe(i/e));o<i;)u[a++]=ei(t,o,o+=e);return u},zn.compact=t=>{for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},zn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=wt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return Oe(Va(n)?Ei(n):[n],dr(e,1))},zn.cond=function(t){var e=null==t?0:t.length,n=ao();return t=e?Ce(t,t=>{if("function"!=typeof t[1])throw new $t(r);return[n(t[0]),t[1]]}):[],Gr(function(n){for(var r=-1;++r<e;){var i=t[r];if(ke(i[0],this,n))return ke(i[1],this,n)}})},zn.conforms=t=>(t=>{var e=Ou(t);return n=>ur(n,t,e)})(ar(t,1)),zn.constant=el,zn.countBy=ga,zn.create=(t,e)=>{var n=Un(t);return null==e?n:nr(n,e)},zn.curry=function t(e,r,i){var o=Zi(e,8,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},zn.curryRight=function t(e,r,i){var o=Zi(e,16,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},zn.debounce=Oa,zn.defaults=Su,zn.defaultsDeep=ju,zn.defer=Pa,zn.delay=Wa,zn.difference=To,zn.differenceBy=Bo,zn.differenceWith=Fo,zn.drop=(t,e,r)=>{var i=null==t?0:t.length;return i?ei(t,(e=r||e===n?1:du(e))<0?0:e,i):[]},zn.dropRight=(t,e,r)=>{var i=null==t?0:t.length;return i?ei(t,0,(e=i-(e=r||e===n?1:du(e)))<0?0:e):[]},zn.dropRightWhile=(t,e)=>t&&t.length?fi(t,ao(e,3),!0,!0):[],zn.dropWhile=(t,e)=>t&&t.length?fi(t,ao(e,3),!0):[],zn.fill=(t,e,r,i)=>{var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&yo(t,e,r)&&(r=0,i=o),((t,e,r,i)=>{var o=t.length;for((r=du(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:du(i))<0&&(i+=o),i=r>i?0:gu(i);r<i;)t[r++]=e;return t})(t,e,r,i)):[]},zn.filter=(t,e)=>(Va(t)?$e:vr)(t,ao(e,3)),zn.flatMap=(t,e)=>dr(Aa(t,e),1),zn.flatMapDeep=(t,e)=>dr(Aa(t,e),s),zn.flatMapDepth=(t,e,r)=>(r=r===n?1:du(r),dr(Aa(t,e),r)),zn.flatten=Ho,zn.flattenDeep=t=>null!=t&&t.length?dr(t,s):[],zn.flattenDepth=(t,e)=>null!=t&&t.length?dr(t,e=e===n?1:du(e)):[],zn.flip=t=>Zi(t,512),zn.flow=nl,zn.flowRight=rl,zn.fromPairs=t=>{for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},zn.functions=t=>null==t?[]:wr(t,Ou(t)),zn.functionsIn=t=>null==t?[]:wr(t,Pu(t)),zn.groupBy=ba,zn.initial=t=>null!=t&&t.length?ei(t,0,-1):[],zn.intersection=Go,zn.intersectionBy=Zo,zn.intersectionWith=Jo,zn.invert=Ru,zn.invertBy=Mu,zn.invokeMap=xa,zn.iteratee=ol,zn.keyBy=ka,zn.keys=Ou,zn.keysIn=Pu,zn.map=Aa,zn.mapKeys=(t,e)=>{var n={};return e=ao(e,3),yr(t,(t,r,i)=>{rr(n,e(t,r,i),t)}),n},zn.mapValues=(t,e)=>{var n={};return e=ao(e,3),yr(t,(t,r,i)=>{rr(n,r,e(t,r,i))}),n},zn.matches=t=>zr(ar(t,1)),zn.matchesProperty=(t,e)=>Ur(t,ar(e,1)),zn.memoize=La,zn.merge=Wu,zn.mergeWith=Lu,zn.method=al,zn.methodOf=ul,zn.mixin=ll,zn.negate=Ia,zn.nthArg=t=>(t=du(t),Gr(e=>Tr(e,t))),zn.omit=Iu,zn.omitBy=(t,e)=>zu(t,Ia(ao(e))),zn.once=t=>Ra(2,t),zn.orderBy=(t,e,r,i)=>null==t?[]:(Va(e)||(e=null==e?[]:[e]),Va(r=i?n:r)||(r=null==r?[]:[r]),Br(t,e,r)),zn.over=cl,zn.overArgs=Na,zn.overEvery=fl,zn.overSome=hl,zn.partial=za,zn.partialRight=Ua,zn.partition=Sa,zn.pick=Nu,zn.pickBy=zu,zn.property=pl,zn.propertyOf=t=>e=>null==t?n:br(t,e),zn.pull=Xo,zn.pullAll=Qo,zn.pullAllBy=(t,e,n)=>t&&t.length&&e&&e.length?qr(t,e,ao(n,2)):t,zn.pullAllWith=(t,e,r)=>t&&t.length&&e&&e.length?qr(t,e,n,r):t,zn.pullAt=ta,zn.range=vl,zn.rangeRight=dl,zn.rearg=Da,zn.reject=(t,e)=>(Va(t)?$e:vr)(t,Ia(ao(e,3))),zn.remove=(t,e)=>{var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ao(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Vr(t,i),n},zn.rest=(t,e)=>{if("function"!=typeof t)throw new $t(r);return Gr(t,e=e===n?e:du(e))},zn.reverse=ea,zn.sampleSize=(t,e,r)=>(e=(r?yo(t,e,r):e===n)?1:du(e),(Va(t)?Jn:Jr)(t,e)),zn.set=(t,e,n)=>null==t?t:Yr(t,e,n),zn.setWith=(t,e,r,i)=>(i="function"==typeof i?i:n,null==t?t:Yr(t,e,r,i)),zn.shuffle=t=>(Va(t)?Yn:ti)(t),zn.slice=(t,e,r)=>{var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&yo(t,e,r)?(e=0,r=i):(e=null==e?0:du(e),r=r===n?i:du(r)),ei(t,e,r)):[]},zn.sortBy=ja,zn.sortedUniq=t=>t&&t.length?oi(t):[],zn.sortedUniqBy=(t,e)=>t&&t.length?oi(t,ao(e,2)):[],zn.split=(t,e,r)=>(r&&"number"!=typeof r&&yo(t,e,r)&&(e=r=n),(r=r===n?h:r>>>0)?(t=mu(t))&&("string"==typeof e||null!=e&&!au(e))&&!(e=ui(e))&&rn(t)?mi(cn(t),0,r):t.split(e,r):[]),zn.spread=function(t,e){if("function"!=typeof t)throw new $t(r);return e=null==e?0:gn(du(e),0),Gr(function(n){var r=n[e],i=mi(n,0,e);return r&&Oe(i,r),ke(t,this,i)})},zn.tail=t=>{var e=null==t?0:t.length;return e?ei(t,1,e):[]},zn.take=(t,e,r)=>t&&t.length?ei(t,0,(e=r||e===n?1:du(e))<0?0:e):[],zn.takeRight=(t,e,r)=>{var i=null==t?0:t.length;return i?ei(t,(e=i-(e=r||e===n?1:du(e)))<0?0:e,i):[]},zn.takeRightWhile=(t,e)=>t&&t.length?fi(t,ao(e,3),!1,!0):[],zn.takeWhile=(t,e)=>t&&t.length?fi(t,ao(e,3)):[],zn.tap=(t,e)=>(e(t),t),zn.throttle=(t,e,n)=>{var i=!0,o=!0;if("function"!=typeof t)throw new $t(r);return eu(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Oa(t,e,{leading:i,maxWait:e,trailing:o})},zn.thru=va,zn.toArray=pu,zn.toPairs=Uu,zn.toPairsIn=Du,zn.toPath=t=>Va(t)?Ce(t,zo):su(t)?[t]:Ei(No(mu(t))),zn.toPlainObject=yu,zn.transform=(t,e,n)=>{var r=Va(t),i=r||Za(t)||cu(t);if(e=ao(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:eu(t)&&Xa(o)?Un(Vt(t)):{}}return(i?Se:yr)(t,(t,r,i)=>e(n,t,r,i)),n},zn.unary=t=>$a(t,1),zn.union=na,zn.unionBy=ra,zn.unionWith=ia,zn.uniq=t=>t&&t.length?li(t):[],zn.uniqBy=(t,e)=>t&&t.length?li(t,ao(e,2)):[],zn.uniqWith=(t,e)=>(e="function"==typeof e?e:n,t&&t.length?li(t,n,e):[]),zn.unset=(t,e)=>null==t||si(t,e),zn.unzip=oa,zn.unzipWith=aa,zn.update=(t,e,n)=>null==t?t:ci(t,e,gi(n)),zn.updateWith=(t,e,r,i)=>(i="function"==typeof i?i:n,null==t?t:ci(t,e,gi(r),i)),zn.values=Tu,zn.valuesIn=t=>null==t?[]:Je(t,Pu(t)),zn.without=ua,zn.words=Xu,zn.wrap=(t,e)=>za(gi(e),t),zn.xor=la,zn.xorBy=sa,zn.xorWith=ca,zn.zip=fa,zn.zipObject=(t,e)=>vi(t||[],e||[],Qn),zn.zipObjectDeep=(t,e)=>vi(t||[],e||[],Yr),zn.zipWith=ha,zn.entries=Uu,zn.entriesIn=Du,zn.extend=bu,zn.extendWith=xu,ll(zn,zn),zn.add=ml,zn.attempt=Qu,zn.camelCase=Bu,zn.capitalize=Fu,zn.ceil=wl,zn.clamp=(t,e,r)=>(r===n&&(r=e,e=n),r!==n&&(r=(r=_u(r))==r?r:0),e!==n&&(e=(e=_u(e))==e?e:0),or(_u(t),e,r)),zn.clone=t=>ar(t,4),zn.cloneDeep=t=>ar(t,5),zn.cloneDeepWith=(t,e)=>ar(t,5,e="function"==typeof e?e:n),zn.cloneWith=(t,e)=>ar(t,4,e="function"==typeof e?e:n),zn.conformsTo=(t,e)=>null==e||ur(t,e,Ou(e)),zn.deburr=qu,zn.defaultTo=(t,e)=>null==t||t!=t?e:t,zn.divide=bl,zn.endsWith=(t,e,r)=>{t=mu(t),e=ui(e);var i=t.length,o=r=r===n?i:or(du(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},zn.eq=Ta,zn.escape=t=>(t=mu(t))&&K.test(t)?t.replace(V,en):t,zn.escapeRegExp=t=>(t=mu(t))&&et.test(t)?t.replace(tt,"\\$&"):t,zn.every=(t,e,r)=>{var i=Va(t)?Ee:hr;return r&&yo(t,e,r)&&(e=n),i(t,ao(e,3))},zn.find=_a,zn.findIndex=qo,zn.findKey=(t,e)=>Ne(t,ao(e,3),yr),zn.findLast=ya,zn.findLastIndex=Vo,zn.findLastKey=(t,e)=>Ne(t,ao(e,3),mr),zn.floor=xl,zn.forEach=ma,zn.forEachRight=wa,zn.forIn=(t,e)=>null==t?t:gr(t,ao(e,3),Pu),zn.forInRight=(t,e)=>null==t?t:_r(t,ao(e,3),Pu),zn.forOwn=(t,e)=>t&&yr(t,ao(e,3)),zn.forOwnRight=(t,e)=>t&&mr(t,ao(e,3)),zn.get=Eu,zn.gt=Ba,zn.gte=Fa,zn.has=(t,e)=>null!=t&&po(t,e,Sr),zn.hasIn=$u,zn.head=Ko,zn.identity=il,zn.includes=(t,e,n,r)=>{t=Ka(t)?t:Tu(t),n=n&&!r?du(n):0;var i=t.length;return n<0&&(n=gn(i+n,0)),lu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Ue(t,e,n)>-1},zn.indexOf=(t,e,n)=>{var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:du(n);return i<0&&(i=gn(r+i,0)),Ue(t,e,i)},zn.inRange=(t,e,r)=>(e=vu(e),r===n?(r=e,e=0):r=vu(r),((t,e,n)=>t>=_n(e,n)&&t<gn(e,n))(t=_u(t),e,r)),zn.invoke=Cu,zn.isArguments=qa,zn.isArray=Va,zn.isArrayBuffer=Ha,zn.isArrayLike=Ka,zn.isArrayLikeObject=Ga,zn.isBoolean=t=>!0===t||!1===t||nu(t)&&kr(t)==g,zn.isBuffer=Za,zn.isDate=Ja,zn.isElement=t=>nu(t)&&1===t.nodeType&&!ou(t),zn.isEmpty=t=>{if(null==t)return!0;if(Ka(t)&&(Va(t)||"string"==typeof t||"function"==typeof t.splice||Za(t)||cu(t)||qa(t)))return!t.length;var e=ho(t);if(e==b||e==j)return!t.size;if(xo(t))return!Wr(t).length;for(var n in t)if(Wt.call(t,n))return!1;return!0},zn.isEqual=(t,e)=>Mr(t,e),zn.isEqualWith=(t,e,r)=>{var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?Mr(t,e,n,r):!!i},zn.isError=Ya,zn.isFinite=t=>"number"==typeof t&&qe(t),zn.isFunction=Xa,zn.isInteger=Qa,zn.isLength=tu,zn.isMap=ru,zn.isMatch=(t,e)=>t===e||Cr(t,e,lo(e)),zn.isMatchWith=(t,e,r)=>(r="function"==typeof r?r:n,Cr(t,e,lo(e),r)),zn.isNaN=t=>iu(t)&&t!=+t,zn.isNative=t=>{if(bo(t))throw new xt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Or(t)},zn.isNil=t=>null==t,zn.isNull=t=>null===t,zn.isNumber=iu,zn.isObject=eu,zn.isObjectLike=nu,zn.isPlainObject=ou,zn.isRegExp=au,zn.isSafeInteger=t=>Qa(t)&&t>=-9007199254740991&&t<=c,zn.isSet=uu,zn.isString=lu,zn.isSymbol=su,zn.isTypedArray=cu,zn.isUndefined=t=>t===n,zn.isWeakMap=t=>nu(t)&&ho(t)==R,zn.isWeakSet=t=>nu(t)&&"[object WeakSet]"==kr(t),zn.join=(t,e)=>null==t?"":vn.call(t,e),zn.kebabCase=Vu,zn.last=Yo,zn.lastIndexOf=(t,e,r)=>{var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=du(r))<0?gn(i+o,0):_n(o,i-1)),e==e?((t,e,n)=>{for(var r=n+1;r--;)if(t[r]===e)return r;return r})(t,e,o):ze(t,Te,o,!0)},zn.lowerCase=Hu,zn.lowerFirst=Ku,zn.lt=fu,zn.lte=hu,zn.max=t=>t&&t.length?pr(t,il,Ar):n,zn.maxBy=(t,e)=>t&&t.length?pr(t,ao(e,2),Ar):n,zn.mean=t=>Be(t,il),zn.meanBy=(t,e)=>Be(t,ao(e,2)),zn.min=t=>t&&t.length?pr(t,il,Ir):n,zn.minBy=(t,e)=>t&&t.length?pr(t,ao(e,2),Ir):n,zn.stubArray=gl,zn.stubFalse=_l,zn.stubObject=()=>({}),zn.stubString=()=>"",zn.stubTrue=()=>!0,zn.multiply=kl,zn.nth=(t,e)=>t&&t.length?Tr(t,du(e)):n,zn.noConflict=function(){return fe._===this&&(fe._=Ut),this},zn.noop=sl,zn.now=Ea,zn.pad=(t,e,n)=>{t=mu(t);var r=(e=du(e))?sn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Bi(de(i),n)+t+Bi(pe(i),n)},zn.padEnd=(t,e,n)=>{t=mu(t);var r=(e=du(e))?sn(t):0;return e&&r<e?t+Bi(e-r,n):t},zn.padStart=(t,e,n)=>{t=mu(t);var r=(e=du(e))?sn(t):0;return e&&r<e?Bi(e-r,n)+t:t},zn.parseInt=(t,e,n)=>(n||null==e?e=0:e&&(e=+e),mn(mu(t).replace(nt,""),e||0)),zn.random=(t,e,r)=>{if(r&&"boolean"!=typeof r&&yo(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=vu(t),e===n?(e=t,t=0):e=vu(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=wn();return _n(t+o*(e-t+ue("1e-"+((o+"").length-1))),e)}return Hr(t,e)},zn.reduce=function(t,e,n){var r=Va(t)?Pe:Ve,i=arguments.length<3;return r(t,ao(e,4),n,i,cr)},zn.reduceRight=function(t,e,n){var r=Va(t)?We:Ve,i=arguments.length<3;return r(t,ao(e,4),n,i,fr)},zn.repeat=(t,e,r)=>(e=(r?yo(t,e,r):e===n)?1:du(e),Kr(mu(t),e)),zn.replace=function(){var t=arguments,e=mu(t[0]);return t.length<3?e:e.replace(t[1],t[2])},zn.result=(t,e,r)=>{var i=-1,o=(e=_i(e,t)).length;for(o||(o=1,t=n);++i<o;){var a=null==t?n:t[zo(e[i])];a===n&&(i=o,a=r),t=Xa(a)?a.call(t):a}return t},zn.round=Al,zn.runInContext=t,zn.sample=t=>(Va(t)?Zn:Zr)(t),zn.size=t=>{if(null==t)return 0;if(Ka(t))return lu(t)?sn(t):t.length;var e=ho(t);return e==b||e==j?t.size:Wr(t).length},zn.snakeCase=Gu,zn.some=(t,e,r)=>{var i=Va(t)?Le:ni;return r&&yo(t,e,r)&&(e=n),i(t,ao(e,3))},zn.sortedIndex=(t,e)=>ri(t,e),zn.sortedIndexBy=(t,e,n)=>ii(t,e,ao(n,2)),zn.sortedIndexOf=(t,e)=>{var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&Ta(t[r],e))return r}return-1},zn.sortedLastIndex=(t,e)=>ri(t,e,!0),zn.sortedLastIndexBy=(t,e,n)=>ii(t,e,ao(n,2),!0),zn.sortedLastIndexOf=(t,e)=>{if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(Ta(t[n],e))return n}return-1},zn.startCase=Zu,zn.startsWith=(t,e,n)=>(t=mu(t),n=null==n?0:or(du(n),0,t.length),e=ui(e),t.slice(n,n+e.length)==e),zn.subtract=Sl,zn.sum=t=>t&&t.length?He(t,il):0,zn.sumBy=(t,e)=>t&&t.length?He(t,ao(e,2)):0,zn.template=(t,e,r)=>{var i=zn.templateSettings;r&&yo(t,e,r)&&(e=n),t=mu(t),e=xu({},e,i,Ji);var o,a,u=xu({},e.imports,i.imports,Ji),l=Ou(u),s=Je(u,l),c=0,f=e.interpolate||yt,h="__p += '",p=jt((e.escape||yt).source+"|"+f.source+"|"+(f===J?ct:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),v="//# sourceURL="+(Wt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(p,(e,n,r,i,u,l)=>(r||(r=i),h+=t.slice(c,l).replace(mt,nn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),u&&(a=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=l+e.length,e)),h+="';\n";var d=Wt.call(e,"variable")&&e.variable;if(d){if(lt.test(d))throw new xt("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(T,""):h).replace(B,"$1").replace(F,"$1;"),h="function("+(d||"obj")+") {\n"+(d?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qu(()=>kt(l,v+"return "+h).apply(n,s));if(g.source=h,Ya(g))throw g;return g},zn.times=(t,e)=>{if((t=du(t))<1||t>c)return[];var n=h,r=_n(t,h);e=ao(e),t-=h;for(var i=Ke(r,e);++n<t;)e(n);return i},zn.toFinite=vu,zn.toInteger=du,zn.toLength=gu,zn.toLower=t=>mu(t).toLowerCase(),zn.toNumber=_u,zn.toSafeInteger=t=>t?or(du(t),-9007199254740991,c):0===t?t:0,zn.toString=mu,zn.toUpper=t=>mu(t).toUpperCase(),zn.trim=(t,e,r)=>{if((t=mu(t))&&(r||e===n))return Ge(t);if(!t||!(e=ui(e)))return t;var i=cn(t),o=cn(e);return mi(i,Xe(i,o),Qe(i,o)+1).join("")},zn.trimEnd=(t,e,r)=>{if((t=mu(t))&&(r||e===n))return t.slice(0,fn(t)+1);if(!t||!(e=ui(e)))return t;var i=cn(t);return mi(i,0,Qe(i,cn(e))+1).join("")},zn.trimStart=(t,e,r)=>{if((t=mu(t))&&(r||e===n))return t.replace(nt,"");if(!t||!(e=ui(e)))return t;var i=cn(t);return mi(i,Xe(i,cn(e))).join("")},zn.truncate=(t,e)=>{var r=30,i="...";if(eu(e)){var o="separator"in e?e.separator:o;r="length"in e?du(e.length):r,i="omission"in e?ui(e.omission):i}var a=(t=mu(t)).length;if(rn(t)){var u=cn(t);a=u.length}if(r>=a)return t;var l=r-sn(i);if(l<1)return i;var s=u?mi(u,0,l).join(""):t.slice(0,l);if(o===n)return s+i;if(u&&(l+=s.length-l),au(o)){if(t.slice(l).search(o)){var c,f=s;for(o.global||(o=jt(o.source,mu(ft.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var h=c.index;s=s.slice(0,h===n?l:h)}}else if(t.indexOf(ui(o),l)!=l){var p=s.lastIndexOf(o);p>-1&&(s=s.slice(0,p))}return s+i},zn.unescape=t=>(t=mu(t))&&H.test(t)?t.replace(q,hn):t,zn.uniqueId=t=>{var e=++Lt;return mu(t)+e},zn.upperCase=Ju,zn.upperFirst=Yu,zn.each=ma,zn.eachRight=wa,zn.first=Ko,ll(zn,(yl={},yr(zn,(t,e)=>{Wt.call(zn.prototype,e)||(yl[e]=t)}),yl),{chain:!1}),zn.VERSION="4.17.21",Se(["bind","bindKey","curry","curryRight","partial","partialRight"],t=>{zn[t].placeholder=zn}),Se(["drop","take"],function(t,e){Bn.prototype[t]=function(r){r=r===n?1:gn(du(r),0);var i=this.__filtered__&&!e?new Bn(this):this.clone();return i.__filtered__?i.__takeCount__=_n(r,i.__takeCount__):i.__views__.push({size:_n(r,h),type:t+(i.__dir__<0?"Right":"")}),i},Bn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Se(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Bn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ao(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),Se(["head","last"],function(t,e){var n="take"+(e?"Right":"");Bn.prototype[t]=function(){return this[n](1).value()[0]}}),Se(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Bn.prototype[t]=function(){return this.__filtered__?new Bn(this):this[n](1)}}),Bn.prototype.compact=function(){return this.filter(il)},Bn.prototype.find=function(t){return this.filter(t).head()},Bn.prototype.findLast=function(t){return this.reverse().find(t)},Bn.prototype.invokeMap=Gr(function(t,e){return"function"==typeof t?new Bn(this):this.map(n=>$r(n,t,e))}),Bn.prototype.reject=function(t){return this.filter(Ia(ao(t)))},Bn.prototype.slice=function(t,e){t=du(t);var r=this;return r.__filtered__&&(t>0||e<0)?new Bn(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=du(e))<0?r.dropRight(-e):r.take(e-t)),r)},Bn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Bn.prototype.toArray=function(){return this.take(h)},yr(Bn.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=zn[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(zn.prototype[e]=function(){var e=this.__wrapped__,u=i?[1]:arguments,l=e instanceof Bn,s=u[0],c=l||Va(e),f=t=>{var e=o.apply(zn,Oe([t],u));return i&&h?e[0]:e};c&&r&&"function"==typeof s&&1!=s.length&&(l=c=!1);var h=this.__chain__,p=!!this.__actions__.length,v=a&&!h,d=l&&!p;if(!a&&c){e=d?e:new Bn(this);var g=t.apply(e,u);return g.__actions__.push({func:va,args:[f],thisArg:n}),new Tn(g,h)}return v&&d?t.apply(this,u):(g=this.thru(f),v?i?g.value()[0]:g.value():g)})}),Se(["pop","push","shift","sort","splice","unshift"],function(t){var e=Rt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);zn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Va(i)?i:[],t)}return this[n](n=>e.apply(Va(n)?n:[],t))}}),yr(Bn.prototype,(t,e)=>{var n=zn[e];if(n){var r=n.name+"";Wt.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:e,func:n})}}),Rn[zi(n,2).name]=[{name:"wrapper",func:n}],Bn.prototype.clone=function(){var t=new Bn(this.__wrapped__);return t.__actions__=Ei(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ei(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ei(this.__views__),t},Bn.prototype.reverse=function(){if(this.__filtered__){var t=new Bn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Bn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Va(t),r=e<0,i=n?t.length:0,o=((t,e,n)=>{for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_n(e,t+a);break;case"takeRight":t=gn(t,e-a)}}return{start:t,end:e}})(0,i,this.__views__),a=o.start,u=o.end,l=u-a,s=r?u:a-1,c=this.__iteratees__,f=c.length,h=0,p=_n(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return hi(t,this.__actions__);var v=[];t:for(;l--&&h<p;){for(var d=-1,g=t[s+=e];++d<f;){var _=c[d],y=_.iteratee,m=_.type,w=y(g);if(2==m)g=w;else if(!w){if(1==m)continue t;break t}}v[h++]=g}return v},zn.prototype.at=da,zn.prototype.chain=function(){return pa(this)},zn.prototype.commit=function(){return new Tn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===n&&(this.__values__=pu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},zn.prototype.plant=function(t){for(var e,r=this;r instanceof Dn;){var i=Do(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},zn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Bn){var e=t;return this.__actions__.length&&(e=new Bn(this)),(e=e.reverse()).__actions__.push({func:va,args:[ea],thisArg:n}),new Tn(e,this.__chain__)}return this.thru(ea)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,Xt&&(zn.prototype[Xt]=function(){return this}),zn}();pe?((pe.exports=pn)._=pn,he._=pn):fe._=pn}.call(Si)),Ai.exports;var t,e}var Ei=ji();const $i={chatScreen:{inputContainer:{cssClass:["div.default-chat-screen > div.mt-2.mb-2.flex.items-stretch.w-full"],className:`${ni}-input-container`},textarea:{cssClass:["div.default-chat-screen > div.mt-2.mb-2.flex.items-stretch.w-full > textarea"],className:`${ni}-input-textarea`},sendButton:{cssClass:["div.default-chat-screen > button.button-icon-send",".button-icon-send"],className:`${ni}-send-button`}}};function Ri(t){const e=document;if(!t)return null;if(t.dataId){const n=e.querySelector(`[data-id="${t.dataId}"]`);if(n)return n.classList.contains(t.className)||(n.className=`${t.className} ${n.className}`.trim()),n}for(const n of[null==t?void 0:t.className,...(null==t?void 0:t.cssClass)??[]])if(n)try{const r=e.querySelector(n.startsWith(".")?n:`.${n}`);if(r)return r.classList.contains(t.className)||(r.className=`${t.className} ${r.className}`.trim()),r}catch{}for(const n of(null==t?void 0:t.cssClass)??[])try{const r=e.querySelector(n);if(r)return r.classList.contains(t.className)||(r.className=`${t.className} ${r.className}`.trim()),r}catch{}return null}const Mi={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var Ci=ar("<svg><!><!></svg>");function Oi(t,e){const n=Yr(e,["children","$$slots","$$events","$$legacy"]),r=Yr(n,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"]);Tt(e);let i=Qr(e,"name",8,void 0),o=Qr(e,"color",8,"currentColor"),a=Qr(e,"size",8,24),u=Qr(e,"strokeWidth",8,2),l=Qr(e,"absoluteStrokeWidth",8,!1),s=Qr(e,"iconNode",24,()=>[]);Kr();var c=Ci();Tr(c,(t,e)=>({...Mi,...r,width:a(),height:a(),stroke:o(),"stroke-width":t,class:e}),[()=>(Tn(l()),Tn(u()),Tn(a()),zn(()=>l()?24*Number(u())/Number(a()):u())),()=>(Tn(i()),Tn(n),zn(()=>((...t)=>t.filter((t,e,n)=>Boolean(t)&&n.indexOf(t)===e).join(" "))("lucide-icon","lucide",i()?`lucide-${i()}`:"",n.class)))]);var f=Ne(c);mr(f,1,s,gr,(t,e)=>{var n=fe(()=>function(t,e){if(Array.isArray(t))return t;if(!(Symbol.iterator in t))return Array.from(t);const n=[];for(const r of t)if(n.push(r),n.length===e)break;return n}(Ln(e),2));var r=ur();!function(t,e,n,r){var i=null,o=new vr(t,!1);Ye(()=>{const t=e()||null;if(null!==t)return o.ensure(t,e=>{if(t){if(rr(i=document.createElementNS("http://www.w3.org/2000/svg",t),i),r){var n=i.appendChild(We());r(i,n)}_n.nodes.end=i,e.before(i)}}),()=>{};o.ensure(null,null)},kt),Ve(()=>{})}(ze(r),()=>Ln(n)[0],0,t=>{Tr(t,()=>({...Ln(n)[1]}))}),lr(t,r)}),kr(Ue(f),e,"default",{}),lr(t,c),Bt()}function Pi(t,e){const n=Yr(e,["children","$$slots","$$events","$$legacy"]),r=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20"}]];Oi(t,function(...t){return new Proxy({props:t},Xr)}({name:"book"},()=>n,{get iconNode(){return r},children(t){var n=ur();kr(ze(n),e,"default",{}),lr(t,n)},$$slots:{default:!0}}))}var Wi=ir('<button class="flex justify-center border-y border-darkborderc items-center text-gray-100 p-3 peer-focus:border-textcolor hover:bg-blue-500 transition-colors button-icon-ebook"><!></button>');function Li(t,e){Tt(e);let n=we("44px");ti(()=>{const t=Ri($i.chatScreen.textarea);t&&xe(n,`${t.scrollHeight}px`)});var r=Wi();let i;r.__click=t=>{console.log("book button clicked"),t.stopPropagation()},Pi(Ne(r),{}),Je(()=>i=Or(r,"",i,{height:Ln(n)})),lr(t,r),Bt()}function Ii(t,e){Tt(e);let n=we(null),r=we(null);const i=Ei.debounce(function(){const t=Ri($i.chatScreen.inputContainer),e=Ri($i.chatScreen.sendButton);Ei.isNil(t)||function({id:t,component:e,target:n,anchor:r=null,props:i={},wrapperTag:o="div",useContents:a=!0}){if(!e||!n)return console.warn("[safeMount] id, component, targetì€ í•„ìˆ˜ìž…ë‹ˆë‹¤."),null;if(ai.has(t))return ai.get(t);const u=`data-mounted-${t}`;if(n.hasAttribute(u))return console.warn(`[safeMount] ${t}ëŠ” ì´ë¯¸ ë§ˆìš´íŠ¸ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.`),null;try{const l=document.createElement(o);l.setAttribute("data-svelte-wrapper",t),a&&(l.style.display="contents");const s=cr(e,{target:l,props:i});r&&r.parentElement===n?n.insertBefore(l,r):n.appendChild(l),n.setAttribute(u,"true");const c={instance:s,wrapper:l,target:n,cleanup(){return ui(t)},flagKey:u};return ai.set(t,c),c}catch(l){return console.error(`[safeMount] ${t} ë§ˆìš´íŠ¸ ì‹¤íŒ¨:`,l),null}}({id:"book-button",component:Li,target:t,anchor:e})},100);ti(()=>{xe(n,oi.getInstance(),!0),Ei.isNil(Ln(n))?console.log(`[${ni}] RisuAPI is not initialized`):(!function(){Ei.isNil(Ln(r))||Ln(r).disconnect();xe(r,new MutationObserver(()=>{i()}),!0),Ln(r).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}),i()}(),console.log(`[${ni}] plugin loaded`))}),ei(()=>{Ei.isNil(Ln(r))||Ln(r).disconnect(),ui("book-button"),i.cancel(),console.log(`${ni} ì–¸ë¡œë“œ`)}),Bt()}Qn(["click"]),(async()=>{try{const t=oi.getInstance(globalThis.__pluginApis__);if(!(await t.initialize()))return void console.error(`[${ni}] Failed to initialize RisuAPI`);bi({silent:!0}).catch(t=>{console.warn("[App] Update check failed:",t)});const e=document.createElement("div");e.id=`${ni}-root`,document.body.appendChild(e);const n=cr(Ii,{target:e});console.log(`${ni} v${ri} loaded`),t.onUnload(()=>{pr(n),e.remove()})}catch(t){console.error(`[${ni}] Initialization failed:`,t)}})()});
